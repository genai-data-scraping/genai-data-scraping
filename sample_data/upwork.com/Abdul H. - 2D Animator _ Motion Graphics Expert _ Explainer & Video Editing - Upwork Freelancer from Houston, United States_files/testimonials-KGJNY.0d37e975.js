(window.webpackJsonp=window.webpackJsonp||[]).push([[492],{1482:function(t,e,n){var content=n(2619);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("3ac3e6a9",content,!0,{sourceMap:!1})},2618:function(t,e,n){"use strict";n(1482)},2619:function(t,e,n){var o=n(16)(function(i){return i[1]});o.push([t.i,".air-icon-exclamation-circle[data-v-f6c8b66a]{color:var(--border-color-btn-group)}.testimonial-request-date[data-v-f6c8b66a]{color:var(--bg-info-light);display:none;float:right;font-size:12px}@media (min-width:700px){.testimonial-request-date[data-v-f6c8b66a]{display:inline-block}}.air3-btn-link[data-v-f6c8b66a]{line-height:18px}.align-end[data-v-f6c8b66a]{align-items:flex-end}",""]),o.locals={},t.exports=o},3496:function(t,e,n){"use strict";n.r(e);var o=n(245),l=n(0),r=n(228),c=n(280),d=n(636),_=n(262),m=n(77),f=n(2616),v=n.n(f),T=n(229),h=Object(l.defineComponent)({name:"ProfileTestimonials",i18n:{messages:T.a},components:{UpCIcon:r.default,UpCIllustration:c.a,UpCPopover:_.default,UpCSwitch:d.a,TestimonialsRequestModal:Object(l.defineAsyncComponent)(()=>Promise.all([n.e(5),n.e(15),n.e(537)]).then(n.bind(null,3398))),UpI18n:o.a},props:{isOwner:{type:Boolean,required:!0},isLoading:{type:Boolean,default:!1},profile:{type:Object,required:!0},testimonials:{type:Array,required:!0},isEditModeEnabled:{type:Boolean,default:!1},isDisabledEditMode:{type:Boolean,default:!1},isRequestModalAutoOpenEnabled:{type:Boolean,default:!1}},emits:["event-log"],data:()=>({STATUS_PENDING:1,STATUS_SUBMITTED:2,STATUS_APPROVED:3,STATUS_UNAPPROVED:4,STATUS_HIDDEN:5}),computed:{questionCircleIcon:()=>Object(l.defineAsyncComponent)(()=>Promise.resolve().then(n.bind(null,417))),clockHistoryIcon:()=>Object(l.defineAsyncComponent)(()=>n.e(227).then(n.bind(null,1629))),completeCircleIcon:()=>Object(l.defineAsyncComponent)(()=>n.e(28).then(n.bind(null,3457))),freelancerSearchIllustration:()=>Object(l.defineAsyncComponent)(()=>n.e(111).then(n.bind(null,3537))),spinnerIcon:()=>Object(l.defineAsyncComponent)(()=>n.e(7).then(n.bind(null,635))),addIcon:()=>Object(l.defineAsyncComponent)(()=>Promise.resolve().then(n.bind(null,343))),isVisible(){return this.isEditModeEnabled||!!(this.testimonials||[]).find(t=>t.status===this.STATUS_APPROVED)},isIntroSectionVisible(){return this.isEditModeEnabled&&!this.isLoading&&!this.testimonials.length}},watch:{isRequestModalAutoOpenEnabled:{immediate:!1,handler(t){t&&this.openRequestTestimonialModal()}}},methods:{fetchTestimonials(){this.$store.dispatch("profileViewer/fetchTestimonials",this.profile.identity.uid)},async toggleTestimonialVisibility(t){const e=t.status!==this.STATUS_APPROVED;this.logEvent("click","toggle_testimonial_visibility",{testimonial:t,visible:e}),await m.a.toggleVisibilityGql(this.$httpGql,t.uid,e),this.fetchTestimonials()},lastNameToOneLetter:t=>t?"".concat(t[0],"."):"",openRequestTestimonialModal(){this.isOwner&&this.isVisible?this.$refs.modal?this.$refs.modal.open():console.error("Request testimonial modal open has been prevented, as modal reference is not available yet."):console.error("Request testimonial modal open has been prevented, as some conditions are not met.")},onClickRequestTestimonial(){this.openRequestTestimonialModal()},onTestimonialCreated(){this.createToaster({content:this.$t("cfeui_pro_YourTestimonialRequestHasBeenSent_226"),duration:4e3,type:"success"}),this.fetchTestimonials()},testimonialRequestDateFormatted(t){return this.$d(Date.parse(t.requestDate),"short")},logEvent(t,label,data){const e={testimonials:this.testimonials,personUid:this.profile.identity.uid,isOwner:this.isOwner},n={event:t,sublocation:"testimonials",label:label,data:Object.assign(e,data)};this.$emit("event-log",n)},testimonialsRequestModalMounted(){this.isRequestModalAutoOpenEnabled&&this.openRequestTestimonialModal()}},injectStyles:[v.a]}),C=(n(2618),n(7)),component=Object(C.a)(h,function(){var t=this,e=t._self._c;t._self._setupProxy;return t.isVisible?e("div",{staticClass:"air3-card air3-card-sections air3-card-outline profile-outer-card my-4x"},[t.isOwner?e("testimonials-request-modal",{ref:"modal",attrs:{profile:t.profile,settings:{}},on:{created:t.onTestimonialCreated,mounted:t.testimonialsRequestModalMounted}}):t._e(),t._v(" "),e("section",{staticClass:"air3-card-section"},[e("div",{staticClass:"d-flex mb-8x",staticStyle:{"align-items":"flex-start"}},[e("div",{staticClass:"flex-1"},[e("h3",{staticClass:"mb-0"},[t._v("\n          "+t._s(t.$t("cfeui_pro_Testimonials_116"))+"\n        ")]),t._v(" "),e("p",{staticClass:"mb-0"},[t._v("\n          "+t._s(t.$t("cfeui_pro_EndorsementsFromPastClients_117"))+"\n        ")])]),t._v(" "),t.isEditModeEnabled?e("button",{staticClass:"air3-btn air3-btn-secondary air3-btn-circle air3-btn-sm btn-request-testimonial",attrs:{title:t.$t("cfeui_pro_AddATestimonial_287"),disabled:t.isDisabledEditMode},on:{click:function(e){return t.onClickRequestTestimonial()}}},[e("up-c-icon",{attrs:{icon:t.addIcon,size:"sm"}})],1):t._e()]),t._v(" "),e("div",{staticClass:"testimonials air3-loader-container"},[e("div",{staticClass:"air3-loader-overlay",class:{"is-open":t.isLoading},attrs:{role:"alert"}},[e("up-c-icon",{attrs:{icon:t.spinnerIcon,size:"lg"}})],1),t._v(" "),t.isIntroSectionVisible?e("section",{staticClass:"air-card-divider-sm"},[e("div",{staticClass:"text-center pt-0"},[e("div",{staticClass:"air3-grid-container pt-0"},[e("div",{staticClass:"span-12"},[e("up-c-illustration",{staticClass:"my-6x",attrs:{illustration:t.freelancerSearchIllustration}}),t._v(" "),t.$slots.emptyStateHeaderLabel?t._e():e("div",{staticClass:"mt-0 mb-3x",attrs:{role:"presentation"}},[t._v("\n                "+t._s(t.$t("cfeui_pro_ShowcaseYourSkillsWithNonUpworkClientTes_118"))+"\n              ")]),t._v(" "),t.$slots.emptyStateHeaderLabel?e("div",{staticClass:"mt-0 mb-3x",attrs:{role:"presentation"}},[t._t("emptyStateHeaderLabel")],2):t._e(),t._v(" "),t.$slots.emptyStateButtonLabel?t._e():e("button",{staticClass:"air3-btn-link",attrs:{"aria-label":t.$t("cfeui_pro_RequestATestimonial_119"),disabled:t.isDisabledEditMode},on:{click:function(e){return t.onClickRequestTestimonial()}}},[t._v("\n                "+t._s(t.$t("cfeui_pro_RequestATestimonial_119"))+"\n              ")]),t._v(" "),t.$slots.emptyStateButtonLabel?e("button",{staticClass:"air3-btn-link",attrs:{"aria-label":t.$t("cfeui_pro_RequestATestimonial_119"),disabled:t.isDisabledEditMode},on:{click:function(e){return t.onClickRequestTestimonial()}}},[t._t("emptyStateButtonLabel")],2):t._e()],1)])])]):t._e(),t._v(" "),t._l(t.testimonials,function(n,o){return e("section",{key:n.uid,staticClass:"testimonial-item",class:{"status-pending":n.status===t.STATUS_PENDING,"status-submitted":n.status===t.STATUS_SUBMITTED,"status-approved":n.status===t.STATUS_APPROVED,"status-hidden":n.status===t.STATUS_HIDDEN}},[e("div",{staticClass:"air3-grid-container"},[!n.quote||n.status!==t.STATUS_APPROVED&&n.status!==t.STATUS_HIDDEN?t._e():e("div",{staticClass:"span-12 d-flex justify-space-between"},[e("div",[e("p",{staticClass:"mb-6x"},[t._v('"'+t._s(n.quote)+'"')]),t._v(" "),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"avatar mr-6x"}),t._v(" "),e("p",{staticClass:"text-base"},[e("strong",[t._v("\n                    "+t._s(n.firstName)+"\n                    "+t._s(t.lastNameToOneLetter(n.lastName))+"\n                    "),n.position?e("span",[t._v("\n                      | "+t._s(n.position)+"\n                    ")]):t._e()]),t._v(" "),e("br"),t._v(" "),n.projectName?e("span",[t._v("\n                    "+t._s(n.projectName)+"\n                  ")]):t._e(),t._v(" "),e("span",{staticClass:"vertical-align-middle pr-3x"},[t._v("\n                    "+t._s(t.$d(Date.parse(n.createdTs),{month:"short",year:"numeric"}))+"\n                    ")]),t._v(" "),e("up-c-icon",{staticClass:"text-primary vertical-align-middle",attrs:{icon:t.completeCircleIcon,size:"sm"}}),t._v(" "),e("span",{staticClass:"vertical-align-middle text-light-on-inverse"},[t._v("\n                    "+t._s(t.$t("cfeui_pro_Verified_57"))+"\n                  ")])],1)])]),t._v(" "),t.isEditModeEnabled?e("div",{staticClass:"d-flex flex-column align-end"},[e("div",{staticClass:"d-flex align-items-center"},[e("span",{staticClass:"d-block text-base mr-2x"},[t._v("\n                  "+t._s(t.$t("cfeui_pro_Visibility_135"))+"\n                ")]),t._v(" "),e("up-c-switch",{staticClass:"d-inline-block vertical-align-middle",attrs:{"model-value":n.status!==t.STATUS_HIDDEN},on:{change:function(e){return t.toggleTestimonialVisibility(n)},"update:model-value":function(e){return t.toggleTestimonialVisibility(n)}}})],1)]):t._e()]),t._v(" "),!t.isEditModeEnabled||n.status!==t.STATUS_PENDING&&n.status!==t.STATUS_SUBMITTED?t._e():e("div",{staticClass:"span-12"},[e("up-c-icon",{staticClass:"m-sm-right",attrs:{icon:t.clockHistoryIcon,size:"sm"}}),t._v(" "),n.status===t.STATUS_PENDING?e("span",[t._v("\n              "+t._s(t.$t("cfeui_pro_YourTestimonialRequestIsAwaitingNTestimo_211",{firstName:n.firstName}))+"\n              "),n.requestDate?e("span",{staticClass:"testimonial-request-date"},[e("UpI18n",{attrs:{path:"cfeui_pro_RequestSent_121.fullText",messages:t.$i18n.messages,tag:"span"},scopedSlots:t._u([{key:"boldText",fn:function(){return[e("strong",[t._v("\n                      "+t._s(t.$t("cfeui_pro_RequestSent_121.boldText"))+"\n                    ")])]},proxy:!0},n.requestDate?{key:"requestDate",fn:function(){return[t._v("\n                    "+t._s(t.testimonialRequestDateFormatted(n))+"\n                  ")]},proxy:!0}:null],null,!0)})],1):t._e()]):t._e(),t._v(" "),n.status===t.STATUS_SUBMITTED?e("span",[t._v("\n              "+t._s(t.$t("cfeui_pro_YourTestimonialRequestToTestimonialFirst_212",{firstName:n.firstName}))+"\n              "),n.requestDate?e("span",{staticClass:"testimonial-request-date d-flex align-items-center"},[e("up-c-popover",{attrs:{"auto-close":!1,target:"#request-info",size:"md",trigger:"hover",placement:"top"}},[e("p",[t._v("\n                    "+t._s(t.$t("cfeui_pro_WellEmailYouAsSoonAsYourTestimonialIsApp_120"))+"\n                  ")])]),t._v(" "),e("up-c-icon",{staticClass:"mr-1x",attrs:{id:"request-info",icon:t.questionCircleIcon,size:"sm"}}),t._v(" "),e("UpI18n",{attrs:{path:"cfeui_pro_RequestSent_121.fullText",messages:t.$i18n.messages,tag:"span"},scopedSlots:t._u([{key:"boldText",fn:function(){return[e("strong",[t._v("\n                      "+t._s(t.$t("cfeui_pro_RequestSent_121.boldText"))+"\n                    ")])]},proxy:!0},n.requestDate?{key:"requestDate",fn:function(){return[t._v("\n                    "+t._s(t.testimonialRequestDateFormatted(n))+"\n                  ")]},proxy:!0}:null],null,!0)})],1):t._e()]):t._e()],1)]),t._v(" "),o<t.testimonials.length-1?e("hr"):t._e()])}),t._v(" "),t.isEditModeEnabled&&t.testimonials.length?e("section",[e("hr"),t._v(" "),e("button",{staticClass:"air3-btn air3-btn-link px-0 m-0",attrs:{disabled:t.isDisabledEditMode},on:{click:function(e){return t.onClickRequestTestimonial()}}},[e("up-c-icon",{attrs:{icon:t.addIcon,size:"sm"}}),t._v("\n          "+t._s(t.$t("cfeui_pro_RequestANewTestimonial_122"))+"\n        ")],1)]):t._e()],2)])],1):t._e()},[],!1,null,"f6c8b66a",null);e.default=component.exports}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/FreelancerProfileNuxt/testimonials-KGJNY.0d37e975.js.map