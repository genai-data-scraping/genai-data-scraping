(window.webpackJsonp=window.webpackJsonp||[]).push([[287],{1471:function(n,t,o){var content=o(2592);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,o(17).default)("421551d1",content,!0,{sourceMap:!1})},2591:function(n,t,o){"use strict";o(1471)},2592:function(n,t,o){var e=o(16)(function(i){return i[1]});e.push([n.i,".profile-linked-accounts[data-v-7bffef5a]{position:relative}",""]),e.locals={},n.exports=e},3426:function(n,t,o){"use strict";o.r(t);var e=o(0),dialog=o(621),l=o(244);const r="\n{\n  accountType,\n  users {\n    id\n    personId\n    displayName\n    profileUrl\n    photoUrl\n    stackoverflowRep\n    answerCount\n  }\n  skills {\n    id\n    personId\n    tagName\n    answerCount\n  }\n}",d="\n{\n  profile{\n    id\n    personId\n    name\n    avatarUrl\n    htmlUrl\n    followersCount\n    followingCount\n    githubCreationTs\n  }\n  accountType\n}",c="\n query ($personUid: ID!, $addIfNotExists: Boolean) {\n  stackoverflowLinkedAccount(\n    personId: $personUid,\n    addIfNotExists: $addIfNotExists\n  ) ".concat(r,"\n}"),f="\n query ($personUid: ID!, $addIfNotExists: Boolean) {\n  githubLinkedAccount(\n    personId: $personUid,\n    addIfNotExists: $addIfNotExists\n  ) ".concat(d,"\n}"),h="\n query ($personUid: ID!) {\n  personLinkedAccounts(\n    personId: $personUid\n  ) {\n  github ".concat(d,"\n  stackoverflow ").concat(r,"\n}}");async function k(n,t,o){return n({handleApiErrors:!1,cache:!o,useSubordinateOauth:!0}).post({variables:{personUid:t,addIfNotExists:!0},query:c}).json()}async function v(n,t,o){return n({handleApiErrors:!1,cache:!o,useSubordinateOauth:!0}).post({variables:{personUid:t,addIfNotExists:!0},query:f}).json()}var m=o(229);const _="/freelancers/settings/profile";var w=Object(e.defineComponent)({i18n:{messages:m.a},components:{linkedAccountGithub:Object(e.defineAsyncComponent)(()=>Promise.all([o.e(54),o.e(285)]).then(o.bind(null,3530))),linkedAccountStackoverflow:Object(e.defineAsyncComponent)(()=>Promise.all([o.e(54),o.e(286)]).then(o.bind(null,3531))),UpCDialog:dialog.a,UpCLoader:l.a},props:{isEditModeEnabled:{type:Boolean,default:!1},isEnabled:{type:Boolean,default:!1},personUid:{type:String,default:null},isProfileOwner:{type:Boolean,default:!1}},data(){return{isModalOpen:!1,stackoverflowData:{},githubData:{},unlinkingPlatform:null,unlinkDialogOptions:{actions:[{label:this.$t("cfeui_pro_Cancel_75"),btnClick:this.unlinkCancel,kind:"link"},{label:this.$t("cfeui_pro_LinkedAccountsGitHub_342.unlink"),btnClick:this.unlinkConfirm,kind:"primary"}],title:"",message:this.$t("cfeui_pro_LinkedAccountsRevokeConfirmationDialog_345.message")},isLoading:!0}},async fetch(){await this.loadLinkedAccounts(),this.isLoading=!1},computed:{showSeparator(){return this.isEditModeEnabled?this.githubProfile||this.stackoverflowProfile:this.githubProfile&&this.stackoverflowProfile},githubProfile(){var n;return null===(n=this.githubData)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.githubLinkedAccount)||void 0===n?void 0:n.profile},stackoverflowProfile(){var n;return null===(n=this.stackoverflowData)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.stackoverflowLinkedAccount},shouldMount(){return this.isEditModeEnabled&&this.isEnabled||this.githubProfile||this.stackoverflowProfile}},mounted(){var n;this.shouldMount&&(null===(n=this.$tracker)||void 0===n||n.track({sublocation:"linked_accounts",event:"impression",label:"loaded",data:{profileuid:this.personUid}}))},methods:{linkGithub(){var n;null===(n=this.$tracker)||void 0===n||n.track({sublocation:"linked_accounts",event:"click",label:"link_github",data:{profileuid:this.personUid}}),window.open("".concat(_,"?linked-account=github"))},linkStackoverflow(){var n;null===(n=this.$tracker)||void 0===n||n.track({sublocation:"linked_accounts",event:"click",label:"link_stackoverflow",data:{profileuid:this.personUid}}),window.open("".concat(_,"?linked-account=stackoverflow"))},unlinkStart(n){this.unlinkDialogOptions.title=this.$t("cfeui_pro_LinkedAccountsRevokeConfirmationDialog_345.title",{platform:{STACKOVERFLOW:"StackOverflow",GITHUB:"GitHub"}[n]}),this.unlinkingPlatform=n,this.$refs.dialog.openDialog()},async unlinkConfirm(){var n;this.unlinkingPlatform&&(this.isLoading=!0,await async function(n,t){return n({handleApiErrors:!1,useSubordinateOauth:!0}).post({variables:{input:{externalPlatform:t}},query:"\n  mutation deleteLinkedAccount($input:DeleteLinkedAccountInput!){\n    deleteLinkedAccount(input: $input){\n      success\n    }\n  }\n"}).json(data=>{var n;return null==data||null===(n=data.deleteLinkedAccount)||void 0===n?void 0:n.success})}(this.$httpGql,this.unlinkingPlatform),await this.loadLinkedAccounts(!0),this.isLoading=!1,null===(n=this.$tracker)||void 0===n||n.track({sublocation:"linked_accounts",event:"click",label:"unlink_".concat(this.unlinkingPlatform,"_confirm"),data:{profileuid:this.personUid}}))},async loadLinkedAccounts(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEnabled)if(this.isProfileOwner)[this.stackoverflowData,this.githubData]=await function(n,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Promise.all([k(n,t,o),v(n,t,o)])}(this.$httpGql,this.personUid,n);else{var t,o;const n=await async function(n,t,o){return n({handleApiErrors:!1,cache:!o,useSubordinateOauth:!0}).post({variables:{personUid:t},query:h}).json()}(this.$httpGql,this.personUid);this.githubData={data:{githubLinkedAccount:null==n||null===(t=n.data)||void 0===t||null===(t=t.personLinkedAccounts)||void 0===t?void 0:t.github}},this.stackoverflowData={data:{stackoverflowLinkedAccount:null==n||null===(o=n.data)||void 0===o||null===(o=o.personLinkedAccounts)||void 0===o?void 0:o.stackoverflow}}}},unlinkCancel(){var n;null===(n=this.$tracker)||void 0===n||n.track({sublocation:"linked_accounts",event:"click",label:"unlink_".concat(this.unlinkingPlatform,"_cancel"),data:{profileuid:this.personUid}}),this.unlinkingPlatform=null}}}),y=w,L=(o(2591),o(7)),component=Object(L.a)(y,function(){var n=this,t=n._self._c;n._self._setupProxy;return n.shouldMount?t("div",[t("h5",{staticClass:"mb-3x",attrs:{role:"presentation"}},[n._v("\n    "+n._s(n.$t("cfeui_pro_LinkedAccounts_349"))+"\n  ")]),n._v(" "),t("div",{staticClass:"profile-linked-accounts air3-card air3-card-sections py-1x px-4x",attrs:{"data-qa":"linked-accounts"}},[t("up-c-dialog",{ref:"dialog",attrs:{title:n.unlinkDialogOptions.title,actions:n.unlinkDialogOptions.actions}},[n._v("\n      "+n._s(n.unlinkDialogOptions.message)+"\n    ")]),n._v(" "),n.isLoading?t("div",{staticClass:"air3-card-section"},[t("up-c-loader",{attrs:{loading:!0}})],1):t("div",{staticClass:"py-4x"},[t("linked-account-github",{attrs:{"is-edit-mode-enabled":n.isEditModeEnabled,profile:n.githubProfile,"person-uid":n.personUid},on:{link:n.linkGithub,unlink:function(t){return n.unlinkStart("GITHUB")}}}),n._v(" "),n.showSeparator?t("hr",{staticClass:"mb-4x"}):n._e(),n._v(" "),t("linked-account-stackoverflow",{attrs:{"is-edit-mode-enabled":n.isEditModeEnabled,profile:n.stackoverflowProfile,"person-uid":n.personUid},on:{link:n.linkStackoverflow,unlink:function(t){return n.unlinkStart("STACKOVERFLOW")}}})],1)],1)]):n._e()},[],!1,null,"7bffef5a",null);t.default=component.exports},621:function(n,t,o){"use strict";var e=o(0),l={name:"UpCDialog",components:{UpCDialogLazyLoad:Object(e.defineAsyncComponent)(()=>Promise.all([o.e(6),o.e(50),o.e(58),o.e(442),o.e(177)]).then(o.bind(null,3532)))},props:{title:{type:String,required:!0},message:{type:String,default:null},actions:{type:Array,required:!0},autoOpen:{type:Boolean,default:!1}},emits:["close"],data:()=>({isLoaded:!1}),mounted(){this.autoOpen&&setTimeout(()=>this.openDialog(),50)},methods:{async openDialog(){this.isLoaded=!0},onDialogMounted(){var n,t;null===(n=(t=this.$refs.dialog).openDialog)||void 0===n||n.call(t)},close(){this.isLoaded=!1,this.$emit("close")}}},r=o(7),component=Object(r.a)(l,function(){var n=this,t=n._self._c;return n.isLoaded?t("UpCDialogLazyLoad",n._b({ref:"dialog",on:{close:n.close,"dialog-mounted":n.onDialogMounted}},"UpCDialogLazyLoad",n.$props,!1),[n._t("default")],2):n._e()},[],!1,null,null,null);t.a=component.exports}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/FreelancerProfileNuxt/linked-accounts-PvxLP.c047c871.js.map