(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{2230:function(e,n){e.exports=!1},3352:function(e,n,t){"use strict";t.r(n),t.d(n,"BroadcastChannel",function(){return x}),t.d(n,"clearNodeFolder",function(){return A}),t.d(n,"enforceOptions",function(){return N}),t.d(n,"createLeaderElection",function(){return te}),t.d(n,"beLeader",function(){return ne});var r=t(855);var o={create:function(e){var n={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return n.bc.onmessage=function(e){n.messagesCallback&&n.messagesCallback(e.data)},n},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,n){e.messagesCallback=n},postMessage:function(e,n){try{return e.bc.postMessage(n,!1),Promise.resolve()}catch(e){return Promise.reject(e)}},canBeUsed:function(){if(r.a&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:r.c},c=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var n=this;this.timeMap.set(e,l()),this.set.add(e),setTimeout(function(){!function(e){var n=l()-e.ttl,t=e.set[Symbol.iterator]();for(;;){var r=t.next().value;if(!r)return;if(!(e.timeMap.get(r)<n))return;e.timeMap.delete(r),e.set.delete(r)}}(n)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function l(){return(new Date).getTime()}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=JSON.parse(JSON.stringify(e));return void 0===n.webWorkerSupport&&(n.webWorkerSupport=!0),n.idb||(n.idb={}),n.idb.ttl||(n.idb.ttl=45e3),n.idb.fallbackInterval||(n.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(n.idb.onclose=e.idb.onclose),n.localstorage||(n.localstorage={}),n.localstorage.removeTimeout||(n.localstorage.removeTimeout=6e4),e.methods&&(n.methods=e.methods),n.node||(n.node={}),n.node.ttl||(n.node.ttl=12e4),void 0===n.node.useFastPath&&(n.node.useFastPath=!0),n}var f=r.c,h="messages";function m(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function v(e,n){var t=e.transaction(h).objectStore(h),r=[];return new Promise(function(e){(function(){try{var e=IDBKeyRange.bound(n+1,1/0);return t.openCursor(e)}catch(e){return t.openCursor()}}()).onsuccess=function(t){var cursor=t.target.result;cursor?cursor.value.id<n+1?cursor.continue(n+1):(r.push(cursor.value),cursor.continue()):e(r)}})}function w(e,n){return function(e,n){var t=(new Date).getTime()-n,r=e.transaction(h).objectStore(h),o=[];return new Promise(function(e){r.openCursor().onsuccess=function(n){var cursor=n.target.result;if(cursor){var r=cursor.value;if(!(r.time<t))return void e(o);o.push(r),cursor.continue()}else e(o)}})}(e,n).then(function(n){return Promise.all(n.map(function(n){return function(e,n){var t=e.transaction([h],"readwrite").objectStore(h).delete(n);return new Promise(function(e){t.onsuccess=function(){return e()}})}(e,n.id)}))})}function _(e){e.closed||y(e).then(function(){return Object(r.f)(e.options.idb.fallbackInterval)}).then(function(){return _(e)})}function y(e){return e.closed?Promise.resolve():e.messagesCallback?v(e.db,e.lastCursorId).then(function(n){var t=n.filter(function(e){return!!e}).map(function(n){return n.id>e.lastCursorId&&(e.lastCursorId=n.id),n}).filter(function(n){return function(e,n){return!(e.uuid===n.uuid||n.eMIs.has(e.id)||e.data.time<n.messagesCallbackTime)}(n,e)}).sort(function(e,n){return e.time-n.time});return t.forEach(function(n){e.messagesCallback&&(e.eMIs.add(n.id),e.messagesCallback(n.data))}),Promise.resolve()}):Promise.resolve()}var k={create:function(e,n){return n=d(n),function(e){var n="pubkey.broadcast-channel-0-"+e,t=m().open(n,1);return t.onupgradeneeded=function(e){e.target.result.createObjectStore(h,{keyPath:"id",autoIncrement:!0})},new Promise(function(e,n){t.onerror=function(e){return n(e)},t.onsuccess=function(){e(t.result)}})}(e).then(function(t){var o={closed:!1,lastCursorId:0,channelName:e,options:n,uuid:Object(r.e)(),eMIs:new c(2*n.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:t};return t.onclose=function(){o.closed=!0,n.idb.onclose&&n.idb.onclose()},_(o),o})},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,n,time){e.messagesCallbackTime=time,e.messagesCallback=n,y(e)},postMessage:function(e,n){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return function(e,n,t){var r={uuid:n,time:(new Date).getTime(),data:t},o=e.transaction([h],"readwrite");return new Promise(function(e,n){o.oncomplete=function(){return e()},o.onerror=function(e){return n(e)},o.objectStore(h).add(r)})}(e.db,e.uuid,n)}).then(function(){0===Object(r.d)(0,10)&&w(e.db,e.options.idb.ttl)}),e.writeBlockPromise},canBeUsed:function(){return!r.a&&!!m()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:f},L=r.c;function P(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function C(e){return"pubkey.broadcastChannel-"+e}function E(){if(r.a)return!1;var e=P();if(!e)return!1;try{var n="__broadcastchannel_check";e.setItem(n,"works"),e.removeItem(n)}catch(e){return!1}return!0}var M={create:function(e,n){if(n=d(n),!E())throw new Error("BroadcastChannel: localstorage cannot be used");var t=Object(r.e)(),o=new c(n.localstorage.removeTimeout),l={channelName:e,uuid:t,eMIs:o};return l.listener=function(e,n){var t=C(e),r=function(e){e.key===t&&n(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}(e,function(e){l.messagesCallback&&e.uuid!==t&&e.token&&!o.has(e.token)&&(e.data.time&&e.data.time<l.messagesCallbackTime||(o.add(e.token),l.messagesCallback(e.data)))}),l},close:function(e){var n;n=e.listener,window.removeEventListener("storage",n)},onMessage:function(e,n,time){e.messagesCallbackTime=time,e.messagesCallback=n},postMessage:function(e,n){return new Promise(function(t){Object(r.f)().then(function(){var o=C(e.channelName),c={token:Object(r.e)(),time:(new Date).getTime(),data:n,uuid:e.uuid},l=JSON.stringify(c);P().setItem(o,l);var d=document.createEvent("Event");d.initEvent("storage",!0,!0),d.key=o,d.newValue=l,window.dispatchEvent(d),t()})})},canBeUsed:E,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:L},S=r.c,I=new Set;var B={create:function(e){var n={name:e,messagesCallback:null};return I.add(n),n},close:function(e){I.delete(e)},onMessage:function(e,n){e.messagesCallback=n},postMessage:function(e,n){return new Promise(function(t){return setTimeout(function(){Array.from(I).filter(function(n){return n.name===e.name}).filter(function(n){return n!==e}).filter(function(e){return!!e.messagesCallback}).forEach(function(e){return e.messagesCallback(n)}),t()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:S},O=[o,k,M];if(r.a){var T=t(2229);"function"==typeof T.canBeUsed&&O.push(T)}function j(e){var n=[].concat(e.methods,O).filter(Boolean);if(e.type){if("simulate"===e.type)return B;var t=n.find(function(n){return n.type===e.type});if(t)return t;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||r.a||(n=n.filter(function(e){return"idb"!==e.type}));var o=n.find(function(e){return e.canBeUsed()});if(o)return o;throw new Error("No useable methode found:"+JSON.stringify(O.map(function(e){return e.type})))}var D,x=function(e,n){var t,o;this.name=e,D&&(n=D),this.options=d(n),this.method=j(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,o=(t=this).method.create(t.name,t.options),Object(r.b)(o)?(t._prepP=o,o.then(function(s){t._state=s})):t._state=o};function A(e){var n=j(e=d(e));return"node"===n.type?n.clearNodeFolder().then(function(){return!0}):Promise.resolve(!1)}function N(e){D=e}function J(e,n,t){var r={time:e.method.microSeconds(),type:n,data:t};return(e._prepP?e._prepP:Promise.resolve()).then(function(){var n=e.method.postMessage(e._state,r);return e._uMP.add(n),n.catch().then(function(){return e._uMP.delete(n)}),n})}function F(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function R(e,n,t){e._addEL[n].push(t),function(e){if(!e._iL&&F(e)){var n=function(n){e._addEL[n.type].forEach(function(e){n.time>=e.time&&e.fn(n.data)})},time=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,n,time)}):(e._iL=!0,e.method.onMessage(e._state,n,time))}}(e)}function U(e,n,t){e._addEL[n]=e._addEL[n].filter(function(e){return e!==t}),function(e){if(e._iL&&!F(e)){e._iL=!1;var time=e.method.microSeconds();e.method.onMessage(e._state,null,time)}}(e)}x._pubkey=!0,x.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return J(this,"message",e)},postInternal:function(e){return J(this,"internal",e)},set onmessage(e){var n={time:this.method.microSeconds(),fn:e};U(this,"message",this._onML),e&&"function"==typeof e?(this._onML=n,R(this,"message",n)):this._onML=null},addEventListener:function(e,n){R(this,e,{time:this.method.microSeconds(),fn:n})},removeEventListener:function(e,n){U(this,e,this._addEL[e].find(function(e){return e.fn===n}))},close:function(){var e=this;if(!this.closed){this.closed=!0;var n=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(e._uMP))}).then(function(){return Promise.all(e._befC.map(function(e){return e()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var W=t(2230),z=t.n(W);var G={add:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}},V=t(2231),K=t.n(V),Q=z.a?K.a:G,H=new Set,X=!1;function Y(){var e=[];return H.forEach(function(n){e.push(n()),H.delete(n)}),Promise.all(e)}var Z={add:function(e){if(X||(X=!0,Q.add(Y)),"function"!=typeof e)throw new Error("Listener is no function");return H.add(e),{remove:function(){return H.delete(e)},run:function(){return H.delete(e),e()}}},runAll:Y,removeAll:function(){H.clear()},getSize:function(){return H.size}},$=function(e,n){this._channel=e,this._options=n,this.isLeader=!1,this.isDead=!1,this.token=Object(r.e)(),this._isApl=!1,this._reApply=!1,this._unl=[],this._lstns=[],this._invs=[],this._dpL=function(){},this._dpLC=!1};function ee(e,n){var t={context:"leader",action:n,token:e.token};return e._channel.postInternal(t)}function ne(e){e.isLeader=!0;var n=Z.add(function(){return e.die()});e._unl.push(n);var t=function(n){"leader"===n.context&&"apply"===n.action&&ee(e,"tell"),"leader"!==n.context||"tell"!==n.action||e._dpLC||(e._dpLC=!0,e._dpL(),ee(e,"tell"))};return e._channel.addEventListener("internal",t),e._lstns.push(t),ee(e,"tell")}function te(e,n){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");n=function(e,n){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=n.method.averageResponseTime(n.options)),e}(n,e);var t=new $(e,n);return e._befC.push(function(){return t.die()}),e._leaderElector=t,t}$.prototype={applyOnce:function(){var e=this;if(this.isLeader)return Promise.resolve(!1);if(this.isDead)return Promise.resolve(!1);if(this._isApl)return this._reApply=!0,Promise.resolve(!1);this._isApl=!0;var n=!1,t=[],o=function(r){"leader"===r.context&&r.token!=e.token&&(t.push(r),"apply"===r.action&&r.token>e.token&&(n=!0),"tell"===r.action&&(n=!0))};return this._channel.addEventListener("internal",o),ee(this,"apply").then(function(){return Object(r.f)(e._options.responseTime)}).then(function(){return n?Promise.reject(new Error):ee(e,"apply")}).then(function(){return Object(r.f)(e._options.responseTime)}).then(function(){return n?Promise.reject(new Error):ee(e)}).then(function(){return ne(e)}).then(function(){return!0}).catch(function(){return!1}).then(function(n){return e._channel.removeEventListener("internal",o),e._isApl=!1,!n&&e._reApply?(e._reApply=!1,e.applyOnce()):n})},awaitLeadership:function(){var e;return this._aLP||(this._aLP=(e=this).isLeader?Promise.resolve():new Promise(function(n){var t=!1;function r(){t||(t=!0,clearInterval(o),e._channel.removeEventListener("internal",c),n(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var o=setInterval(function(){e.applyOnce().then(function(){e.isLeader&&r()})},e._options.fallbackInterval);e._invs.push(o);var c=function(n){"leader"===n.context&&"death"===n.action&&e.applyOnce().then(function(){e.isLeader&&r()})};e._channel.addEventListener("internal",c),e._lstns.push(c)})),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var e=this;if(!this.isDead)return this.isDead=!0,this._lstns.forEach(function(n){return e._channel.removeEventListener("internal",n)}),this._invs.forEach(function(e){return clearInterval(e)}),this._unl.forEach(function(e){e.remove()}),ee(this,"death")}}},855:function(e,n,t){"use strict";(function(e){function r(e){return!(!e||"function"!=typeof e.then)}function o(time){return time||(time=0),new Promise(function(e){return setTimeout(e,time)})}function c(e,n){return Math.floor(Math.random()*(n-e+1)+e)}function l(){return Math.random().toString(36).substring(2)}t.d(n,"b",function(){return r}),t.d(n,"f",function(){return o}),t.d(n,"d",function(){return c}),t.d(n,"e",function(){return l}),t.d(n,"c",function(){return h}),t.d(n,"a",function(){return m});var d=0,f=0;function h(){var e=(new Date).getTime();return e===d?1e3*e+ ++f:(d=e,f=0,1e3*e)}var m="[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}).call(this,t(25))}}]);
//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/FreelancerProfileNuxt/vendors~broadcast-channel-87gXG.9b277cf8.js.map