(function(m){var h=window.AmazonUIPageJS||window.P,r=h._namespace||h.attributeErrors,d=r?r("MarsJumpLinksWidgetAssets",""):h;d.guardFatal?d.guardFatal(m)(d,window):d.execute(function(){m(d,window)})})(function(m,h,r){m.when("MarsSafeRegister").execute("JumpLinks.SubNavController",function(d){d.safeRegister(["A","JumpLinks.Utilities"],"JumpLinks.SubNavController",function(b,d){function c(a){m.register("JumpLinks.Configs",function(){for(var c={},e={},g={},n=[],l={},w=[],x={},q={},h=[],p=[],m=["jumpLinksSubNavTopTab"],
u=["IMAGE","BUTTON"],v=[],y=a.isDetailTheme,A=f("#jump-links-subnav-tab").outerHeight(),k=0;k<a.links.length;k++)c["jumpLinksSubNav"+a.links[k].key+"Tab"]=a.links[k].destinations,e["jumpLinksSubNav"+a.links[k].key+"Tab"]=a.links[k].key,n.push("jumpLinksSubNav"+a.links[k].key+"Tab"),x["jumpLinksSubNav"+a.links[k].key+"Tab"]=a.links[k].align,q["jumpLinksSubNav"+a.links[k].key+"Tab"]=a.links[k].placement,u.includes(a.links[k].elementType)&&v.push("jumpLinksSubNav"+a.links[k].key+"Tab"),0==a.links[k].destinations.length&&
m.push("jumpLinksSubNav"+a.links[k].key+"Tab"),"RIGHT"===a.links[k].align?h.push("jumpLinksSubNav"+a.links[k].key+"Tab"):p.push("jumpLinksSubNav"+a.links[k].key+"Tab"),l["jumpLinks"+a.links[k].key+"Tab"]=a.links[k].destinations,g["jumpLinks"+a.links[k].key+"Tab"]=a.links[k].key,w.push("jumpLinks"+a.links[k].key+"Tab");e.jumpLinksSubNavTopTab="Top";u=d.processTargetIds(c);k=d.processTargetIds(l);d.sortDivs(u,k,n,w,"#jump-links-subnav-tab","#jump-links-static-navbar-tab",x,q,h,p,y);if(b.objectIsEmpty(u))return f("#jump-links-subnav").remove(),
f("#jump-links-static-navbar").remove(),!1;f("#mars-jump-links-widget").css("visibility","visible");d.emitJumpLinkLoadedMetric(y);return{subNavElement:"#jump-links-subnav-tab",subNavWrapper:"#jump-links-subnav",staticNavbarWrapper:"#jump-links-static-navbar",staticNavBarElement:"#jump-links-static-navbar-tab",widgetWrapper:"#mars-jump-links-widget",jumpLinksSubNavJQElemHeight:A,tabTargets:c,linkTargets:l,tabsArray:n,linksArray:w,refTagsSubNav:e,refTagsNavbar:g,tabAlignments:x,tabPlacements:q,rightAlignedElementsBeforeSorting:h,
leftAlignedElementsBeforeSorting:p,navigateTopElements:m,noHighlightElementsIDs:v,fixedAmazonNavJQElem:"#nav-logobar",fixedAmazonNavBodyClass:"fixed-navbar",animationDuration:800,atfStarScrollDuration:1600,refSuffix:a.refSuffix?"_"+a.refSuffix:"",isDetailTheme:y}})}var f=b.$,a,q=b.createClass({init:function(a){c(a)}});return{getInstance:function(c){a||(a=new q(c));return a}}})});m.when("A","marsCsaLogger","ready").register("JumpLinks.Utilities",function(d,b,f){function c(){e("#jump-links-subnav-tab .sub-nav-tab").removeClass("active")}
function p(a,c){var g=[];if(a){g=Array.prototype.slice.call(a.children).sort(function(a,g){return c[a.id]-c[g.id]});for(var e=0;e<a.children.length;e++)a.appendChild(g[e])}return g}function a(a,c,e){c.forEach(function(g){"RIGHT"===a[g.id]&&e.appendChild(g)})}function q(a,c,e){var g=Array.from(c.children);t(a,e,g,c,!0)}function l(a,c,b,l,d){c=Array.from(e(c).children(".sub-nav-tab"));t(a,d,c,b,!1);b.appendChild(l)}function t(a,c,b,l,d){for(var g=0;g<a.length;g++)if("STATIC"===c[a[g]]){var n=b.indexOf(b.find(function(c){return c.id===
a[g]}));n=b.splice(n,1)[0];e("#jumpLinksSubNavTopTab").length?d?b.splice(g,0,n):b.splice(g+1,0,n):b.splice(g,0,n)}b.forEach(function(a){l.appendChild(a)})}var e=d.$;return{processTargetIds:function(a){var g={};d.each(a,function(a,c){var b;a:{for(b=0;b<a.length;b++)if(e(a[b]).length&&0<e(a[b]).height()){b=a[b];break a}b=!1}b||0==a.length?(g[c]=b,e("#"+c+" .static-tab-content").css("display","inline-block")):e("#"+c).hide()});1>=Object.keys(g).length&&m.log("Jumplinks nav bar was unable to find any target tabs.",
"FATAL","MarsJumpLinksWidget");return g},activateTab:function(a){c();e("#"+a).addClass("active")},deactivateTabs:c,emitJumpLinkClickedMetric:function(a,c,e){b.send("ods_jump_"+(a?"dp":"b")+"_d_"+c+e,"mars-jump-links-widget")},emitJumpLinkLoadedMetric:function(a){b.send("ods_jump_"+(a?"dp":"b")+"_load_d","mars-jump-links-widget")},emitSubNavDisplayedMetric:function(a){b.send("ods_jump_displayed_d"+a,"mars-jump-links-widget")},emitSubNavHiddenMetric:function(a){b.send("ods_jump_hidden_d"+a,"mars-jump-links-widget")},
getTargetDivCoordinates:function(a){var c=[];e(a).length&&e(a).offset()&&(c.push(e(a).offset().top),"#owner_zone_btf_header"===a?c.push(e("#owner_zone_btf_footer").offset().top+e("#owner_zone_btf_footer").height()):c.push(e(a).offset().top+e(a).height()-10));return c},getTargetTabCoordinates:function(a){var c=[];e(a).length&&e(a).offset()&&(c.push(e(a).offset().left),c.push(e(a).offset().left+e(a)[0].offsetWidth));return c},onScreen:function(a,c){var b=e(h);c=b.scrollTop()+c;b=h.innerHeight?h.innerHeight:
b.height();var g=c+b,l=a[0]-100;a=a[1];return a>c&&a<=g||a-l>b&&l<=c&&a>=g},onScreenTab:function(a){var c=e(h);c=0+(h.innerWidth?h.innerWidth:c.width());var b=a[0];a=a[1];return 0<=a&&a<=c&&0<=b&&b<=c},elementPresentInViewPort:function(a){var c=e(h);c=0+(h.innerWidth?h.innerWidth:c.width());var b=a[0];a=a[1];return 0<=a&&a<=c||0<=b&&b<=c},sortDivs:function(c,b,d,f,t,h,m,r,z,u,v){for(var g={},n={"jump-links-title":0},k=g.jumpLinksSubNavTopTab=0;k<d.length;k++)e(c[d[k]]).offset()?(g[d[k]]=e(c[d[k]]).offset().top,
e(b[f[k]]).offset()&&(n[f[k]]=e(b[f[k]]).offset().top)):(g[d[k]]=0,n[f[k]]=0);c=document.querySelector(t);b=document.querySelector(h);h=p(c,g);p(b,n);d.sort(function(a,c){return g[a]-g[c]});f.sort(function(a,c){return n[a]-n[c]});d=document.querySelector(t+"-right-container");v||(a(m,h,d),q(z,d,r),l(u,t,c,d,r))},buildUrlWithQueryParams:function(a,c){var b=new URL(a),e=new URLSearchParams(h.location.search);c.forEach(function(a){var c=e.get(a);c&&b.searchParams.set(a,c)});return b.href}}});m.when("A",
"JumpLinks.Configs","JumpLinks.Utilities").execute(function(d,b,f){if(!b)return!1;var c=d.$,p=0,a={},q=!1;a.jumpLinksCoordinates={};a.tabTargets=b.tabTargets;a.linkTargets=b.linkTargets;a.tabCoordinates={};a.linkCoordinates={};a.tabs={};a.links={};a.jqSubNav=null;a.defaultTopOffset=b.jumpLinksSubNavJQElemHeight;a.topOffset=a.defaultTopOffset+p;a.animationDuration=b.animationDuration;a.THIRD_PARTY_JUMP_LINKS=["#acrCustomerReviewLink","#askATFLink","#owner_zone_atf_jumplink"];a.resizeSubNavBasedOnSmartWagon=
function(){var b=c(h);b=h.innerWidth?h.innerWidth:b.width();var d=0+b,e=f.getTargetTabCoordinates("#nav-flyout-ewc"),g=e[1];c("#nav-flyout-ewc").length&&0<c("#nav-flyout-ewc").height()&&(f.elementPresentInViewPort(e)?(b-=c("#nav-flyout-ewc").width()-(g-d),a.jqSubNav.width(b-2)):a.jqSubNav.css("width","100%"))};a.showTab=function(){a.jqSubNav.removeClass("aok-hidden");a.jqSubNav.addClass("slidein");a.jqSubNav.attr("aria-hidden","false");a.jqSubNav.removeAttr("tabindex");c(b.subNavElement).css({"margin-top":"0px"});
q||b.isDetailTheme||(f.emitSubNavDisplayedMetric(b.refSuffix),q=!0)};a.hideTab=function(){a.jqSubNav.removeClass("slidein");a.jqSubNav.addClass("aok-hidden");a.jqSubNav.attr("aria-hidden","true");a.jqSubNav.attr("tabindex","-1");c(b.subNavElement).css({"margin-top":"-55px"});q&&!b.isDetailTheme&&(f.emitSubNavHiddenMetric(b.refSuffix),q=!1)};a.twisterUpdateHandler=function(){d.on("a:pageUpdate",a.initializeController)};a.screenResizeHandler=function(){d.on("resize",a.initializeController);d.on("orientationChange",
a.initializeController)};a.refreshTabCoordinates=function(){d.each(a.tabs,function(c,b){a.tabCoordinates[b]=f.getTargetDivCoordinates(c);a.linkCoordinates[b]=a.tabCoordinates[b]})};a.refreshJumpLinksCoordinates=function(){0===c(b.subNavElement).scrollLeft()&&d.each(a.tabs,function(c,b){a.jumpLinksCoordinates[b]=f.getTargetTabCoordinates("#"+b)})};a.processTabChecks=function(c){for(var b=!1,e=0;e<c.length;e++)if(a.tabCoordinates[c[e]]&&f.onScreen(a.tabCoordinates[c[e]],a.topOffset)){b=!0;a.activateTabAndScroll(c[e]);
break}b||f.deactivateTabs()};a.setTopOffset=function(){c("body").hasClass(b.fixedAmazonNavBodyClass)&&c(b.fixedAmazonNavJQElem).length&&(p=c(b.fixedAmazonNavJQElem).outerHeight());a.topOffset=a.defaultTopOffset+p};a.activateTabAndScroll=function(d){b.noHighlightElementsIDs.includes(d)||(f.activateTab(d),f.onScreenTab(f.getTargetTabCoordinates("#"+d))||c(b.subNavElement).stop(!0,!1).animate({scrollLeft:a.jumpLinksCoordinates[d][0]},50))};a.scrollHandler=function(){a.setTopOffset();var d=c(h).scrollTop()+
p,f=c(b.subNavWrapper).offset(),e=Number.MAX_SAFE_INTEGER;f&&(e=f.top-a.topOffset);a.refreshTabCoordinates();a.refreshJumpLinksCoordinates();d>=e?(a.showTab(),a.jqSubNav.css({top:p}),a.processTabChecks(b.tabsArray)):a.hideTab()};a.clickHandler=function(l){l.preventDefault();d.off("scroll",a.scrollHandler);l=l.currentTarget.id;if(b.navigateTopElements.includes(l))f.emitJumpLinkClickedMetric(b.isDetailTheme,b.refTagsSubNav[l],b.refSuffix),c("html,body").stop(!0,!1).animate({scrollTop:0},{duration:a.animationDuration,
complete:function(){var a=c("#a-page");a.focus();a.is(":focus")||(a.attr("tabindex","-1"),a.focus());a.blur()}}),d.delay(function(){c(b.subNavElement).stop(!0,!0).animate({scrollLeft:0},50)},a.animationDuration+100);else{var h=a.tabs[l],e=a.links[l];h?(a.activateTabAndScroll(l),f.emitJumpLinkClickedMetric(b.isDetailTheme,b.refTagsSubNav[l],b.refSuffix),c(h).offset()&&c("html,body").stop(!0,!1).animate({scrollTop:c(h).offset().top-a.topOffset},{duration:a.animationDuration,step:function(b,e){b=c(h).offset().top-
a.topOffset;e.end!==b&&(e.end=b)},complete:function(){var b=c(h);b.focus();c("html, body").animate({scrollTop:c(h).offset().top-a.topOffset},{duration:0});b.is(":focus")||(b.attr("tabindex","-1"),b.focus(),c("html, body").animate({scrollTop:c(h).offset().top-a.topOffset},{duration:0}));b.blur()}})):e&&(a.activateTabAndScroll(["jumpLinksSubNav",l.slice(9)].join("")),f.emitJumpLinkClickedMetric(b.isDetailTheme,b.refTagsNavbar[l],b.refSuffix),c(e).offset()&&c("html,body").animate({scrollTop:c(e).offset().top-
a.topOffset},{duration:this.animationDuration,step:function(b,d){b=c(e).offset().top-a.topOffset;d.end!==b&&(d.end=b)},complete:function(){var b=c(e);b.focus();c("html, body").animate({scrollTop:c(e).offset().top-a.topOffset},{duration:0});b.is(":focus")||(b.attr("tabindex","-1"),b.focus(),c("html, body").animate({scrollTop:c(e).offset().top-a.topOffset},{duration:0}));b.blur()}}))}d.delay(function(){d.on("scroll",a.scrollHandler);a.scrollHandler()},a.animationDuration+100)};a.handleThirdPartyJumpLinks=
function(){d.off("scroll",a.scrollHandler);d.off("a:pageUpdate",a.initializeController);d.delay(function(){d.on("scroll",a.scrollHandler);d.on("a:pageUpdate",a.initializeController)},b.atfStarScrollDuration)};a.detachThirdPartyJumpLinksHandlers=function(){a.THIRD_PARTY_JUMP_LINKS.forEach(function(b){c(b).length&&c(b).unbind("click",a.handleThirdPartyJumpLinks)})};a.attachThirdPartyJumpLinksHandlers=function(){a.THIRD_PARTY_JUMP_LINKS.forEach(function(b){c(b).length&&c(b).click(a.handleThirdPartyJumpLinks)})};
a.attachCheckoutHandler=function(a){a.preventDefault();if(a=a.target.href)a=f.buildUrlWithQueryParams(a,["sr","qid"]),h.location.href=a};a.detachHandlers=function(){d.off("scroll",a.scrollHandler);a.detachThirdPartyJumpLinksHandlers();c("#jump-links-subnav-tab .sub-nav-tab").unbind("click",a.clickHandler);c("#jump-links-static-navbar .sub-nav-tab").unbind("click",a.clickHandler);c("#jump-links-subnav-checkout-tab").unbind("click",a.attachCheckoutHandler)};a.attachHandlers=function(){d.on("scroll",
a.scrollHandler);a.attachThirdPartyJumpLinksHandlers();c("#jump-links-subnav-tab .sub-nav-tab").click(a.clickHandler);c("#jump-links-static-navbar .sub-nav-tab").click(a.clickHandler);c("#jump-links-subnav-checkout-tab").click(a.attachCheckoutHandler)};a.initializeController=function(){a.jqSubNav=c(b.subNavElement);a.tabs=f.processTargetIds(a.tabTargets);a.links=f.processTargetIds(a.linkTargets);d.objectIsEmpty(a.tabs)?(a.detachHandlers(),a.hideTab(),c(b.staticNavbarWrapper).remove()):(f.sortDivs(a.tabs,
a.links,b.tabsArray,b.linksArray,b.subNavElement,b.staticNavBarElement,b.tabAlignments,b.tabPlacements,b.rightAlignedElementsBeforeSorting,b.leftAlignedElementsBeforeSorting,b.isDetailTheme),c(b.widgetWrapper).css("visibility","visible"),a.setTopOffset(),a.resizeSubNavBasedOnSmartWagon(),a.scrollHandler(),a.refreshTabCoordinates(),a.refreshJumpLinksCoordinates(),a.detachHandlers(),a.attachHandlers())};a.initializeController();a.twisterUpdateHandler();a.screenResizeHandler()});"use strict";m.when("MarsSafeRegister").execute("JumpLinks.Controller",
function(d){d.safeRegister(["A","JumpLinks.Metrics"],"JumpLinks.Controller",function(b,d){var c=b.$,f,a=b.createClass({init:function(a){this._metrics=new d(a);this.showLinks();this._bindEventsOnce(this._metrics)},showLinks:function(){var a=!1;c("#jump-links-static-navbar li").each(function(){var b=c(c(this).find("a")[0].hash),d=b.is(":visible");b.length&&d?(c(this).css("display","inline-block"),a=!0):c(this).css("display","none")});a?c("#mars-jump-links-widget").css("visibility","visible"):c("#mars-jump-links-widget").remove()},
resetData:function(a){"object"===typeof a&&this._metrics.init(a)},_bindEventsOnce:function(a){b.on("a:pageUpdate",this._handlePageUpdate.bind(this));b.declarative("jump-links-click","click",function(b){var d=b.$target[0].hash;b=b.$target[0].innerHTML;a._isMobile&&h.history.pushState(null,null,d);c("html, body").stop().animate({scrollTop:c(d).offset().top},{duration:600,step:function(a,b){a=c(d).offset().top;b.end!==a&&(b.end=a)},complete:function(){var a=c(d);a.focus();a.is(":focus")||(a.attr("tabindex",
"-1"),a.focus());a.blur()}});a.emitJumpLinkClickedMetric(b)})},_handlePageUpdate:function(){this.showLinks()}});return{getInstance:function(b){f?b&&f.resetData(b):f=new a(b);return f}}})});"use strict";m.when("A","odsRefTagUtils").register("JumpLinks.Metrics",function(d,b){return d.createClass({init:function(b){this._isMobile=b.mobile;this._refSuffix=b.refSuffix;this._currentPageAsin=b.currentPageAsin},emitJumpLinkClickedMetric:function(d){b.send("ods_jump_"+(this._isMobile?"m_":"d_")+this._currentPageAsin+
"_"+d+(this._refSuffix?"_"+this._refSuffix:""))}})})});