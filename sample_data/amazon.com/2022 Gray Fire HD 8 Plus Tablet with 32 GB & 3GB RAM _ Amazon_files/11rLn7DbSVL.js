(function(c){var g=window.AmazonUIPageJS||window.P,e=g._namespace||g.attributeErrors,b=e?e("CentaurusUIMarkupAssets@CentaurusUIAddToCartButtonAssets","CentaurusUIMarkupAssets"):g;b.guardFatal?b.guardFatal(c)(b,window):b.execute(function(){c(b,window)})})(function(c,g,e){(function(){c.now("cui-add-to-cart-button-module").execute("cui-add-to-cart-button-module-safe-register",function(b){if(b)c.log("cui-add-to-cart-button-module has been registered","WARN");else try{c.when("A","ready").register("cui-add-to-cart-button-module",
function(b){var d=b.$,e=function(a,c){var b=d("#".concat(a,"-button")),e=d("#".concat(a,"-disabled-button")),f=d("#".concat(a,"-").concat(c,"-message"));e&&e.addClass("aok-hidden");b&&f&&(b.addClass("aok-hidden"),f.removeClass("aok-hidden"),setTimeout(function(){b.removeClass("aok-hidden");f.addClass("aok-hidden")},1E3))};b.declarative("cui-add-to-cart-event","click",function(a){if(function(a){var b;return!!((null===(b=null==a?void 0:a.data)||void 0===b?0:b.offerListingId)&&a.data.quantity&&a.data.asin&&
a.data.csrfToken&&a.data.elementId&&a.data.url)}(a)){var b={items:[{offerListingId:a.data.offerListingId,quantity:parseInt(a.data.quantity,10),asin:a.data.asin}]},h=d("#".concat(a.data.elementId,"-disabled-button")),k=d("#".concat(a.data.elementId,"-button"));h&&k&&(k.addClass("aok-hidden"),h.removeClass("aok-hidden"));var f;h=(null==(f=d("meta[name\x3d'encrypted-slate-token']"))?0:f.prop("content"))?f.prop("content"):"";d.ajax({url:a.data.url,xhrFields:{withCredentials:!0},type:"POST",headers:{"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.add-items.request/v1"',
Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.add-items/v1"',"Accept-Language":"en-US","x-api-csrf-token":a.data.csrfToken,"x-amzn-encrypted-slate-token":h},data:JSON.stringify(b),success:function(b){var d;(function(a){var b,c,d,e,f=a.entity;return"cart.add-items/v1"===a.type&&(null===(b=null==f?void 0:f.items[0])||void 0===b?void 0:b.id)&&"cart.count/v1"===(null===(c=f.count)||void 0===c?void 0:c.type)&&(null===(e=null===(d=f.count)||void 0===d?void 0:d.entity)||void 0===e?void 0:e.items)})(b)?
(d=b.entity.count.entity.items,g.$Nav&&g.$Nav.when("api.setCartCount").run(function(a){a(d)}),c.when("mash").execute("cui-add-to-cart-mash-update-event",function(a){var b=parseInt(d,10);a.cart.didUpdate({newCartQuantity:b})}),e(a.data.elementId,"success")):(c.log("CUI add-to-cart failed with invalid response.","ERROR"),e(a.data.elementId,"failure"))},error:function(b,d){c.log("CUI add-to-cart failed with unexpected error: ".concat(d),"ERROR");e(a.data.elementId,"failure")}})}else c.log("CUI add-to-cart input is incorrect: ".concat(JSON.stringify(null==
a?void 0:a.data),"."),"FATAL")})})}catch(l){c.log("cui-add-to-cart-button-module has been registered","WARN")}})})()});