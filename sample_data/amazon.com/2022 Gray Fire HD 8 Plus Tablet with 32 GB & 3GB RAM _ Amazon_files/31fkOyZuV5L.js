(function(g){var h=window.AmazonUIPageJS||window.P,q=h._namespace||h.attributeErrors,n=q?q("MarsContentGridAssets",""):h;n.guardFatal?n.guardFatal(g)(n,window):n.execute(function(){g(n,window)})})(function(g,h,q){function n(e,d,c){c||(c=d,d=e,e=[]);var b=h.AmazonUIPageJS||h.P||g;b.now(d).execute("Registrant",function(k){if(!k)try{b.when.apply(b,e).register(d,c)}catch(a){b.log("ContentGridModuleRegistration error: "+a,"WARN")}})}g.when("ContentGridModuleRegistration").execute("fade-animate.js",function(g){g.safeRegister([],
"MarsContentGridFadeAnimation",function(){function d(c,b){c.forEach(function(c){if(c.isIntersecting){c.target.classList.add("is-visible");var a=Array.from(c.target.querySelectorAll(".a-column"));0<a.length&&a.forEach(function(a,f){setTimeout(function(){a.classList.add("is-visible")},150+200*f)});b.unobserve(c.target)}})}(function(){var c=document.querySelectorAll(".content-grid-wrapper.fade-animate .content-grid-row-wrapper");0!==c.length&&c.forEach(function(b){var c=parseFloat(b.dataset.animationThreshold);
c=!isNaN(c)&&0<c&&1>=c?c:.2;(new IntersectionObserver(d,{root:null,rootMargin:"0px",threshold:c})).observe(b)})})()})});"use strict";g.when("ContentGridModuleRegistration").execute("content-grid-interstitial.js",function(e){e.safeRegister(["A","marsRefTagEmitter"],"MarsContentGridInterstitial",function(d,c){var b=d.$,k,a=d.createClass({create:function(a,f,b,c){this.interstitialName=a;this.clientName=f;this.isMobile=c;this.header=b;this.baseReftag="MarsContentGrid_"+a;this._bindEvents()},_bindEvents:function(){b('input#add-to-cart-button[name\x3d"submit.add-to-cart"]').bind("click",
b.proxy(this._handleAtcEvent,this));b('input#installments-button[name\x3d"submit.installments"]').bind("click",b.proxy(this._handleAtcEvent,this));b('input#add-to-cart-button[name\x3d"submit.add-to-cart"]').length||!d.capabilities.isAmazonApp?b('input#buy-now-button[type\x3d"submit"]').bind("click",b.proxy(this._handleAtcEvent,this)):b('input#buy-now-button[type\x3d"submit"]').length&&g.log("Interstitial is scheduled with Buy Now button only on mobile App","FATAL","MarsContentGridAssets")},_handleAtcEvent:function(a){this.$clickedSubmitButton=
b(a.target);"add-to-cart-button"!==this._getClickedButtonIdOnMobileApp()&&a.preventDefault();this.$clickedSubmitButton.unbind("click",b.proxy(this._handleAtcEvent,this));this._showInterstitial.apply(this)},_showInterstitial:function(){var a=this,f={dataStrategy:"preload",name:this.interstitialName,header:this.header};d.capabilities.isAmazonApp&&(f.hideHeader=!0);this.isMobile||(d.off("a:popover:beforeHide:"+this.interstitialName,b.proxy(a._clickSubmitButton,a)),d.on("a:popover:beforeHide:"+this.interstitialName,
b.proxy(a._clickSubmitButton,a)));var k="#"+this._getCamelCaseFromSnakeCase(this.interstitialName),h=this.baseReftag+"_InterstitialOpened";this.isMobile?g.when("a-secondary-view").execute(function(d){var l=d.get(a.interstitialName);l||(l=d.create(b(k),f));l.show();c.send(h);"buy-now-button"===a._getClickedButtonIdOnMobileApp()&&(b('input#add-to-cart-button[name\x3d"submit.add-to-cart"]').length?(b('input#add-to-cart-button[name\x3d"submit.add-to-cart"]').unbind("click",b.proxy(a._handleAtcEvent,a)),
b('input#add-to-cart-button[name\x3d"submit.add-to-cart"]').click()):g.log("Cannot find ATC button","FATAL","MarsContentGridAssets"))}):g.when("a-modal").execute(function(d){var l=d.get(a.interstitialName);l||(l=d.create(b(k),f));l.show();c.send(h)});b("span#MarsInterstitialATC input").length&&b("span#MarsInterstitialATC input").unbind("click").bind("click",b.proxy(a._clickSubmitButton,a))},_clickSubmitButton:function(a){if(this.$clickedSubmitButton)try{d.capabilities.isAmazonApp?"installments-button"===
this._getClickedButtonIdOnMobileApp()?this.$clickedSubmitButton.click():h.location.replace("https://www.amazon.com/gp/cart/view.html"):this.$clickedSubmitButton.click()}catch(f){g.log("Failed to click the submit button: "+f.message,"FATAL","MarsContentGridAssets")}else g.log("Failed to find the clicked submit button","FATAL","MarsContentGridAssets")},_getCamelCaseFromSnakeCase:function(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})},_getClickedButtonIdOnMobileApp:function(){return this.$clickedSubmitButton&&
this.$clickedSubmitButton.context?d.capabilities.isAmazonApp?this.$clickedSubmitButton.context.id:null:(g.log("Failed to get the clicked submit button id","FATAL","MarsContentGridAssets"),null)}});return{getInstance:function(){k||(k=new a);return k}}})});g.when("ContentGridModuleRegistration").execute("content-grid-modal.js",function(e){e.safeRegister(["A","marsRefTagEmitter"],"MarsContentGridModal",function(d,c){var b,k=d.createClass({create:function(a,b,f,k,h,e,t,n,q){var l=d.$;l=l("#"+b.replace(/-([a-z])/g,
function(a){return a[1].toUpperCase()}));var m=l.parent();f||(f=b);var p={name:f};if(h){var r=this;d.capabilities.isAmazonApp&&(p.hideHeader=!0);g.when("a-secondary-view").execute(function(a){if(e){var b=a.get(f);b?(m.data("a-popover-id",b.id),a.create(m,p)):(p.inlineContent="Loading...",a.create(m,p),r.bindModalBeforeShowListener(f,e,t,n,q))}else m.attr("data-a-secondary-view",JSON.stringify(p))})}else r=this,g.when("a-modal").execute(function(a){p.header=k;p.width="750";if(e){var b=a.get(f);b?(m.data("a-popover-id",
b.id),a.create(m,p)):(p.inlineContent="Loading...",a.create(m,p),r.bindModalBeforeShowListener(f,e,t,n,q))}else m.attr("data-a-modal",JSON.stringify(p))});l.one("click",function(){c.send("mars_content_grid_"+f+"_"+a)})},bindModalBeforeShowListener:function(a,b,f,c,k){d.on("a:popover:beforeShow:"+a,function(l){var e=l.popover;e.inlineContent&&c&&e.inlineContent!==f&&"Loading..."!==e.inlineContent||(h.ue&&(h.ue.count("MarsContentGrid_Modal_GetRemoteContentRequest",1),e.inlineContent===f&&h.ue.count("MarsContentGrid_Modal_GetRemoteContentRetry",
1)),d.get(b,{withCredentials:k,success:function(a,b,f){e.update({inlineContent:a,dataStrategy:"inline"})},error:function(b,c,d){g.log("Get remote content failed in modal: "+a+", url: "+b.http.responseURL+", status: "+b.http.status+", errorThrown: "+d,"FATAL","MarsContentGridAssets");f&&e.update({inlineContent:f,dataStrategy:"inline"});h.ue&&h.ue.count("MarsContentGrid_Modal_GetRemoteContentError",1)}}))})}});return{getInstance:function(){b||(b=new k);return b}}})});"use strict";g.when("ContentGridModuleRegistration").execute("hi-res-image-lazy-loading.js",
function(e){e.safeRegister(["A"],"MarsContentGridImageLoader",function(d){return{load:function(c){d.loadHiResImage(c);c.classList.remove("content-grid-image-lazy-loading")}}})});"use strict";g.when("ContentGridModuleRegistration").execute("content-grid-accessibility-processor.js",function(e){e.safeRegister(["A"],"MarsContentGridAccessibilityProcessor",function(d){var c=d.$,b,e=d.createClass({init:function(){this.hasPageLoaded="complete"===document.readyState||!1;this.doProcessMarkup=!1;this.videoJsContainers=
[];this.hasPageLoaded||this._bindPageReadyEvents()},requestProcessMarkup:function(){this.hasPageLoaded?this._processLinksForAriaLabel():this.doProcessMarkup=!0},requestProcessVideoJsMarkup:function(a){!a||!a instanceof c||!a instanceof HTMLElement||(a instanceof HTMLElement&&(a=c(a)),this.hasPageLoaded?this._processVideoJsMarkup(a):this.videoJsContainers.push(a))},_bindPageReadyEvents:function(){var a=this;g.when("ready").execute(function(){a.hasPageLoaded=!0;a.doProcessMarkup&&a._processLinksForAriaLabel();
if(a.videoJsContainers.length){for(var b=0;b<a.videoJsContainers.length;b++)a._processVideoJsMarkup(a.videoJsContainers[b]);a.videoJsContainers=[]}})},_processLinksForAriaLabel:function(){c(".content-grid-row-wrapper").find("a[title]").each(function(a,b){a=c(b);a.attr("aria-label")||a.attr("aria-label",a.attr("title"))})},_processVideoJsMarkup:function(a){c(a).find("button.vjs-menu-button[title]").each(function(a,b){b=c(b);a=b.attr("title");b.attr("aria-label")||b.attr("aria-label",a);b=b.parent().find(".vjs-menu-content");
b.attr("aria-label")||b.attr("aria-label",a)})}});return{getInstance:function(){b||(b=new e);return b}}})});"use strict";g.when("ContentGridModuleRegistration").execute("mako-vse-light-player.js",function(e){e.safeRegister(["A","Mako.VSEHelper","VSEPlayerIntegrationWithMako"],"Mako.IVSELightPlayer",function(d,c,b){var e=["videoUrl"],a=!1,l=0;return{render:function(f,h){if("undefined"===typeof h)throw"Argument required: playerParentId";for(var k=0;k<e.length;k++){var m=e[k];if(!d.$.trim(f[m]))throw"Argument required: options."+
m;}k=(f.locale||c.getLocale()).replace(/-/g,"_");m={videoURL:f.videoUrl,imageURL:f.imageUrl};""!==f.videoTitle&&(m.videoTitle=f.videoTitle);"true"===f.captionEnabled&&(m.closedCaptions=f.closedCaption);l+=1;f={video:m,locale:k,marketplaceID:f.marketplaceID||c.getMarketplaceId(),page:"AmazonDevices",placement:"MarsContentGrid",requester:"Mako",clientPrefix:"mako"+l};g.now("Brila").execute("update-request",function(b){b!==q&&(a=!0)});a&&(f.excludeAssets=["Brila","VSEPlayer"]);b.render(f,h,c.getVideoComponentEndpointHost())}}});
e.safeRegister(["A"],"VSEPlayerIntegrationWithMako",function(d){return{render:function(c,b,e){d.ajax(e+"/vap/ew/subcomponent/vseplayer",{params:c,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",withCredential:!0,timeout:4E3,success:function(a){var c=d.$("#"+b);if(1===c.length)c.html(a);else throw["Did not find the appropriate number of video parent elements.","Expecting 1; found: "+c.length,"Possible reasons: - conflicting players with non-unique ids\n - id name is not formatted correctly\n - parent element was removed or is not available (possibly race condition)"].join("\n");
},error:function(a){throw"Error calling VSE player endpoint. "+("string"===typeof a)?a:"";}})}}});e.safeRegister(["A"],"Mako.VSEHelper",function(d){var c=h.opt||{};return{getMarketplaceId:function(){return c.obfuscatedMarketId||"ATVPDKIKX0DER"},getLocale:function(){return c.language||"en_US"},getVideoComponentEndpointHost:function(){var b=h.location.host,c="https://www.amazon.com";0<=b.indexOf(".amazon.")&&(c="https://"+b);return c}}})});n([],"ContentGridModuleRegistration",function(){return{safeRegister:n}});
"use strict";g.when("ContentGridModuleRegistration").execute("mars-content-grid-link-helper.js",function(e){e.safeRegister(["A","marsRefTagEmitter"],"contentGridLinkHelper",function(d,c){var b=d.$;return{linkEventBinder:function(d){return{$selector:b("#"+d),bindSendRefTagEvent:function(a,b,d,e){this.$selector.live("click",function(){"true"===d?c.send(a+"_"+b,e):c.send(a,e)});return this},bindSmoothScrollAnimation:function(a){/^#/.test(a)&&this.$selector.live("click",function(c){c=b(a).offset().top;
if(h.history.pushState)h.history.pushState(null,null,a);else{var d=b(a),e=d.attr("id");d.removeAttr("id");h.location.hash=a;d.attr("id",e)}b("html, body").stop().animate({scrollTop:c},500)});return this},clearEvents:function(){this.$selector.die();return this}}}}})})});