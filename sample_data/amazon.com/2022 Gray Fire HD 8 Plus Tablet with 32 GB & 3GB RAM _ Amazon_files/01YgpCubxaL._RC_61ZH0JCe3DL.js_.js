(function(d){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,c=f?f("InstallmentPaymentDetailPageAssets",""):e;c.guardFatal?c.guardFatal(d)(c,window):c.execute(function(){d(c,window)})})(function(d,e,f){function c(a){var b=a.$("select[name\x3d'quantity']").val(),c=a.$("#installmentsQuantityDropdown").val();if(b!==c){var d=1,e,f=0,c=a.$("#installmentsQuantityDropdown option");c.each(function(a,b){e=b.value;f=d=Math.max(f,e)});b>d&&(b=d);c.length?a.$("#installmentsQuantityDropdown").val(b).trigger("change"):
(a.$("[name\x3d'quantity']").val(b).trigger("change"),a.$("[name\x3d'items[0.base][quantity]']").val(b))}}d.when("A","ready").execute("installments-atc-switch-endpoint",function(a){function b(){!0===c.shouldUseNatc&&d&&a.$("#installmentPaymentAccordionRow").find("form").attr("action","/cart/add-to-cart/ref\x3ddp_start-bbf_1_glance")}var c=a.state("installments-atc-page-state");if(c!==f){var d=/\/gp\/product\/handle-buy-box\//.test(a.$("#installmentPaymentAccordionRow").find("form").attr("action"));
b();a.on("a:pageUpdate",function(){b()})}});d.when("A").execute("installment-quantity-dropdown",function(a){a.declarative("installment-quantity-dropdown","change",function(b){b=b.$event.target.value;a.$("[name\x3d'quantity']").val(b).trigger("change");a.$("[name\x3d'items[0.base][quantity]']").val(b)})});d.when("A").execute(function(a){a.on("a:accordion:installment-payment-buybox-accordion:installment-payment-accordion-row:select",function(b){c(a)})});d.when("A").execute(function(a){a.on("a:accordion:buybox-accordion:installmentPaymentAccordionRow:select",
function(b){c(a)})});d.when("A").execute(function(a){a.on("a:accordion:buybox-accordion:mobile_installmentPaymentAccordionRow:select",function(b){c(a)})});d.when("A").execute(function(a){a.on("a:accordion:buybox-accordion:mobileapp_installmentPaymentAccordionRow:select",function(b){c(a)})})});
/* ******** */
(function(p){var v=window.AmazonUIPageJS||window.P,x=v._namespace||v.attributeErrors,b=x?x("DetailPagePaymentOptionsJavascript",""):v;b.guardFatal?b.guardFatal(p)(b,window):b.execute(function(){p(b,window)})})(function(p,v,x){"use strict";p.when("A","payment-options-constants").register("payment-options-client-side-metric",function(b,e){function f(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)}function k(b,a){d(e.metricPrefix,b,a)}function g(b,a){d(e.metricPrefixUFO,b,
a)}function d(b,a,d){if("undefined"!==typeof l&&"undefined"!==typeof l.count&&a&&b){if(d===x||null===d)d=1;b+=a;l.count(b,(l.count(b)||0)+d);"undefined"!==typeof v.csa&&(d=v.csa("Events",{producerId:"dp-rpcx"}),a=l.count(b),d("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:b,valueToLog:a},{ent:"all"}))}}function h(b){if(b)this.timerName=b,this.startTime=0;else throw Error("timerName must be non empty string");}function c(b){if(b)this.timerName=b,this.startTime=0;else throw Error("timerName must be non empty string");
}var l=v.ue;h.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&k(this.timerName,Date.now()-this.startTime)}};c.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&k(this.timerName,Date.now()-this.startTime)}};return{increment:function(b){k(b,1)},incrementWithValue:k,incrementWithValuePriceBlockMessaging:function(b,a){d(e.metricPrefixPriceblock,b,a)},logNexusEventForMonthlyPaymentSelection:function(b){if(v.ue&&
l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId=b.data.optionId;a.ranking=parseInt(b.data.executionInfo.offerRank);a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!0;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=
!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!0;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;l.event(a,e.nexus.producerId,e.nexus.schemaId,{ssd:!0});g("MonthlyPaymentSelection",
1)}},logNexusEventForComparePlansLink:function(b){if(v.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=
!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId=b.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!0;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;l.event(a,e.nexus.producerId,e.nexus.schemaId,
{ssd:!0});g("ComparePlansLink",1)}},logNexusEventForSwatchExpansion:function(b){if(v.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!1;
a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;l.event(a,e.nexus.producerId,
e.nexus.schemaId,{ssd:!0});g("SwatchExpansion",1)}},logNexusEventForComparePlansOfferSelection:function(b){if(v.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId=b.data.optionId;a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=
!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!0;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=
!1;l.event(a,e.nexus.producerId,e.nexus.schemaId,{ssd:!0});g("ComparePlansOfferSelection",1)}},logNexusEventForChangePlansLink:function(b){if(v.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;
a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId=b.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!0;a.isCheckboxSelected=!1;a.isCheckboxDeselected=
!1;a.isCancelPlanClicked=!1;l.event(a,e.nexus.producerId,e.nexus.schemaId,{ssd:!0});g("ComparePlansChangePlan",1)}},logNexusEventForCancelPlan:function(b){if(v.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=
b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=
!1;a.isCancelPlanClicked=!0;l.event(a,e.nexus.producerId,e.nexus.schemaId,{ssd:!0});g("ComparePlansCancelPlan",1)}},Timer:h,TimerPriceBlockMessaging:c}});"use strict";p.when("A","payment-options-constants","payment-options-expander-actions","payment-options-client-side-metric").register("multi-card-exp-payment-options",function(b,e,f,k){function g(){k.increment("Expander:Auto:Collapse");var d=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection;
f.collapsePaymentOptions(d);b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1}function d(){if(document.getElementById("payment-options-expander-header")){var d=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander"));d.isAutoExpand=!0;d.forceExpand=!0;b.trigger("a:declarative:expand-payment-options-expander",{data:d})}}return function(){var f=b.$(e.selector.multiCardExperimentElement).data(e.selector.multiCardExperimentData);
if(!f||!f.treatment)return{};var c=b.$(e.selector.activeTPlusCards).val();if(!c||!c.length)return{};c=c.split(",");return{expTreatment:f.treatment,isFirstCard:c[0]===e.featureRegistration.featureName,collapseCard:g,autoExpandCard:d}}()});"use strict";p.when("A").register("payment-options-constants",function(b){return{featureRegistration:{featureName:"paymentOptions",featureAttribution:"C/T/I"},nexus:{producerId:"ufo-dev",schemaId:"ufo_dev.DPXAwarenessAndConversion.6"},validators:{itemType:"paymentOfferInfo",
offerTypes:["EQUAL_PAY","ONE_TIME_PAYMENT"],cartTypes:["ADD_TO_CART"],cardTypes:["PLCC"]},metricConstants:{skipLearnMoreMetricForDesktop:"skipLearnMoreMetricForDesktop"},parameters:{itemType:"paymentOfferInfo",selectionType:{ADD:"add",DELETE:"delete"},offerTypes:{equalPay:"EQUAL_PAY",oneTimePayment:"ONE_TIME_PAYMENT"},cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"},cardTypes:{plcc:"PLCC"}},paymentOfferInputElement:{inputType:"hidden",name:"paymentOfferInfo"},imagesToLoad:".payment-options-financing-option-card-image .payment-options-expander-heading-image-container .payment-options-side-sheet-header .payment-options-side-sheet-option-summary .payment-options-side-sheet-comparison-group-container .payment-options-comparison-sheet-comparison-card-option".split(" "),
ajaxStatusText:{timeout:"Request Timeout"},selector:{expanderContainer:".payment-options-container",skeletonLoader:".payment-option-skeleton-loader",twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",paymentOptionExpand:"payment-options-expander-content-expand",skeletonLoaderExpand:"payment-option-skeleton-loader-expand",checkmark:".payment-options-selected-checkmark",subtitle:".payment-options-subtitle",subtitleText:".payment-options-subtitle-text",cardImage:".payment-options-selected-card-image",expanderIcon:".payment-options-expander-icon",
toggleButton:"#payment-options-toggle-button",expanderContent:".payment-options-expander-content",swatch:".payment-options-swatch",oneTimePaymentOption:".payment-options-default-option",financingOptions:".payment-options-financing-option",financingOptionTitle:".payment-options-financing-option-title",swatchOption:".payment-options-option",swatchHeading:".payment-options-option-heading",selectedHeading:"payment-options-selected-heading",selectedOption:"payment-options-selected-option",unavailableOption:"payment-options-unavailable-option",
unselectedHeading:"payment-options-unselected-heading",swatchDetail:".payment-options-option-detail",refreshCCText:"#payment_options_refresh_cc_text",refreshToggle:"#payment_options_refresh_cc_text_container",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",sideSheetButton:".payment-option-side-sheet-comparison-button",selectedButton:"payment-option-side-sheet-comparison-button-selected",unselectedButton:"payment-option-side-sheet-comparison-button-unselected",
disabledSwatch:"payment-option-disabled",monthlyPaymentAction:"payment-options-monthly-payment-action",paymentOptionsWeblabs:"#payment-options-weblabs",paymentOptionsWeblabsAttribute:"data-enabled-weblabs",paymentOptionsDefaultPickupBuyingOptionData:"#payment-options-default-buyingOption-pickup",isBuyingOptionOverridePresentAttribute:"data-is-pickup-buying-option-override-present",pickUpBuyingOptionIndex:"data-pickup-buying-option-index",payPlanColumnSelector:".payment-plan-column-selector",paymentDetailColumnSelector:".payment-details-column-selector",
interestColumnSelector:".interest-column-selector",payPlanAplliesSelector:".pay-plan-applies-to-column-selector",cardRewardColumnSelector:".card-reward-column-selector",oneTimePaymentHeadButton:".payment-option-onetimepayment-button",paymentOptionApplicabilityMessageLayout:".payment-option-applicibility-message-layout",paymentOptionApplicabilityMessage:".payment-option-applicibility-message-layout .payment-option-applicibility-message",swatchActionButton:".payment-options-swatch-action-button",toggleExpanderButton:".toggle-payment-options-expander-button",
setDynamicHeight:{paymentPlanRow:{rowElementsSelector:".payment-options-payment-plan-head, .payment-option-payment-plan-row-value"},paymentOptionDetailsRow:{columnValueElementsSelector:".monthly-payment-table-payment-details-column-value",rowElementsSelector:".payment-option-payment-details-row-value, .payment-options-payment-details-head"},interestRow:{rowElementsSelector:".payment-option-interest-row-value, .payment-options-interest-head"},planAppliesToRow:{rowElementsSelector:".payment-options-plan-applies-to-head, .payment-option-plan-applies-to-row-value"}}},
comparePlansSelector:{comparePlansSidesheetSelector:"#compare-all-plans-sideSheet",comparePlansContentSelector:"#compare-all-plans-content",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#compare-all-plans-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".compare-plans-sidesheet-ajax-error",skeletonLoaderClass:".compare-plans-sidesheet-skeleton-loader",
comparePlansPaymentOptionSelector:".payment-plan-",comparePlansPaymentOptionWithLearnMoreSelector:".payment-plan-column-",comparePlansButtonIdSelector:"#monthlyPaymentOption",comparePlansColumnSelector:".payment-option-table-column",comparePlansColumnWithLearnMoreSelector:".payment-option-table-monthly-payments-column",comparePlansButtonSelector:".payment-option-side-sheet-comparison-button"},learnMoreSelector:{learnMoreSidesheetSelector:"#payment-option-learn-more-sideSheet",learnMoreContentSelector:"#payment-options-learn-more-ajax",
viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#payment-options-learn-more-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".learn-more-sidesheet-ajax-error",skeletonLoaderClass:".learn-more-sidesheet-skeleton-loader"},ajaxErrorReasons:{timeoutStatus:"Request Timeout"},classes:{hideSwatchMainViewClass:"payment-option-list-item-hidden",paymentOptionsList:".payment-options-list",
unavailableCompareAllPlansOption:"payment-options-comparison-sheet-unavailable-option",disabledComparisonPlanButton:"payment-option-comparison-sheet-disabled",auiDisabledButtonClass:"a-button-disabled",auiEnabledButtonClass:"a-button-normal",popOverHideClass:"popover-hide",popOverShowClass:"popover-show",colLeftRightBorder:"Payment-option-side-sheet-left-right-column-border",colTopBorder:"Payment-option-side-sheet-top-border",colBottomBorder:"Payment-option-side-sheet-bottom-border",cardRewardHideClass:"payment-options-card-reward-hide",
normalLeftBorder:"payment-option-column-normal-left-border",normalRightBorder:"payment-option-column-normal-right-border",selectedPaymentOptionBorder:"payment-option-selected-column-border",normalPaymentOptionBorder:"payment-option-column-normal-border",selectedButtonClass:"payment-option-side-sheet-comparison-button-selected",unselectedButtonClass:"payment-option-side-sheet-comparison-button-unselected",disabledPaymentOptionOrder:"payment-option-disabled-column-order",disabledPaymentOptionClass:"payment-option-disabled-column"},
animationTimeoutUnit:200,metricPrefix:"DPX:TwisterPlusCCCard:PaymentOptions:",metricPrefixPriceblock:"DPX:PriceBlockMessaging:PaymentOptions:",metricPrefixUFO:"DPX:UnifiedFinancingOffers:PaymentOptions:",classSelector:".",disabledPaymentOptionSelecter:"titleSupplement",popOverText:"popover",attributes:{ariaChecked:"aria-checked",ariaExpanded:"aria-expanded"}}});"use strict";p.when("A","cc-manager","payment-options-constants","payment-options-expander-state","payment-options-expander-actions","payment-options-client-side-metric",
"multi-card-exp-payment-options","payment-plan-state").register("payment-options-registration",function(b,e,f,k,g,d,h,c){function l(b){return"string"===typeof b}function w(b){for(var a=b.length-1;0<=a;a--){var d=b.get(a).id;if(d!==x&&!u("#"+d).parent().parent().parent().hasClass(f.classes.hideSwatchMainViewClass)){u("#"+d).parent().parent().parent().addClass(f.classes.hideSwatchMainViewClass);break}}}function a(){var a;var d=(a=u(f.selector.paymentOptionsDefaultPickupBuyingOptionData))&&"true"===
a.attr(f.selector.isBuyingOptionOverridePresentAttribute);a=a&&d?(a=a.attr(f.selector.pickUpBuyingOptionIndex))?a:x:void 0;return"#paymentOption_"+(a?a:b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0)}function m(b){var a=b.executionInfo;a.cartType=f.parameters.cartTypes.addToCart;return{itemType:f.parameters.itemType,price:b.price,selectionType:f.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:b.priceAndTermCountDisplayString,interestDisplayString:b.interestDisplayString,
interestAmount:b.interestAmount,orderSummaryDisplayString:b.orderSummaryDisplayString,invalidSelectionTitle:b.cardName,isOrderLevel:b.isOrderLevel,bottomSheetFootnoteDisplayString:b.bottomSheetFootnoteDisplayString,termCount:b.termCount,termType:b.termType,formData:[{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:a}]}}var u=b.$;h=h.expTreatment;var r="T2"!==h&&"T3"!==h,z=f.featureRegistration.featureName;e.registerFeature(f.featureRegistration,
{init:function(d){b.$(a()).removeClass("a-hidden")},validateInputParams:function(b){return b&&b.formData&&1===b.formData.length&&b.itemType===f.validators.itemType&&l(b.priceAndTermCountDisplayString)&&l(b.orderSummaryDisplayString)&&l(b.interestDisplayString)&&"number"===typeof b.price&&"number"===typeof b.interestAmount&&l(b.bottomSheetFootnoteDisplayString)?!0:!1},cardCollapse:function(){var a=c.paymentOptionSelected.paymentOptionClickedFromSideSheet;r&&!a&&(d.increment("Expander:Auto:Collapse"),
a=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,g.collapsePaymentOptions(a),b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1)},refreshCard:function(){b.$(f.selector.refreshToggle).removeClass("refresh-toggle");b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand&&b.$(f.selector.refreshCCText).removeClass("a-hidden")},switchBuyingOption:function(a,d,
c,h,l,r){h=r&&-1!==r?r:a;b.$("[id^\x3dpaymentOption_]").addClass("a-hidden");a=b.$(".payment-options-selected-option").closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action");var p;b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander")!==x&&(d=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,a===x&&!0===d&&(p=b.$("[data-payment-options-emp-action]").data("payment-options-emp-action")));
var v;a&&(v=a.offerGroup);b.$("#paymentOption_"+h).removeClass("a-hidden");var D=u("#paymentOption_"+h).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander");d=u("#paymentOption_"+h+" #oneTimePaymentOptionSwatch");b.$(d).click();b.delay(function(){D.isExpand||u(f.selector.subtitleText).text(D.collapseSubtitle)},100);c=d=!1;e.ccRemovedSelectionsClear(z);a===x&&p!==x&&(l=b.$("#paymentOption_"+h+" [data-payment-options-emp-action]").data("payment-options-emp-action"),
d=l!==x,!0===d&&(u(f.selector.subtitleText).text(l.preselectionSubtitle),k.expanderSubtitle.monthlyPaymentOptionsCollapsedSubtitle=l.preselectionSubtitle,k.expanderSubtitle.monthlyPaymentOptionsExpandedSubtitle=l.preselectionSubtitle),!1===d&&e.ccRemovedSelectionUpdate(z,m(p)));if(v){p=u("#paymentOption_"+h+" .payment-options-financing-option");h=p.length;d=0<h;for(l=0;l<h;l++){r=p.get(l);var F=b.$(r).closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action"),
E=u("#"+r.id).parent().parent().parent(),I=E.hasClass(f.classes.hideSwatchMainViewClass);if(F&&v===F.offerGroup){c=!0;I&&(w(p),E.removeClass(f.classes.hideSwatchMainViewClass));b.$(r).click();var A=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection}}(!d||d&&!c)&&e.ccRemovedSelectionUpdate(z,m(a));g.collapsePaymentOptions(A)}}})});"use strict";p.when("A","cc-manager","payment-options-constants","payment-options-registration").register("cc-payment-options",
function(b,e,f){function k(b){var a=h("form#buyNowCheckout");if(0<a.length){var d=a.find("input[name\x3d"+f.parameters.itemType+"]");b=b.executionInfo;b.cartType=f.parameters.cartTypes.buyNow;b=JSON.stringify(b);1>d.length?h("\x3cinput\x3e").attr({type:f.paymentOfferInputElement.inputType,name:f.paymentOfferInputElement.name,value:b,id:"bnMshopPaymentOfferInfo"}).appendTo(a):(a=h("#bnMshopPaymentOfferInfo"),1<d.length?a.detach():a.val(b))}}function g(b){var a=b.executionInfo;a.sessionId=b.sessionId;
a.customerId=b.customerId;a.marketplaceId=b.marketplaceId;a.requestId=b.requestId;a.deviceType=b.deviceType;a.asin=b.asin;a.buyingOptionType=b.buyingOptionType;a.parentASIN=b.parentASIN;a.websiteDisplayGroup=b.websiteDisplayGroup}function d(b,a){return{itemType:f.parameters.itemType,price:b.price,selectionType:f.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:b.priceAndTermCountDisplayString,interestDisplayString:b.interestDisplayString,interestAmount:b.interestAmount,orderSummaryDisplayString:b.orderSummaryDisplayString,
isOrderLevel:b.isOrderLevel,bottomSheetFootnoteDisplayString:b.bottomSheetFootnoteDisplayString,termCount:b.termCount,termType:"mo",formData:a}}var h=b.$,c=f.featureRegistration.featureName,l;return{updatePaymentOptionSelection:function(b){if(!b)return!1;e.ccSelectionsClear(c);clearTimeout(l);h("#bnMshopPaymentOfferInfo").detach();var a=[],m;if(b.hasOwnProperty("executionDetails")&&0!==Object.keys(b.executionDetails).length){var u=b.executionDetails;Object.keys(u).forEach(function(d){if("paymentOfferInfoType"===
d){var c=JSON.parse(b.executionDetails.paymentOfferInfoType);c.sessionId=b.sessionId;c.customerId=b.customerId;c.marketplaceId=b.marketplaceId;c.requestId=b.requestId;c.deviceType=b.deviceType;c.asin=b.asin;c.buyingOptionType=b.buyingOptionType;c.parentASIN=b.parentASIN;c.websiteDisplayGroup=b.websiteDisplayGroup;b.executionDetails.paymentOfferInfoType=JSON.stringify(c);a.push([{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:JSON.parse(u[d])}])}else a.push([{inputType:f.paymentOfferInputElement.inputType,
inputName:d,inputValue:u[d]}])});for(var r=0;r<a.length;r++)if(m=d(b,a[r]),m=e.ccSelectionUpdate(c,m),!m)return!1}else if(b.hasOwnProperty("executionInfo")&&0!==Object.keys(b.executionInfo).length)g(b),a.push([{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:b.executionInfo}]),m=d(b,a[0]),m=e.ccSelectionUpdate(c,m);else return!0;k(b);l=setTimeout(function(){k(b)},1E3);return m}}});"use strict";p.when("A","cc-payment-options").register("payment-options-actions",
function(b,e){b.declarative("select-payment-option","click",function(b){e.updatePaymentOptionSelection(b.data)})});"use strict";p.when("A","payment-options-opt-out-state","compare-plan-modal","comparison-plans-state","payment-options-client-side-metric","price-block-messaging-constants").register("po-compare-plans-actions",function(b,e,f,k,g,d){function h(d){v(d.data.buyingOptionIndex,!1);f.updateModalHeader(d.data.buyingOptionIndex,d.data.comparisonTableHeaderText);l(d);b.hide(n.MORE_OPTION_CLASS);
a(k.paymentOptionSelected.paymentOptionSelectedButtonId)}function c(a){v(a.data.buyingOptionIndex,!1);f.updateModalHeader(a.data.buyingOptionIndex,a.data.comparisonTableHeaderText);b.hide(n.OFFER_SELECTION_SHEET_CLASS);b.hide(n.LEARN_MORE_SHEET_CLASS);a=q([n.COMPARISON_TABLE_PREFIX,a.data.buyingOptionIndex].join(d.DASH_SPLITTER));b.show(a)}function l(a){var c=a.data.buyingOptionIndex;a=a.data.selectText;b.hide(n.OFFER_SELECTION_SHEET_CLASS);b.hide(n.LEARN_MORE_SHEET_CLASS);q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,
c].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA,{buyingOptionIndex:c});var e=q([n.COMPARISON_TABLE_PREFIX,c].join(d.DASH_SPLITTER));b.show(e);e.find(n.COMPARISON_TABLE_COLUMN_CLASS).removeClass(t.COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER);e.find(n.COMPARISON_TABLE_COLUMN_CLASS).removeClass(t.COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND);e.find(n.COMPARISON_TABLE_CAN_DISABLE_CLASS).removeClass(t.COMPARISON_TABLE_DISABLED_COLUMN);e.find(n.COMPARISON_TABLE_COLUMN_CLASS).sort(function(b,
a){b=q(b).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).paymentProductIndex;a=q(a).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).paymentProductIndex;return b-a}).appendTo([n.COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX,c].join(d.DASH_SPLITTER));b.hide([n.COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX,c].join(d.DASH_SPLITTER));q([n.COMPARISON_TABLE_MODAL_PREFIX,
c].join(d.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_DISABLE_ROW_CLASS);q.each(k.paymentOptionSelected.disabledPaymentOptionIds,function(b,a){if(a&&""!==a)if(m(a,t.OFFER_SELECTION_ROW_ACTION_PREFIX)){var c=q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME);b=c.buyingOptionIndex;a=c.paymentProductIndex;c=[n.OFFER_SELECTION_ROW_ID_PREFIX,b,a,c.paymentOptionIndex].join(d.DASH_SPLITTER);q(c).addClass(t.OFFER_SELECTION_DISABLE_ROW_CLASS);var c=
[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,b,a].join(d.DASH_SPLITTER),M=q(c),c=M.children().length,M=M.children(n.OFFER_SELECTION_DISABLED_ROW_CLASS).length;c===M&&N(b,a)}else c=q("#"+a).parent().data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA),b=c.buyingOptionIndex,a=c.paymentProductIndex,N(b,a)});e.find(n.COMPARISON_TABLE_COLUMN_CLASS).each(function(){var b=q(this).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);if(1===
b.numberOfPaymentOptionsWithinProduct)return!0;if(q(this).hasClass(t.COMPARISON_TABLE_DISABLED_COLUMN))var a=q(this),b=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,b.buyingOptionIndex,b.paymentProductIndex].join(d.DASH_SPLITTER),b=q(b).children().first().find(".a-declarative").data(t.OFFER_SELECTION_ACTION_NAME_CAMEL_CASE);else a=q(this),b=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,b.buyingOptionIndex,b.paymentProductIndex].join(d.DASH_SPLITTER),b=q(b).children().not("."+t.OFFER_SELECTION_DISABLE_ROW_CLASS).first().find(".a-declarative").data(t.OFFER_SELECTION_ACTION_NAME_CAMEL_CASE);
w(a,b)});b.show(n.COMPARISON_TABLE_OPTION_LIKE);b.hide(n.COMPARISON_TABLE_MORE_OPTION);q(n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_CLASS).removeClass(t.COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED);q(n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_CLASS).text(a);P(e.find(n.COMPARISON_TABLE_SELECT_ACTION_BUTTON),!1)}function w(a,d){a.find('[id^\x3d"'+t.COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX+'"]').text(d.paymentDetailsSubtitle);a.find('[id^\x3d"'+t.COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX+
'"]').text(d.interestDisplayString);a.find('[id^\x3d"'+t.COMPARISON_TABLE_INTEREST_APR_ID_PREFIX+'"]').text(d.interestApr);a.find('[id^\x3d"'+t.COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX+'"]').text(d.planTotal);d.isOrderLevel?(b.show(a.find('[id^\x3d"'+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX+'"]')),b.hide(a.find('[id^\x3d"'+t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX+'"]'))):(b.hide(a.find('[id^\x3d"'+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX+'"]')),b.show(a.find('[id^\x3d"'+t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX+
'"]')));a.find('[id^\x3d"'+t.COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX+'"]').text(d.optionRewardText);a.find('[id^\x3d"'+t.COMPARISON_TABLE_LEARN_MORE_ID_PREFIX+'"]').closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_LEARN_MORE_ACTION_DATA).learnMoreViewDomId=d.learnMoreViewDomId}function a(a){""===a||"oneTimePaymentOption"===a||b.contains(k.paymentOptionSelected.disabledPaymentOptionIds,a)||(m(a,t.OFFER_SELECTION_ROW_ACTION_PREFIX)?(a=q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME),
a={data:a},D(a),E(a)):(a=q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA),a={data:a},u(a)))}function m(b,a){if(null===b||b===x||null===a||a===x||a.length>b.length)return!1;for(var d=0;d<a.length;d++)if(b[d]!==a[d])return!1;return!0}function u(a){l(a);b.hide(n.MORE_OPTION_CLASS);z(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.selectedText);I(a.data.buyingOptionIndex,a.data.paymentOptionSelectButtonId,a.data.buttonActionName)}function r(a,c){a=q(n.MORE_OPTION_PREFIX+
[a,c].join(d.DASH_SPLITTER));b.show(a)}function z(b,a,c){var e=q([n.COMPARISON_TABLE_PREFIX,b].join(d.DASH_SPLITTER)),f=[n.COMPARISON_TABLE_COLUMN_ID_PREFIX,b,a].join(d.DASH_SPLITTER),g=[n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_ID_PREFIX,b,a].join(d.DASH_SPLITTER);b=[n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_ID,b,a].join(d.DASH_SPLITTER);e.find(f).addClass(t.COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER);e.find(f).addClass(t.COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND);e.find(g).addClass(t.COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED);
e.find(b).text(c);P(e.find(f).find(n.COMPARISON_TABLE_SELECT_ACTION_BUTTON),!0)}function N(b,a){b=[n.COMPARISON_TABLE_COLUMN_ID_PREFIX,b,a].join(d.DASH_SPLITTER);q(b).find(n.COMPARISON_TABLE_CAN_DISABLE_CLASS).addClass(t.COMPARISON_TABLE_DISABLED_COLUMN);q(b).appendTo(q(b).parent())}function p(a){B(a)&&r(a.data.buyingOptionIndex,a.data.paymentProductIndex);b.hide(q([n.COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX,a.data.buyingOptionIndex].join(d.DASH_SPLITTER)));f.updateModalHeader(a.data.buyingOptionIndex,
a.data.comparisonTableHeaderText);b.hide(q("#"+a.data.currentViewDomId));b.show(q("#"+a.data.comparisonTableDomId))}function B(a){return d.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a.data?!0:(b.show(q([n.COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX,a.data.buyingOptionIndex].join(d.DASH_SPLITTER))),!1)}function v(b,a){b=q([n.COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX,b].join(d.DASH_SPLITTER));a?b.animate({scrollLeft:0},100):b.scrollLeft(0)}function J(b){K(b.data.buyingOptionIndex,b.data.paymentProductIndex);
var a=q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,b.data.buyingOptionIndex].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA);d.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a&&m(a.paymentOptionSelectButtonId,t.OFFER_SELECTION_ROW_ACTION_PREFIX)&&(a={data:q("#"+a.paymentOptionSelectButtonId).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME)},D(a));f.updateModalHeader(b.data.buyingOptionIndex,b.data.offerSelectionHeaderText);A(b.data.buyingOptionIndex,
b.data.paymentProductIndex)}function G(b){H(b.data.buyingOptionIndex,b.data.paymentProductIndex);f.updateModalHeader(b.data.buyingOptionIndex,b.data.offerSelectionHeaderText);A(b.data.buyingOptionIndex,b.data.paymentProductIndex)}function K(a,c){var e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER));e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);
b.hide(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,a,c].join(d.DASH_SPLITTER)));q([n.OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX,a,c].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_CONTINUE_ACTION_DATA,{buyingOptionIndex:a,paymentProductIndex:c})}function H(a,c){var e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER));e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);
b.hide(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,a,c].join(d.DASH_SPLITTER)))}function D(b){K(b.data.buyingOptionIndex,b.data.paymentProductIndex);var a=b.data.buyingOptionIndex,c=b.data.paymentProductIndex,e=b.data.paymentOptionIndex,f=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER)),a=[n.OFFER_SELECTION_ROW_ID_PREFIX,a,c,e].join(d.DASH_SPLITTER);f.find(a).addClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);f.find(a).addClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);
f=b.data.buyingOptionIndex;a=b.data.paymentProductIndex;c=b.data.buttonActionName;b=q("#"+b.data.paymentOptionSelectButtonId).closest(n.SPAN_DECLARATIVE).data(c);q([n.OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX,f,a].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_CONTINUE_ACTION_DATA,b)}function F(b){H(b.data.buyingOptionIndex,b.data.paymentProductIndex)}function E(a){if(!(d.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a.data))return b.show(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,
a.data.buyingOptionIndex,a.data.paymentProductIndex].join(d.DASH_SPLITTER))),!1;l(a);z(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.selectedText);r(a.data.buyingOptionIndex,a.data.paymentProductIndex);var c=a.data.buyingOptionIndex,e=a.data.paymentProductIndex;q(["#"+t.COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.paymentDetailsSubtitle);q(["#"+t.COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.interestDisplayString);
q(["#"+t.COMPARISON_TABLE_INTEREST_APR_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.interestApr);q(["#"+t.COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.planTotal);a.data.isOrderLevel?(b.show(q(["#"+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER))),b.hide(q(["#"+t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)))):(b.hide(q(["#"+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER))),b.show(q(["#"+
t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX,e].join(d.DASH_SPLITTER))));q(["#"+t.COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.optionRewardText);q("#"+a.data.learnMoreLinkDomId).closest(n.SPAN_DECLARATIVE).data(a.data.learnMoreLinkActionName).learnMoreViewDomId=a.data.learnMoreViewDomId;b.show(q([n.COMPARISON_TABLE_ROW_VALUE_MORE_OPTION_ID,c,e].join(d.DASH_SPLITTER)));b.hide(q([n.COMPARISON_TABLE_ROW_VALUE_OPTION_LIKE_ID,c,e].join(d.DASH_SPLITTER)));I(a.data.buyingOptionIndex,
a.data.paymentOptionSelectButtonId,a.data.buttonActionName)}function I(b,a,c){a=q("#"+a).closest(n.SPAN_DECLARATIVE).data(c);q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,b].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA,a)}function A(a,c){b.hide(q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)));b.show(q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER)))}function y(a){b.hide(q("#"+a.data.comparisonTableDomId));f.updateModalHeader(a.data.buyingOptionIndex,
a.data.learnMoreHeaderText);b.show(q("#"+a.data.learnMoreViewDomId))}function L(a){return m(a,t.OFFER_SELECTION_ROW_ACTION_PREFIX)?q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME):q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA)}function P(a,b){a&&a.attr(Q.ariaChecked,b)}var q=b.$,n=d.selector,t=d.classes,Q=d.attributes;b.declarative("price-block-compare-plans","click",function(a){var l=a.data.changePlanBehavior,m=e.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet;
k.paymentOptionSelected.paymentOptionSelectedButtonId&&"oneTimePaymentOption"!==k.paymentOptionSelected.paymentOptionSelectedButtonId?g.logNexusEventForChangePlansLink(a):g.logNexusEventForComparePlansLink(a);b.loadImageManually(q(".comparison-table-comparison-card-image"));m||"OPT_OUT_PLAN"!==l?(g.incrementWithValuePriceBlockMessaging(d.metrics.COMPARE_PLAN_CLICK,1),a.data.isMxViewableExperienceEnabled?c(a):h(a),f.showModal(a)):(e.paymentOptionOptOutSelected.changePlanEventData=a,b.trigger("a:declarative:open-priceblock-change-plan-modal:click",
a))});b.declarative("comparison-table-select-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.logNexusEventForComparePlansOfferSelection(a),b.loadImageManually(q(".compare-plan-payment-product-card-image")),a.data.shouldNotSelectFinancingOptionColumn||(a.data.isMxViewableExperienceEnabled||1<a.data.numberOfPaymentOptionsWithinProduct?(g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_SELECT_BUTTON_MORE_OFFER_CLICK,1),a.data.isMxViewableExperienceEnabled?
G(a):J(a)):(g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_SELECT_BUTTON_SINGLE_OFFER_CLICK,1),u(a)))});b.declarative("offer-selection-select-row",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_OFFER_SELECTION_SELECT_ROW_CLICK,1),a.data.isMxViewableExperienceEnabled?F(a):(D(a),b.hide(n.MORE_OPTION_CLASS))});b.declarative("compare-plan-offer-selection-continue",["click","keydown"],function(a){if("keydown"!==
a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_OFFER_SELECTION_CONTINUE_CLICK,1),a.data.isMxViewableExperienceEnabled||E(a),p(a)});b.declarative("comparison-table-confirm-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_CONFIRM_PLAN_WITHOUT_OFFER_SELECTED_CLICK,1),a.data.isMxViewableExperienceEnabled?f.hideModal(a.data.buyingOptionIndex):
B(a)&&(g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_CONFIRM_PLAN_OFFER_SELECTED_CLICK,1),b.trigger("a:declarative:price-block-select-payment-plan:click",a),f.hideModal(a.data.buyingOptionIndex))});b.declarative("comparison-table-cancel-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_CANCEL_PLAN_CLICK,1),g.logNexusEventForCancelPlan(a),f.hideModal(a.data.buyingOptionIndex),l(a),
b.trigger("a:declarative:price-block-otp-action:click",a)});b.declarative("comparison-table-learn-more","click",function(a){b.loadImageManually(q(".compare-plan-learn-more-feature-image-content"));b.loadImageManually(q(".compare-plan-payment-product-card-image"));g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_LEARN_MORE_CLICK,1);y(a)});b.declarative("back-to-comparison-table",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_BACK_CLICK,
1),p(a)});var R=function(a,b){return a.id<b.id?-1:a.id>b.id?1:0};return{renderComparisonTable:h,renderViewableComparisonTable:c,selectPaymentOptionInComparisonTable:u,selectPaymentOptionInOfferSelection:D,selectPaymentOptionInViewableOfferSelection:F,confirmPlanInOfferSelection:E,renderOfferSelectionView:J,renderViewableOfferSelectionView:G,renderLearnMoreView:y,selectAndConfirmPlan:function(b,c){a(c);q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,b].join(d.DASH_SPLITTER)).click()},isAnyOfferSelected:B,
getMaxQuantityData:function(a){return L(a).maxQuantity},findMaximumMaxQuantity:function(a){var b=1;a=q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)).find(n.COMPARISON_TABLE_COLUMN_CLASS);q.each(a,function(a,c){a=q(c).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).parent().data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);c=a.buyingOptionIndex;var e=a.paymentProductIndex;1<a.numberOfPaymentOptionsWithinProduct?(a=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_ACTION_CLASS),
q.each(a,function(a,c){a=q(c).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME);b=Math.max(b,a.maxQuantity)})):b=Math.max(b,a.maxQuantity)});return b},getTotalOptionCount:function(a){var b=0;q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).each(function(){var a=q(this).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).numberOfPaymentOptionsWithinProduct;b+=a});return b},getTopEnabledOfferDataInComparisonTable:function(a){a=
q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).sort(R);var c;q.each(a,function(a,e){if(c)return!1;a=q(e).parent().data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);var f=a.buyingOptionIndex,g=a.paymentProductIndex;if(1<a.numberOfPaymentOptionsWithinProduct)e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,f,g].join(d.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_ACTION_CLASS),q.each(e,function(a,d){a=q(d).attr("id");if(!k.paymentOptionSelected.disabledPaymentOptionIds||
!b.contains(k.paymentOptionSelected.disabledPaymentOptionIds,a))return c=a,!1});else if(e=q(e).attr("id"),!k.paymentOptionSelected.disabledPaymentOptionIds||!b.contains(k.paymentOptionSelected.disabledPaymentOptionIds,e))return c=e,!1});if(c)return L(c)},backToComparisonTable:p}});"use strict";p.when("A","compare-plan-row-constants").register("compare-plan-row-height-updater",function(b,e){var f=[e.COMPARE_PLAN_PAYMENT_DETAILS,e.COMPARE_PLAN_INTEREST_ROW];return{updateRowHeight:function(e){for(var g=
0;g<f.length;g++){for(var d=b.$(e).find(f[g]),h,c=h=0;c<d.length;c++)d[c].offsetHeight>h&&(h=d[c].offsetHeight);if(0<h)for(c=0;c<d.length;c++)d[c].style.height=h.toString()+"px"}}}});"use strict";p.when("A").register("compare-plan-row-constants",function(b){return{COMPARE_PLAN_CARD_OPTION:".comparison-table-comparison-card-option",COMPARE_PLAN_PAYMENT_DETAILS:".comparison-table-payment-details",COMPARE_PLAN_INTEREST_ROW:".comparison-table-interest-row-value",COMPARE_PLAN_TOTAL_AMOUNT:".comparison-table-total-amount",
COMPARE_PLAN_APPLIES_TO_ROW:".comparison-table-plan-applies-to-row-value",COMPARE_PLAN_REWARD_ROW:".comparison-table-card-reward-row-value"}});"use strict";p.when("A").register("po-sidesheet-ajax-state",function(b){var e=b.$,f={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""},k={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""};return{getComparePlansState:function(b){return f[b]},setComparePlansState:function(b,d){f[b]=d},getLearnMoreState:function(b){return k[b]},setLearnMoreState:function(b,
d){k[b]=d},checkInconsistentState:function(){if(f.isAjaxContentLoaded&&k.isAjaxContentLoaded){if(f.ajaxContentAsin!==k.ajaxContentAsin)return this.resetComparePlansState(),this.resetLearnMoreState(),!0;var b=e("#twister-plus-asin").val();if(f.ajaxContentAsin!==b)return this.resetComparePlansState(),this.resetLearnMoreState(),!0}return!1},resetComparePlansState:function(){this.setComparePlansState("ajaxContent","");this.setComparePlansState("isAjaxContentLoaded",!1);this.setComparePlansState("ajaxContentAsin",
"")},resetLearnMoreState:function(){this.setLearnMoreState("ajaxContent","");this.setLearnMoreState("isAjaxContentLoaded",!1);this.setLearnMoreState("ajaxContentAsin","")}}});"use strict";p.when("A","payment-options-state","payment-options-opt-out-state","comparison-plans-state","po-compare-plans-actions","price-block-messaging-constants","payment-options-client-side-metric").register("ufo-compare-payment-plans",function(b,e,f,k,g,d,h){var c=b.$;b.declarative("compare-payment-plans","click",function(c){b.trigger("a:declarative:side-sheet:click",
c);e.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",c):g.renderPreselection(c)});b.declarative("price-block-compare-payment-plans","click",function(c){h.incrementWithValuePriceBlockMessaging(d.metrics.COMPARE_PLAN_CLICK,1);var w=c.data.changePlanBehavior,a=f.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet;k.paymentOptionSelected.paymentOptionSelectedButtonId&&"oneTimePaymentOption"!==k.paymentOptionSelected.paymentOptionSelectedButtonId?
h.logNexusEventForChangePlansLink(c):h.logNexusEventForComparePlansLink(c);a||"OPT_OUT_PLAN"!==w?(b.trigger("a:declarative:open-payment-options-side-sheet:click",c),e.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",c):(g.renderPreselection(c),h.incrementWithValuePriceBlockMessaging(d.metrics.COMPARE_PLAN_RENDERED,1))):(f.paymentOptionOptOutSelected.changePlanEventData=c,b.trigger("a:declarative:open-priceblock-change-plan-modal:click",c))});
b.declarative("compare-payment-plans-ajax","click",function(b){g.loadAjaxContent(b)});b.declarative("overflow-sidesheet","click",function(d){var e=c(d.$currentTarget);e!==x&&null!==e&&(c("#"+d.data.paymentOptionSelectButtonId)[0].classList.contains("a-button-disabled")||b.trigger("a:declarative:monthly-payment-option-selection:click",d))})});"use strict";p.when("A","po-sidesheet-ajax-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-plan-state").register("po-learn-more-actions",
function(b,e,f,k,g,d){function h(){e.resetLearnMoreState();r(f.learnMoreSelector.skeletonLoaderClass).addClass("aok-hidden");r(f.learnMoreSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}function c(a,b){a=r(a);var c=w(),d=f.learnMoreSelector.preselectiedOptionSelector+"-"+c,e=f.learnMoreSelector.paymentOptionsCountSelector+"-"+c,h=f.learnMoreSelector.firsOfferIdSelector+"-"+c;return 0!==a.filter(f.learnMoreSelector.viewModelFailedSelector+"-"+c).length?(g.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",
1),!0):0!==a.filter(d).length?(g.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(e).data("paymentPlansCount")!==b.numberOfPaymentOptions?(g.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(h).data("firstOfferId")!==b.firstOfferId?(g.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function l(c,d,h){r(f.learnMoreSelector.learnMoreSidesheetSelector).html(e.getLearnMoreState("ajaxContent"));h=f.learnMoreSelector.learnMoreContentSelector+
"-"+h;h+=w();r(h).removeClass("aok-hidden");b.loadDescendantImagesManually(r(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(r(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(r(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(r(".payment-options-comparison-sheet-comparison-card-option"));a(c,d)}function w(){return b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function a(a,
b){m(d.paymentOptionSelected.paymentOptionSelectedButtonId,a,b)}function m(a,b,c){u(b);r(function(){r("[id\x3d"+a+"]").removeClass(z.unselectedButton);r("[id\x3d"+a+"]").addClass(z.selectedButton);r("[id\x3d"+a+"]").children(0).children(0).text(c);r("[id\x3d"+a+"]").text(c)})}function u(a){r(z.sideSheetButton).removeClass(z.selectedButton);r(z.sideSheetButton).addClass(z.unselectedButton);r(z.sideSheetButton).text(a);r(z.oneTimePaymentHeadButton).removeClass(z.selectedButton);r(z.oneTimePaymentHeadButton).addClass(z.unselectedButton);
r(z.oneTimePaymentHeadButton).text(a)}var r=b.$,z=f.selector;b.on("PageRefresh:ATF",function(){e.resetLearnMoreState()});return{loadAjaxContent:function(a){var d=a.data.selectText,m=a.data.selectedText,k=r("#twister-plus-asin").val();null===k||""===k?(g.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),h()):e.getLearnMoreState("isAjaxContentLoaded")&&!e.checkInconsistentState()?l(d,m,a.data.index):(r(f.learnMoreSelector.skeletonLoaderClass).removeClass("aok-hidden"),r(f.learnMoreSelector.ajaxErrorMessageSelector).addClass("aok-hidden"),
b.ajax("/gp/product/ajax?",{method:"get",timeout:1E4,params:{asin:k,showFeatures:"paymentOptionsLearnMoreSidesheetAjax,paymentOptions",experienceId:"paymentOptionsAjaxExperience"},success:function(b){null===b||/^\s*$/.test(b)?(g.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),h()):c(b,a.data)?h():(e.setLearnMoreState("ajaxContent",b),e.setLearnMoreState("isAjaxContentLoaded",!0),e.setLearnMoreState("ajaxContentAsin",k),l(d,m,a.data.index))},error:function(a,b){b===f.ajaxErrorReasons.timeoutStatus?
g.incrementWithValue("Ajax:Failure:Timeout",1):g.incrementWithValue("Ajax:Failure",1);h()}}))},stopEventPropagation:function(a){a.$event.preventDefault();a.$event.stopImmediatePropagation()},preRenderSelectedFinancingOption:a}});"use strict";p.when("A","payment-options-state","po-learn-more-actions","payment-options-client-side-metric","payment-options-constants").register("payment-options-learn-more-events",function(b,e,f,k,g){b.declarative("payment-options-learn-more","click",function(d){k.increment("SideSheet:Link:Click");
f.stopEventPropagation(d);b.trigger("a:declarative:side-sheet:click",d);!d.data.isComparePlansEvent&&e.getWeblabData().isDesktopLearnMoreAjaxEnabled?b.trigger("a:declarative:payment-options-learn-more-ajax:click",d):f.preRenderSelectedFinancingOption(d.data.selectText,d.data.selectedText)});b.declarative("payment-options-gil-skip-learn-more","click",function(b){k.incrementWithValue(g.metricConstants.skipLearnMoreMetricForDesktop,1);v.open(b.data.partnerUrl,"_blank","noopener")});b.declarative("payment-options-learn-more-ajax",
"click",function(b){f.loadAjaxContent(b)})});"use strict";p.when("A","payment-options-expander-actions","payment-options-expander-state","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,e,f,k,g){function d(b){if(a===x||null===a||null===b.data.isExpand||b.data.isExpand===x){if(null===b.data.isExpand||b.data.isExpand===x)c("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1,b.data.isExpand=!1;e.initSubtitle(b);m&&e.hideLoaderAnimation(b.data.isExpand)}}
function h(b){a=!0;var c=b.data.renderPreselection;f.autoScroll=!b.data.isAutoExpand;c||m?e.expandPaymentOptions(m,c):(u.isStarted||u.start(),e.expandSkeletonLoader(c));k.logNexusEventForSwatchExpansion(b)}var c=b.$,l=g.expTreatment,w=g.isFirstCard&&"T1"===l||"T2"===l||"T3"===l,a,m=f.isLoaded,u=new k.Timer("Desktop:Expander:Loading:UserWaiting:Time"),r=new k.Timer("Desktop:Expander:Loading:Time");r.start();p.when("cc-payment-options").execute(function(){r.stop();u.isStarted&&u.stop();m=!0;e.hideLoaderAnimation(a);
k.incrementWithValue("Container:Swatch:Amount",c(".payment-options-list-item").length)});b.declarative("toggle-payment-options-expander",["click","keydown"],function(f){if("keydown"!==f.type||13===f.$event.keyCode||32===f.$event.keyCode){d(f);a=f.data.isExpand;var g=f.data.renderPreselection;!0===a?(a=!1,k.increment("Desktop:Expander:Click:Collapse"),e.collapsePaymentOptions(g)):!1===a&&h(f);c("[data-toggle-payment-options-expander]").each(function(){c(this).data("toggle-payment-options-expander").isExpand=
a});b.trigger("a:declarative:expander-update-visible-payment-options:click",f)}});b.declarative("expand-payment-options-expander",function(a){if(!l||a.data.forceExpand)d(a),h(a),c("[data-toggle-payment-options-expander]").each(function(){c(this).data("toggle-payment-options-expander").isExpand=!0})});w&&g.autoExpandCard()});"use strict";p.when("A","payment-options-expander-state","payment-options-constants","payment-options-client-side-metric","payment-options-swatch-actions","cc-manager").register("payment-options-expander-actions",
function(b,e,f,k,g,d){function h(){if(e.autoScroll){var b=a(m.expanderContainer),c=b.offset().top+b.outerHeight();if(a(v).scrollTop()+a(v).height()<c){var c=b.offset().top,d=a(v).height(),b=b.height(),b=c-(d-b)/2;a("html, body").animate({scrollTop:b},e.animationTimeoutUnit)}}}function c(b,c){b=b?r.monthlyPaymentOptionsExpandedSubtitle:c?r.monthlyPaymentOptionsExpandedSubtitle:r.loadingSubtitle;a(m.subtitleText).text(b);!1===c&&a(m.cardImage).fadeOut(f.animationTimeoutUnit)}function l(b){""!==r.monthlyPaymentOptionsCollapsedSubtitle&&
a(m.subtitleText).text(r.monthlyPaymentOptionsCollapsedSubtitle);!1===b&&a(m.cardImage).fadeIn(f.animationTimeoutUnit)}function w(b,c){a(b)&&a(b).attr(u.ariaExpanded,c)}var a=b.$,m=f.selector,u=f.attributes,r=e.expanderSubtitle;return{initSubtitle:function(a){var b=a.data.expandSubtitle;r.monthlyPaymentOptionsCollapsedSubtitle=a.data.collapseSubtitle;r.monthlyPaymentOptionsExpandedSubtitle=b},expandPaymentOptions:function(e,g){k.increment("Desktop:Expander:Click:Expand");k.increment("Desktop:Expander:Click:Expand:loading");
a(m.expanderContent).addClass(m.paymentOptionExpand);a(m.expanderIcon).addClass("rotate");d.cardExpanded(f.featureRegistration.featureName);b.delay(function(){a(m.swatch).addClass(m.twisterPlusFadeIn);c(e,g);h()},f.animationTimeoutUnit);b.$(m.refreshToggle).hasClass("refresh-toggle")||b.$(m.refreshCCText).removeClass("a-hidden");w(m.toggleExpanderButton,!0)},expandSkeletonLoader:function(d){k.increment("Desktop:Expander:Click:Expand");a(m.expanderContent).addClass(m.skeletonLoaderExpand);a(m.expanderIcon).addClass("rotate");
b.delay(function(){d||(a(m.skeletonLoader).addClass(m.twisterPlusFadeIn),c(!1,d),h())},f.animationTimeoutUnit);w(m.toggleExpanderButton,!0)},hideLoaderAnimation:function(d,e){d&&a(m.skeletonLoader).removeClass(m.twisterPlusFadeIn);b.delay(function(){a(m.skeletonLoader).hide();a(m.swatch).removeClass("invisible");d&&(a(m.subtitleText).text(r.monthlyPaymentOptionsExpandedSubtitle),a(m.expanderContent).addClass(m.paymentOptionExpand),b.delay(function(){a(m.swatch).addClass(m.twisterPlusFadeIn);c(!0,
e);h()},f.animationTimeoutUnit))},f.animationTimeoutUnit)},collapsePaymentOptions:function(c){a(m.swatch).removeClass(m.twisterPlusFadeIn);e.isLoaded||c||a(m.skeletonLoader).removeClass(m.twisterPlusFadeIn);a(m.expanderIcon).removeClass("rotate");b.delay(function(){a(m.expanderContent).removeClass(m.paymentOptionExpand);a(m.expanderContent).removeClass(m.skeletonLoaderExpand);l(c)},f.animationTimeoutUnit);w(m.toggleExpanderButton,!1);b.$(m.refreshCCText).hasClass("a-hidden")||b.$(m.refreshCCText).addClass("a-hidden")},
showSubtitleInCollapsedView:l,showSubtitleInExpandedView:c,scrollToShowCompleteExpander:h}});"use strict";p.when("A","payment-options-state","payment-options-client-side-metric","cc-manager","payment-options-constants","payment-options-actions").register("payment-options-auto-expand",function(b,e,f,k,g){var d=!1,h=function(){var c=document.getElementById("payment-options-expander-header"),h=e.getWeblabData().isAutoExpandWeblabInT1||e.getWeblabData().isAutoExpandWeblabInT2;if(c){if(c=h)c=k.getRenderedFeaturesList(),
h=c[0]===g.featureRegistration.featureName,c=1===c.length&&h;c&&(c=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander")),c.isAutoExpand=!0,b.trigger("a:declarative:expand-payment-options-expander",{data:c}),f.increment("Expander:AutoExpanded"),d=!0)}};h();b.on("a:pageUpdate",h);return{isAutoExpanded:d}});"use strict";p.when("A").register("payment-options-expander-state",function(b){return{expanderSubtitle:{monthlyPaymentOptionsCollapsedSubtitle:"",
monthlyPaymentOptionsExpandedSubtitle:"",loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(b){this.property=b}}});"use strict";p.when("A","payment-options-swatch-actions","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,e,f,k){var g=b.$,d=!k.expTreatment||"T3"===k.expTreatment;b.declarative("payment-options-otp-action",["click","keydown"],function(h){if("keydown"!==h.type||13===h.$event.keyCode||32===h.$event.keyCode){f.increment("Swatch:OneTimePayment:Click");
b.trigger("a:declarative:select-payment-option:click",{data:{}});var c=g(h.$currentTarget);c!==x&&null!==c&&(e.updateDefaultOptionSubtitle(h.data.defaultPOSubtitle,h.data.oneTimePaymentPOSubtitle),b.trigger("a:declarative:otp-selection:click",h),d||k.collapseCard())}});b.declarative("payment-options-monthly-payment-action",["click","keydown"],function(e){if("keydown"!==e.type||13===e.$event.keyCode||32===e.$event.keyCode){var c=g(e.$currentTarget);c!==x&&null!==c&&(b.trigger("a:declarative:monthly-payment-option-selection:click",
e),d||k.collapseCard(),f.logNexusEventForMonthlyPaymentSelection(e))}});b.declarative("payment-options-overflow","click",function(b){e.manageOverflow(b)});b.declarative("expander-update-visible-payment-options","click",function(b){var c=g(b.$currentTarget);c!==x&&null!==c&&e.resetOverflowDefaultOptions(b)});b.declarative("update-swatch","click",function(b){"oneTimePaymentOption"===b.data.selectedPaymentOptionId?e.updateSwatchStyle(b.data.selectedPaymentOptionId):(e.updateSwatchStyle(b.data.selectedPaymentOptionId),
e.updateFinancingOptionSubtitle(b.data.subtitleMessage,b.data.cardImageUrl))});b.declarative("disable-swatch","click",function(b){e.disableSwatch(b.$currentTarget)});b.declarative("enable-swatch","click",function(b){e.enableSwatch(b.$currentTarget)})});"use strict";p.when("A","payment-options-expander-state","payment-options-constants","payment-plan-state").register("payment-options-swatch-actions",function(b,e,f,k){function g(b){c(l.swatchOption).removeClass(l.selectedOption);var d=c(l.swatchActionButton);
d&&d.attr(a.ariaChecked,!1);b="oneTimePaymentOption"===b?c(l.oneTimePaymentOption):c("#"+b+"Swatch");b.addClass(l.selectedOption);(b=b.closest(l.swatchActionButton))&&b.attr(a.ariaChecked,!0)}function d(a){a.addClass(w.hideSwatchMainViewClass)}function h(a,b){a.removeClass(w.hideSwatchMainViewClass);g(b);k.paymentOptionSelected.paymentOptionSelectedButtonId=b;k.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0}var c=b.$,l=f.selector,w=f.classes,a=f.attributes,m=e.expanderSubtitle;return{updateSwatchStyle:g,
updateDefaultOptionSubtitle:function(a,b){m.monthlyPaymentOptionsCollapsedSubtitle=a;m.monthlyPaymentOptionsExpandedSubtitle=b;c(l.subtitleText).text(b);c(l.subtitle).removeClass("a-color-success");c(l.subtitle).addClass("a-color-tertiary");c(l.checkmark).addClass("a-hidden");c(l.cardImage).attr("src","https://images-na.ssl-images-amazon.com/images/G/01/x-locale/common/transparent-pixel._V192234675_.gif")},updateFinancingOptionSubtitle:function(a,b){m.monthlyPaymentOptionsCollapsedSubtitle=a;m.monthlyPaymentOptionsExpandedSubtitle=
a;c(l.subtitleText).text(a);c(l.subtitle).removeClass("a-color-tertiary");c(l.subtitle).addClass("a-color-success");c(l.checkmark).removeClass("a-hidden");c(l.cardImage).attr("src",b)},disableSwatch:function(a){var b=a.find(l.financingOptions);b.removeClass(l.selectedOption);b.addClass(l.unavailableOption);a.addClass(l.disabledSwatch)},enableSwatch:function(a){a.find(l.financingOptions).removeClass(l.unavailableOption);a.removeClass(l.disabledSwatch)},manageOverflow:function(a){k.paymentOptionSelected.paymentOptionUnAvailableMsg=
a.data.unAvailableMsg;var b=c("#"+a.data.paymentOptionSelectButtonId+"Swatch").parent().parent().parent();if(b.hasClass(w.hideSwatchMainViewClass)){for(var e=c(w.paymentOptionsList)[0].children,f="",m=e.length-2;0<=m;m--)if(!c(e[m]).hasClass(w.hideSwatchMainViewClass)){f=c(e[m]);break}d(f);h(b,a.data.paymentOptionSelectButtonId)}else g(a.data.paymentOptionSelectButtonId),k.paymentOptionSelected.paymentOptionSelectedButtonId=a.data.paymentOptionSelectButtonId,k.paymentOptionSelected.paymentOptionClickedFromSideSheet=
!0},hideLastSwatch:d,unhideCorrespondingSwatch:h,resetOverflowDefaultOptions:function(a){if(!(3>=parseInt(a.data.numberOfPaymentOptions))){var b=c(w.paymentOptionsList)[0].children;a="";for(var e=b.length-2;0<=e;e--)if(!c(b[e]).hasClass(w.hideSwatchMainViewClass)){a=c(b[e]);break}b=c(c(c(a.children()[0]).children()[0]).children()[0])[0];b.classList.contains(l.selectedOption)||"3"===b.id.match(/\d+/g)[0]||(d(a),c("#monthlyPaymentOption03Swatch").parent().parent().parent().removeClass(w.hideSwatchMainViewClass))}}}});
"use strict";p.when("A").register("payment-plan-state",function(b){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"oneTimePaymentOption",paymentOptionClickedFromSideSheet:!1,paymentOptionDisabledButtonId:"",paymentOptionDisabledTitleSuppliment:"",paymentOptionUnAvailableMsg:""},get isSelected(){return this.property},set isSelected(b){this.property=b}}});"use strict";p.when("A","payment-plan-state","payment-options-constants","payment-options-client-side-metric").execute(function(b,e,
f,k){var g=b.$;b.declarative("otp-selection","click",function(d){var f=g(d.$currentTarget[0].parentNode);d=d.data.paymentOptionSelectButtonId;"payment-options-list-item"===f[0].parentNode.className?e.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(k.increment("SideSheet:OneTimePayment:Click"),e.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);e.paymentOptionSelected.paymentOptionSelectedButtonId=d;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:e.paymentOptionSelected.paymentOptionSelectedButtonId}})});
b.declarative("monthly-payment-option-selection","click",function(d){d.data.hasOwnProperty("optionId")&&""!==d.data.optionId&&k.increment("Swatch:Financing:"+d.data.optionId+":Click");k.increment("Swatch:MonthlyPayment:Click");b.trigger("a:declarative:select-payment-option:click",d);var f=g(d.$currentTarget);if(f!==x&&null!==f){var f=d.data.posubtitle,c=d.data.cardImageUrl,l=g(d.$currentTarget[0].parentNode),w=d.data.paymentOptionSelectButtonId;"payment-options-list-item"===l[0].parentNode.className?
e.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(d.data.hasOwnProperty("optionId")&&""!==d.data.optionId?k.increment("SideSheet:Financing:"+d.data.optionId+":Click"):k.increment("SideSheet:Financing:"+d.data.executionInfo.offerType+":"+d.data.termType+":"+d.data.termCount+":Click"),e.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);e.paymentOptionSelected.paymentOptionSelectedButtonId=w;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:e.paymentOptionSelected.paymentOptionSelectedButtonId,
subtitleMessage:f,cardImageUrl:c}});b.trigger("a:declarative:payment-options-overflow:click",d)}});b.declarative("compare-payment-plans-disable","click",function(b){e.paymentOptionSelected.paymentOptionUnAvailableMsg=b.data.paymentOptionUnAvailableMsg;b=b.data.disabledPaymentOptionId;var h=b.match(/\d+/g)[0],h="#"+f.disabledPaymentOptionSelecter+h;e.paymentOptionSelected.paymentOptionDisabledButtonId=b;e.paymentOptionSelected.paymentOptionDisabledTitleSuppliment=g(h).text()});b.declarative("compare-payment-plans-enable",
"click",function(b){(b=b.data.enablePaymentOptionId)&&""!==b&&(b=b.match(/\d+/g)[0],e.paymentOptionSelected.paymentOptionDisabledButtonId="",g("#"+f.disabledPaymentOptionSelecter+b).text(e.paymentOptionSelected.paymentOptionDisabledTitleSuppliment),e.paymentOptionSelected.paymentOptionDisabledTitleSuppliment="",g("[id\x3d"+f.popOverText+b+"cell]").removeClass(f.classes.popOverShowClass),g("[id\x3d"+f.popOverText+b+"cell]").addClass(f.classes.popOverHideClass))})});"use strict";p.when("A","cc-payment-options",
"payment-options-client-side-metric").execute(function(b,e,f){b.declarative("payment-options-emp-action","change",function(b){e.updatePaymentOptionSelection(b.data)});var k=b.debounce(function(){var e=b.$,d=e("#PaymentOptionsEmpAction");0<d.length&&d.trigger("change");0<e("#monthly-payments-not-applicable").length&&f.increment("Container:Render:Error");0<e(".payment-options-container").length&&f.increment("Container:Render:Success")},100);k();b.on("PageRefresh:ATF",k)});"use strict";p.when("A","price-block-payment-options",
"payment-options-client-side-metric","price-block-messaging-constants","ready").execute(function(b,e,f,k){var g=b.$;b.declarative("payment-options-emp-action-priceblock","change",function(b){e.updateUfoSelection(b.data)});var d=b.debounce(function(){var b=g("#PaymentOptionsEmpActionPriceBlock");0<b.length&&b.trigger("change");0<g("#monthly-payments-not-applicable").length&&f.incrementWithValuePriceBlockMessaging(k.metrics.RENDERED_FALSE,1);0<g(k.selector.PRICE_BLOCK_CONTAINER_CLASS).length&&0<g(k.selector.PRICE_BLOCK_STRING_CONTAINER).length&&
f.incrementWithValuePriceBlockMessaging(k.metrics.RENDERED_TRUE,1);g(k.selector.CHECKBOX_PRICE_BLOCK).length&&g("#checkbox-price-block-inputId").removeAttr("disabled")},100);d();b.on("PageRefresh:ATF",d)});"use strict";p.when("A","payment-options-client-side-metric","cc-payment-options","payment-options-constants").execute(function(b,e,f,k){var g=b.$;e=new e.Timer("Expander:Loading:Images:Time");e.start();f=function(){b.loadDescendantImagesManually(g(".payment-options-financing-option-card-image"));
b.loadDescendantImagesManually(g(".payment-options-expander-heading-image-container"));b.loadDescendantImagesManually(g(".payment-option-detailed-feature-scroll"));b.loadDescendantImagesManually(g(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(g(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(g(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(g(".payment-options-comparison-sheet-comparison-card-option"))};
f();b.on("a:pageUpdate",f);e.stop()});"use strict";p.when("A","payment-options-swatch-actions","payment-options-constants","payment-options-state","cc-manager").execute(function(b,e,f,k,g){function d(a){var b=a.executionInfo;b.cartType=f.parameters.cartTypes.addToCart;return{itemType:f.parameters.itemType,price:a.price,selectionType:f.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,
orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:!0,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,maxQuantity:a.maxQuantity,displayQuantityMessage:!0,formData:[{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:b}]}}var h=b.$,c=f.selector,l=f.featureRegistration.featureName,w;b.on("a:dropdown:selected:quantity",function(a){var m=h("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||
0,u=h("#paymentOption_"+m+" .payment-options-list-item"),m=h("#paymentOption_"+m+" #oneTimePaymentOptionSwatch");a=a.value;for(var r=b.$(f.classSelector+c.selectedOption).closest(".payment-options-list-item").find("span.a-declarative").data(c.monthlyPaymentAction),z=1;z<u.length;z++){var p=u.eq(z).find("span.a-declarative").data(c.monthlyPaymentAction),v=p.maxQuantity;v&&(a>v?(e.disableSwatch(u.eq(z)),v={data:{paymentOptionUnAvailableMsg:p.unAvailableText,numberOfPaymentOptions:p.numberOfPaymentOptions,
disabledPaymentOptionId:p.paymentOptionSelectButtonId}},k.getWeblabData().isComparePlansRefactorWeblabInT1?b.trigger("a:declarative:compare-payment-plans-disable:click",v):e.disableOptionInCompareAllPlans(v),r&&p.offerGroup===r.offerGroup&&(h(m).click(),g.ccRemovedSelectionUpdate(l,d(p)),w=p.offerGroup)):(e.enableSwatch(u.eq(z)),k.getWeblabData().isComparePlansRefactorWeblabInT1?b.trigger("a:declarative:compare-payment-plans-enable:click",{data:{enablePaymentOptionId:p.paymentOptionSelectButtonId}}):
e.enableOptionInCompareAllPlans(p.numberOfPaymentOptions),w&&p.offerGroup===w&&(h(".tp-bbm-info-message-quantity-restriction-container").hasClass("tp-bbm-info-message-displayable")&&b.trigger("a:declarative:payment-options-monthly-payment-action:click",{$currentTarget:u.eq(z).find("span.a-declarative"),data:p}),g.ccRemovedSelectionsClear(l))))}})});"use strict";p.when("A","payment-options-constants","price-block-message-actions","price-block-messaging-constants","comparison-plans-state","price-block-payment-options",
"po-compare-plans-actions","price-block-buy-box-utils").execute(function(b,e,f,k,g,d,h,c){function l(a,c){if(c.maxQuantity)if(a>c.maxQuantity){a=c.unAvailableMsg;var d=c.paymentOptionSelectButtonId;c=k.ID_PREFIX+e.disabledPaymentOptionSelecter+c.paymentOptionIndex;b.contains(g.paymentOptionSelected.disabledPaymentOptionIds,d)||(g.paymentOptionSelected.paymentOptionUnAvailableMsg.push(a),g.paymentOptionSelected.disabledPaymentOptionIds.push(d),g.paymentOptionSelected.paymentOptionDisabledTitleSupplement.push(m(c).text()))}else 0<=
g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(c.paymentOptionSelectButtonId)&&(a=c.paymentOptionIndex,(c=c.paymentOptionSelectButtonId)&&""!==c&&b.contains(g.paymentOptionSelected.disabledPaymentOptionIds,c)&&(c=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(c),g.paymentOptionSelected.disabledPaymentOptionIds.splice(c,1),m(k.ID_PREFIX+e.disabledPaymentOptionSelecter+a).text(g.paymentOptionSelected.paymentOptionDisabledTitleSupplement[c]),g.paymentOptionSelected.paymentOptionDisabledTitleSupplement.splice(c,
1),g.paymentOptionSelected.paymentOptionUnAvailableMsg.splice(c,1),m("[id\x3d"+e.popOverText+a+"cell]").removeClass(e.classes.popOverShowClass),m("[id\x3d"+e.popOverText+a+"cell]").addClass(e.classes.popOverHideClass)))}function w(a){if(a=h.getTopEnabledOfferDataInComparisonTable(a))return a.paymentOptionSelectButtonId}function a(a,b,c){B&&a.find(k.ID_PREFIX+B).length?0<=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(B)?(a={},a[u.MAX_QUANTITY_VARIABLE]=h.getMaxQuantityData(B)+1,f.showErrorMessage(k.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,
b,!0,a),d.cancelUfoSelection()):h.selectAndConfirmPlan(C,B):x&&x!==v?f.resetPriceBlockMessageWithTopEligibleOffer(b):(a=h.getTotalOptionCount(C))&&a===g.paymentOptionSelected.disabledPaymentOptionIds.length&&(a={},a[u.MAX_QUANTITY_VARIABLE]=h.findMaximumMaxQuantity(C)+1,f.showErrorMessage(k.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,b,!0,a))}var m=b.$,u=k.selector,r=k.classes,p=k.DASH_SPLITTER,v,x,B,C;b.on("a:dropdown:selected:quantity",function(b){if(m(u.PRICE_BLOCK_STRING_CONTAINER).length){C=
c.getActiveBuyingOptionIndex();var d=b.value;b=m([u.COMPARISON_TABLE_MODAL_PREFIX,C].join(p));var e=b.find(u.COMPARISON_TABLE_COLUMN_CLASS);v=w(C);var f=m(u.PRICE_BLOCK_CONTAINER_PREFIX+C);m.each(e,function(a,b){a=m(b).find(u.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).parent().data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);b=a.buyingOptionIndex;var c=a.paymentProductIndex;1<a.numberOfPaymentOptionsWithinProduct?(a=m([u.OFFER_SELECTION_VIEW_ID_PREFIX,b,c].join(p)).find(u.OFFER_SELECTION_ROW_ACTION_CLASS),
m.each(a,function(a,b){a=m(b).closest(u.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME);l(d,a)})):l(d,a)});x=w(C);B=g.paymentOptionSelected.paymentOptionSelectedButtonId;a(b,f,e)}})});"use strict";p.when("A","payment-options-constants").register("payment-options-state",function(b,e){function f(){if(!g||0===Object.keys(g).length){var b=k(e.selector.paymentOptionsWeblabs).attr(e.selector.paymentOptionsWeblabsAttribute);b&&(g=JSON.parse(b))}return g}var k=b.$,g={};b={getWeblabData:f};f();return b});
"use strict";p.when("A","compare-plan-row-constants","ready").register("price-block-messaging-constants",function(b,e){var f={UNKNOWN:"UNKNOWN",PAYMENT_OFFER_INFO_TYPE:"paymentOfferInfoType",PAYMENT_OFFER_INFO_FIELD:"paymentOfferInfo",BLANK_STRING:"",ID_PREFIX:"#",CLASS_PREFIX:".",ONE_TIME_PAYMENT_OPTION_ID:"oneTimePaymentOption",DASH_SPLITTER:"-",PAYMENT_OPTION_SELECT_BUTTON_ID_KEY:"paymentOptionSelectButtonId",HIDDEN_CSS_CLASS:"aok-hidden",parameter:{cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"}},
deviceType:{WEB:"web",MOBILE_WEB:"mobile",MOBILE_APP:"mobileApp"},paymentOfferInputElement:{inputType:"hidden",poiFieldPlaceholder1:"paymentOfferInfo",poiFieldPlaceholder2:"items[0.base][additionalParameters][paymentOfferInfo]",poiIHIFiledPlaceholder1:"items[0.base][additionalParameters][installments][programId]",poiIHIFiledPlaceholder2:"isInstallmentsChecked",poiIHIFiledPlaceholder3:"installments-check",poiIHIFiledPlaceholder4:"installments-programId"},selector:{priceBlockMessageSinglePlanUnavailableMsg:"priceBlockMessageSinglePlanUnavailable",
BUYBOX_ACCORDION:"#buybox .a-accordion",ADD_TO_CART_BUTTON_ID:"#add-to-cart-button, #installments-button, #add-to-cart-button-ubb-mobile, #pickup-add-to-cart-button",BUYNOW_BUTTON_ID:"#buy-now-button",ACCORDION_ROW_CLASS:".accordion-row",DECLARATIVE_CLASS:".a-declarative",SPAN_DECLARATIVE:"span.a-declarative",DATA_ATTRIBUTE_ACTION:"action",OFFER_DISPLAY_GROUP:"#offerDisplayGroup",MOBILEAPP_TABS_ELEMENT_ID:"[id^\x3dtab_mobileapp_buybox_group]",TAB_GROUP_NAME:"data-csa-c-content-id",BUYBOX_TAB_ACTIVE:"#buybox .a-tab-heading.a-active",
NO_TABS_GROUP_DESKTOP:"#buybox div:first-child",NO_TABS_GROUP_MOBILE:"#buybox div:first-child div:first-child",DEFAULT_WEB_GROUP_NAME:"desktop_buybox_group_1",DEFAULT_MOBILE_WEB_GROUP_NAME:"mobile_buybox_group_1",DEFAULT_MOBILE_APP_GROUP_NAME:"mobileapp_buybox_group_1",PAYMENT_OFFER_INPUTS_CLASS:".paymentOfferInputs",PAYMENT_OFFER_INPUTS_CLASS_NAME:"paymentOfferInputs",PAYMENT_OFFER_INFO_INPUT:"input[name\x3d'paymentOfferInfo']",SELECT_BUTTON_CLASS_PREFIX:".monthlyPaymentOption-",PRICE_BLOCK_CONTAINER_PREFIX:"#price-block-container-",
PRICE_BLOCK_CONTAINER_CLASS:".price-block-container",PRICE_BLOCK_STRING_CONTAINER:".price-block-label",CONFIRM_PLAN_BUTTON_CLASS:".payment-option-confirm-button",CANCEL_PLAN_BUTTON_ID:"#price-block-cancel-plan-button",COLUMN_ID_PREFIX:"#monthly-payment-option-column-",POPOVER_ID:"#popover{numericSuffix}cell",NUMERIC_SUFFIX_VARIABLE:"{numericSuffix}",MAX_QUANTITY_VARIABLE:"${maxQuantity}",DISABLED_PAYMENT_OPTION_PREFIX:"#titleSupplement",PRICE_BLOCK_AMOUNT_PREFIX_ID:"#price-block-amount-prefix",PRICE_BLOCK_AMOUNT_ID:"#price-block-amount",
PRICE_BLOCK_AMOUNT_SUFFIX_ID:"#price-block-amount-suffix",COMPARE_PLAN_LINK_SELECTED:"#compare-plan-link-text-selected",COMPARE_PLAN_LINK_UNSELECTED:"#compare-plan-link-text-not-selected",PRICE_BLOCK_STRING:"#price-block-message",OPTION_SELECTION_MESSAGE:"#option-selection-message",PREVIOUS_OPTION_ITEM_APPLICABILITY_MESSAGE:"#previous-option-item-applicability-message",PRICE_BLOCK_ALERT_ERROR:"#price-block-error-icon",PRICE_BLOCK_ERROR_STRING_ID:"#price-block-error-string",PRICE_BLOCK_ERROR_CONTAINER:"#price-block-error-message",
COMPARE_PLAN_LINK:"#compare-plan-link",ACTIVE_TAB:"#buybox .a-tab-heading.a-active",TAB_PREFIX:"#tab_",BUY_BOX_ACCORDION_ROWS:"#buyBoxAccordion",ACCORDION_ROW_FOR_BUYING_OPTION_INDEX:"\x3e[data-buying-option-index\x3d'{buyingOptionIndex}']",BUYING_OPTION_INDEX_VARIABLE:"{buyingOptionIndex}",ACTIVE_ACCORDION:".a-accordion-active",ADD_TO_CART_FORM_ID:"#addToCart",BUY_NOW_FORM_ID:"form#buyNow, form#buyNowCheckout",DELIVERY_TAB:"#offerDisplayGroupTabSet [id$\x3d'_buybox_group_1']",PICKUP_TAB:"#offerDisplayGroupTabSet [id$\x3d'_buybox_group_2']",
OFFER_DISPLAY_GROUP_TAB_SET:"#offerDisplayGroupTabSet",COMPARE_PLAN_AFTER_SHOW:"a:popover:afterShow:",SINGLE_PLAN_UNAVAILABLE_ID:"#priceBlockMessageSinglePlanUnavailable",PRICE_BLOCK_MSG:".price-block-msg",PRICE_BLOCK_INNER_AMOUNT:".price-block-inner-amount",PRICE_BLOCK_SUBTITLE_TEXT:".payment-option-subtitle-text",PRICE_BLOCK_SUCCESS:".payment-option-success",PRICE_BLOCK_OR_TEXT:".price-block-or-text",PRICE_BLOCK_AMOUNT:".price-block-amount",PRICE_BLOCK_EXTRA_TEXT:".price-block-extra-text",PRICE_BLOCK_ALERT:".price-block-icon",
PRICE_BLOCK_ALERT_SUCCESS:"#price-block-selected-icon",APEX_PRICE_BLOCK_CONTAINER:"#paymentOptions_PriceblockMessaging_feature_div",SIDE_SHEET_CLOSE_BUTTON:".payment-options-side-sheet-close-button",ONE_TIME_PAYMENT_OPTION_ID:"#oneTimePaymentOption",PAYMENT_OPTIONS_CHECKBOX:".payment-options-checkbox",COMPARISON_TABLE_COLUMN_CLASS:".comparison-table-product-column",COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS:".comparison-table-row-value-action",OFFER_SELECTION_SHEET_CLASS:".compare-plan-offer-selection-sheet",
LEARN_MORE_SHEET_CLASS:".compare-plan-learn-more-sheet",COMPARISON_TABLE_PREFIX:"#comparison-table",COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX:"#comparison-table-compare-sheet-monthly-payment",COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX:"#comparison-table-confirm-plan-button",COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX:"#comparison-table-error-message",COMPARISON_TABLE_MODAL_PREFIX:"#compare-plan-modal",COMPARISON_TABLE_OPTION_LIKE:".comparison-table-row-value-options-like",COMPARISON_TABLE_MORE_OPTION:".comparison-table-row-value-more-option",
COMPARISON_TABLE_SELECT_PLAN_BUTTON_CLASS:".comparison-table-modal-select-plan-button",COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_CLASS:".comparison-table-modal-select-plan-button-text",COMPARISON_TABLE_COLUMN_ID_PREFIX:"#monthly-comparison-table-column",COMPARISON_TABLE_SELECT_PLAN_BUTTON_ID_PREFIX:"#comparison-table-select-plan-button",COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_ID:"#comparison-table-modal-select-plan-button-text",COMPARISON_TABLE_ROW_VALUE_MORE_OPTION_ID:"#comparison-table-row-value-more-option",
COMPARISON_TABLE_ROW_VALUE_OPTION_LIKE_ID:"#comparison-table-row-value-options-like",COMPARISON_TABLE_MODAL_CLASS:".compare-plan-modal-wrapper",OFFER_SELECTION_ROW_CLASS:".compare-plan-offer-selection-value-row",OFFER_SELECTION_OPTION_LIST_ID_PREFIX:"#compare-plan-offer-selection-value-row-list",OFFER_SELECTION_ROW_ID_PREFIX:"#compare-plan-offer-selection-value-row",OFFER_SELECTION_VIEW_ID_PREFIX:"#compare-plan-offer-selection-sheet",OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX:"#compare-plan-offer-selection-error-message",
OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX:"#compare-plan-offer-selection-continue-button",OFFER_SELECTION_DISABLED_ROW_CLASS:".compare-plan-offer-selection-disabled-row",OFFER_SELECTION_ROW_ACTION_CLASS:".compare-plan-offer-selection-value-row-action",COMPARISON_TABLE_CAN_DISABLE_CLASS:".comparison-table-can-disable",COMPARISON_TABLE_CANCEL_BUTTON_CLASS:".comparison-table-modal-cancel-plan-button",COMPARISON_TABLE_SELECT_PLAN_WITH_OFFER_GROUP_CLASS_PREFIX:".compare-plan-select-plan",MORE_OPTION_CLASS:".comparison-table-more-options",
MORE_OPTION_PREFIX:"#payment-option-more-options-",COMPARISON_TABLE_SELECT_ACTION_BUTTON:".comparison-table-modal-select-action-button"}};b.$.extend(f.selector,e);f.classes={SELECTED_PAYMENT_OPTION_BORDER:"payment-option-selected-column-border",NORMAL_PAYMENT_OPTION_BORDER:"payment-option-column-normal-border",SELECTED_PAYMENT_OPTION_ORDER:"payment-option-selected-column-order",CONFIRM_PLAN_BUTTON:"payment-option-confirm-button",DISABLED_PAYMENT_OPTION:"payment-option-disabled-column",DISABLED_PAYMENT_OPTION_ORDER:"payment-option-disabled-column-order",
POPOVER_HIDE:"popover-hide",POPOVER_SHOW:"popover-show",DISABLED_PAYMENT_OPTION_ORDER_ENABLE_POINTER:"payment-option-disabled-column-enable-pointer",COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER:"comparison-table-selected-column-border",COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND:"comparison-table-selected-column-background",COMPARISON_TABLE_DISABLED_COLUMN:"comparison-table-disabled-column",COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA:"comparison-table-select-plan",COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED:"comparison-table-modal-select-plan-button-selected",
COMPARISON_TABLE_LEARN_MORE_ACTION_DATA:"comparison-table-learn-more",COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA:"comparison-table-confirm-plan",COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX:"comparison-table-payment-details-amount-text",COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX:"comparison-table-interest-amount",COMPARISON_TABLE_INTEREST_APR_ID_PREFIX:"comparison-table-interest-apr",COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX:"comparison-table-total-amount",COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX:"cart-level-text",
COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX:"item-level-text",COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX:"comparison-table-card-reward-text",COMPARISON_TABLE_LEARN_MORE_ID_PREFIX:"comparison-table-learn-more",OFFER_SELECTION_DISABLE_ROW_CLASS:"compare-plan-offer-selection-disabled-row",OFFER_SELECTION_ROW_ACTION_PREFIX:"compare-plan-offer-selection-value-row-action",OFFER_SELECTION_ROW_ACTION_NAME:"offer-selection-select-row",OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS:"compare-plan-offer-selection-value-row-selected-border",
OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS:"compare-plan-offer-selection-value-row-selected-background",OFFER_SELECTION_CONTINUE_ACTION_DATA:"compare-plan-offer-selection-continue",OFFER_SELECTION_ACTION_NAME_CAMEL_CASE:"offerSelectionSelectRow",MORE_OPTION_CLASS:".comparison-table-more-options"};f.actionData={SELECT_BUTTON_CLICK_DATA:"priceBlockSelectPaymentPlan",CONFIRM_PLAN_CLICK_DATA:"paymentOptionConfirmPlan",BUYING_OPTION_INDEX:"buyingOptionIndex",COMPARE_PLAN_V2_ACTION_DATA:"priceBlockComparePlans"};
f.attributes={TAB_CONTENT_ID:"data-csa-c-content-id",SELECT_PAYMENT_PLAN:"price-block-select-payment-plan",ariaChecked:"aria-checked"};f.natcParams={paymentOfferInfo:"items[0.base][additionalParameters][paymentOfferInfo]",inHouseInstallments:"items[0.base][additionalParameters][installments][programId]"};f.classActions={ADD:"add",REMOVE:"remove"};f.errorMessageType={PAYMENT_OPTION_UNAVAILABLE:"paymentOptionUnavailable",PLAN_UNAVAILABLE_OVER_MAX_QUANTITY:"planUnavailableOverMaxQuantity"};f.metrics=
{RENDERED_TRUE:"PriceBlock2:Render:True:Desktop",RENDERED_FALSE:"PriceBlock2:Render:False:Desktop",SELECT_BUTTON_CLICK:"PriceBlock2:SelectButton:Click:Desktop",CONFIRM_PLAN_CLICK:"PriceBlock2:ConfirmPlan:Click:Desktop",CANCEL_PLAN_CLICK:"PriceBlock2:CancelPlan:Click:Desktop",LEARN_MORE_CLICK:"PriceBlock2:LearnMore:Click:Desktop",COMPARE_PLAN_CLICK:"PriceBlock2:ComparisonPlanLink:Click:Desktop",COMPARE_PLAN_RENDERED:"PriceBlock2:ComparisonPlan:Rendered:Desktop",OFFER_SELECTION_SUCCESSFUL:"PriceBlock2:OfferSelection:Successful",
PAYMENT_METHOD_CARD_SUPPLEMENT_CLICK:"PriceBlock2:PaymentMethodCardSupplement:Click:Mobile",CP2_SELECT_BUTTON_SINGLE_OFFER_CLICK:"PriceBlock2:CP2:SelectButtonSingleOffer:Click:Desktop",CP2_CONFIRM_PLAN_OFFER_SELECTED_CLICK:"PriceBlock2:CP2:ConfirmPlanOfferSelected:Click:Desktop",CP2_CONFIRM_PLAN_WITHOUT_OFFER_SELECTED_CLICK:"PriceBlock2:CP2:ConfirmPlanNoOfferSelected:Click:Desktop",CP2_CANCEL_PLAN_CLICK:"PriceBlock2:CP2:CancelPlan:Click:Desktop",CP2_LEARN_MORE_CLICK:"PriceBlock2:CP2:LearnMore:Click:Desktop",
CP2_SELECT_BUTTON_MORE_OFFER_CLICK:"PriceBlock2:CP2:SelectButtonMoreOffer:Click:Desktop",CP2_OFFER_SELECTION_SELECT_ROW_CLICK:"PriceBlock2:CP2:OfferSelectionSelectRow:Click:Desktop",CP2_OFFER_SELECTION_CONTINUE_CLICK:"PriceBlock2:CP2:OfferSelectionContinue:Click:Desktop",CP2_BACK_CLICK:"PriceBlock2:CP2:Back:Click:Desktop"};f.supportedTargetTypes=["_self","_blank","_parent","_top","_unfencedTop"];return f});"use strict";p.when("A","price-block-messaging-constants","payment-options-opt-out-state","turbo-checkout-handler-pb",
"payment-options-client-side-metric","price-block-buy-box-utils","ready").register("price-block-payment-options",function(b,e,f,k,g,d){var h,c;function l(a,d){a.data.buyingOptionType!==e.UNKNOWN&&(b.delay(function(){h=r(p(d));C(p(d),h,a,!0)}),c=r(v(d)),C(v(d),c,a,!1))}function w(a,b){a=G(a.data.executionDetails);var c=O(b);H(a,!0);K(a);J(a,c);b=B(b);H(a,!1);J(a,b);k.updateInputCheckbox(!0)}function a(){if(f.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet){var a={data:{executionDetails:{paymentOfferInfoType:'{"isOTP": true}'}}};
l(a);w(a)}}function m(a){var b=JSON.parse(a.executionDetails.paymentOfferInfoType);b.sessionId=a.sessionId;b.customerId=a.customerId;b.marketplaceId=a.marketplaceId;b.requestId=a.requestId;b.deviceType=a.deviceType;b.asin=a.asin;b.buyingOptionType=a.buyingOptionType;b.parentASIN=a.parentASIN;b.websiteDisplayGroup=a.websiteDisplayGroup;a.executionDetails.paymentOfferInfoType=JSON.stringify(b)}function u(a){var b=JSON.parse(a.executionDetails.paymentOfferInfoType);b.isFinancingCartLevel=a.isOrderLevel;
a.executionDetails.paymentOfferInfoType=JSON.stringify(b)}function r(a){var c=[];a.each(function(){var a=A(this).parents(y.DECLARATIVE_CLASS);if(0<a.length){var d;d=A(a).data(y.DATA_ATTRIBUTE_ACTION).split("-");for(var e=d[0],f=1;f<d.length;f++)var g=d[f].charAt(0).toUpperCase()+d[f].slice(1),e=e+g;d=e;a=b.copy(A(a).data(d));c.push({dataActionKey:d,initialFormData:a})}});return c}function p(a){return a||(a=A(y.OFFER_DISPLAY_GROUP))&&1===a.length?a.find(y.ADD_TO_CART_BUTTON_ID):(a=A(y.BUYBOX_ACCORDION))&&
1===a.length?a.find(y.ADD_TO_CART_BUTTON_ID):A(y.ADD_TO_CART_BUTTON_ID)}function v(a){a&&a.find(y.BUYNOW_BUTTON_ID);return(a=A(y.OFFER_DISPLAY_GROUP))&&1===a.length?a.find(y.BUYNOW_BUTTON_ID):(a=A(y.BUYBOX_ACCORDION))&&1===a.length?a.find(y.BUYNOW_BUTTON_ID):A(y.BUYNOW_BUTTON_ID)}function O(a){return[a&&1===a.length?a.find(y.ADD_TO_CART_FORM_ID):A(y.ADD_TO_CART_FORM_ID)]}function B(a){return[a&&1===a.length?a.find(y.BUY_NOW_FORM_ID):A(y.BUY_NOW_FORM_ID)]}function C(a,b,c,d){var e=0,f=d?"addToCartData":
"buyNowData",g=G(c.data.executionDetails);H(g,d);d&&K(g);a.each(function(){var a=A(this).parents(y.DECLARATIVE_CLASS);if(0<a.length){var c=b[e++];if(c!==x){Object.keys(L[f]).forEach(function(a,b){delete c.initialFormData.inputs[a]});var d=A.extend({},c.initialFormData.inputs,g),h=A.extend({},c.initialFormData);h.inputs=d;a.data(c.dataActionKey,h)}}});L[f]=g}function J(a,b){var c=A("\x3cfieldset\x3e",{"class":y.PAYMENT_OFFER_INPUTS_CLASS_NAME});Object.keys(a).forEach(function(b){A("\x3cinput\x3e").attr({type:e.paymentOfferInputElement.inputType,
name:b,value:a[b]}).appendTo(A(c))});var d=b[0].find(y.PAYMENT_OFFER_INPUTS_CLASS);d.length?A(d).replaceWith(c):b[0].append(c);return!!b[0].length}function G(a){var b={};Object.keys(a).forEach(function(c){b[c===e.PAYMENT_OFFER_INFO_TYPE?e.PAYMENT_OFFER_INFO_FIELD:c]=a[c]});return b}function K(a){Object.keys(a).forEach(function(b){e.natcParams[b]&&(a[e.natcParams[b]]=a[b])})}function H(a,b){if(a[e.PAYMENT_OFFER_INFO_FIELD]){var c=JSON.parse(a[e.PAYMENT_OFFER_INFO_FIELD]);c.cartType=b?e.parameter.cartTypes.addToCart:
e.parameter.cartTypes.buyNow;a[e.PAYMENT_OFFER_INFO_FIELD]=JSON.stringify(c)}}function D(a,b){var c=d.getActiveAccordionBuyBox(b);b=G(a.data.executionDetails);a=a.data.deviceType;var f;f=O(c);var g=B(c);f=F(b,f)||F(b,g);a===e.deviceType.MOBILE_APP&&(a=r(p(c)),c=r(v(c)),f=E(b,a)||E(b,c)||f);return f}function F(a,c){c=c[0].find(y.PAYMENT_OFFER_INPUTS_CLASS);var d=Object.keys(a).length;a=JSON.parse(a.paymentOfferInfo).businessMetric;if(c.length){for(var e=0;e<c.length;e++){var f=c[e],g=A(f).find(y.PAYMENT_OFFER_INFO_INPUT).attr("value");
if(f.children.length<d||!b.contains(g,a))return!1}return!0}return!1}function E(a,c){var d=JSON.parse(a.paymentOfferInfo).businessMetric;if(c.length){for(var e=0;e<c.length;e++){var f=c[e].initialFormData.inputs,g=f.paymentOfferInfo;if(I(a,f)||!b.contains(g,d))return!1}return!0}return!1}function I(a,c){a=Object.keys(a);return b.filter(a,function(a){return 0>b.indexOfArray(Object.keys(c),a)}).length}var A=b.$,y=e.selector;h=[];c=[];var L={addToCartData:{},buyNowData:{}};return{updateUfoSelection:function(a,
c){var f=a.data.deviceType,h=a.data.buyingOptionType;u(a.data);m(a.data);var k=e.metrics.OFFER_SELECTION_SUCCESSFUL+":"+f+":"+h+":",h=d.getActiveAccordionBuyBox(c);f===e.deviceType.MOBILE_APP&&l(a,h);w(a,h);g.logNexusEventForMonthlyPaymentSelection(a);b.delay(function(){var b=D(a,c);g.incrementWithValuePriceBlockMessaging(k+b,1);g.incrementWithValuePriceBlockMessaging(e.metrics.OFFER_SELECTION_SUCCESSFUL+":"+b,1)})},updateOneTimePaymentSelection:a,cancelUfoSelection:function(){A(y.PAYMENT_OFFER_INPUTS_CLASS).empty();
(h.length||c.length)&&l({data:{executionDetails:{}}});a();k.updateInputCheckbox(!1)},isPaymentOfferInputsUpdated:D}});"use strict";p.when("A","price-block-messaging-constants").register("turbo-checkout-handler-pb",function(b,e){var f=b.$,k,g={updateInputCheckbox:function(b){k=f(e.selector.PAYMENT_OPTIONS_CHECKBOX);f.each(k,function(e,c){e=f(c);c=e.prop("checked");!c&&b?e.prop("checked","true").trigger("change"):c&&!b&&e.click()})}};g.updateInputCheckbox(!1);b.on("PageRefresh:ATF",function(){g.updateInputCheckbox(!1)});
return g});"use strict";p.when("A").register("comparison-plans-state",function(b){function e(){f.paymentOptionSelected={paymentOptionSelectedButtonId:"",paymentOptionClickedFromSideSheet:!1,disabledPaymentOptionIds:[],paymentOptionDisabledTitleSupplement:[],paymentOptionUnAvailableMsg:[]}}var f={get isSelected(){return this.property},set isSelected(b){this.property=b}};e();b.on("PageRefresh:ATF",e);return f});"use strict";p.when("A").register("payment-options-opt-out-state",function(b){return{paymentOptionOptOutSelected:{isOneTimePaymentPreferenceSet:!1,
changePlanEventData:""},secondaryViewInstance:null}});"use strict";p.when("A","payment-options-client-side-metric","price-block-messaging-constants").register("payment-options-side-sheet",function(b,e,f){function k(b){h("#payment-options-side-sheet-container-"+b).show(function(){d(b,{right:"0px"})})}function g(b){h("#payment-options-side-sheet-container-"+b).show(function(){d(b,{right:"-600px"})})}function d(c,d,e){b.animate(h("#payment-options-side-sheet-container-"+c),d,300,e)}var h=b.$;b.declarative("open-payment-options-side-sheet",
"click",function(c){var d=c.data.buyingOptionIndex;h(".payment-options-side-sheet-content").addClass("aok-hidden");var e=h("#payment-options-side-sheet-container-"+d+" #payment-options-side-sheet-main-section");h("#"+c.data.contentId).removeClass("aok-hidden");e.removeClass("aok-hidden");h("#payment-options-side-sheet-container-"+d).removeClass("aok-hidden");c=c.data.buyingOptionIndex;h("body").css("overflow","hidden");b.show("#payment-options-side-sheet-dp-bg-"+c);k(c)});b.declarative("close-payment-options-side-sheet",
"click",function(c){c=c.data.buyingOptionIndex;g(c);b.hide("#payment-options-side-sheet-container-"+c);b.hide("#payment-options-side-sheet-dp-bg-"+c);h("body").css("overflow","scroll")});b.declarative("payment-options-card-supplement","click",function(b){e.incrementWithValuePriceBlockMessaging(f.metrics.PAYMENT_METHOD_CARD_SUPPLEMENT_CLICK,1);b=b.data.url;var d=Object.fromEntries((new URL(b)).searchParams.entries());"${redirect_url}"===d.redirectUrl&&(b=b.replace("${redirect_url}",encodeURIComponent(v.location.href)));
-1!==f.supportedTargetTypes.indexOf(d.target)?v.open(b,d.target):v.open(b)})});"use strict";p.when("A","po-learn-more-actions","price-block-messaging-constants","payment-options-client-side-metric").register("payment-options-price-block-learn-more-events",function(b,e,f,k){b.declarative("payment-options-price-block-learn-more","click",function(g){e.stopEventPropagation(g);k.incrementWithValuePriceBlockMessaging(f.metrics.LEARN_MORE_CLICK,1);b.trigger("a:declarative:open-payment-options-side-sheet:click",
g);e.preRenderSelectedFinancingOption(g.data.selectText,g.data.selectedText)});b.declarative("payment-options-gil-prequal-learn-more","click",function(b){k.incrementWithValuePriceBlockMessaging(f.metrics.PREQUAL_GET_PREQUALIFIED_CLICK,1);b=b.data.prequalUrl+"\x26redirectUrl\x3d"+encodeURIComponent(v.location.href);v.open(b,"_blank")})});"use strict";p.when("A","price-block-message-actions","price-block-payment-options","comparison-plans-state","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-offer-selection-events",
function(b,e,f,k,g,d){function h(b){var a=c(b.$currentTarget);a!==x&&null!==a&&(a=b.data.paymentOptionSelectButtonId,k.paymentOptionSelected.paymentOptionSelectedButtonId=a,a===g.ONE_TIME_PAYMENT_OPTION_ID?delete k.paymentOptionSelected.offerGroup:k.paymentOptionSelected.offerGroup=b.data.offerGroup)}var c=b.$,l=g.selector;b.declarative("price-block-select-payment-plan","click",function(g){d.logNexusEventForComparePlansOfferSelection(g);var a=c(g.$currentTarget);a===x||null===a||b.contains(k.paymentOptionSelected.disabledPaymentOptionIds,
g.data.paymentOptionSelectButtonId)||(a=g.data.buyingOptionIndex,f.updateUfoSelection(g,a),h(g),g=g.data.optionSelectedString,a=c(l.PRICE_BLOCK_CONTAINER_PREFIX+a),e.hideErrorMessage(a),e.updatePriceBlockMessageWithSelectedOption(g,a))});b.declarative("price-block-otp-action","click",function(b){var a=c(b.$currentTarget);a!==x&&null!==a&&(a=b.data.buyingOptionIndex,f.cancelUfoSelection(),h(b),b=c(l.PRICE_BLOCK_CONTAINER_PREFIX+a),e.resetPriceBlockMessageWithTopEligibleOffer(b))})});"use strict";p.when("A",
"price-block-payment-options","comparison-plans-state","price-block-messaging-constants","price-block-message-actions","po-compare-plans-actions","price-block-buy-box-utils").register("price-block-mod-buy-box-listener",function(b,e,f,k,g,d,h){var c=b.$,l=k.selector;b.on("a:tabs:offerDisplayGroup_tabs:select",function(d){c(l.PRICE_BLOCK_STRING_CONTAINER).length&&(d=k.ID_PREFIX+d.selectedTab.$tab[0].id,h.updateActiveTab(d),d=h.getActiveBuyingOptionIndex(d),b.trigger("a:declarative:update-offer-selection-on-switch-buying-option:click",
d))});b.on("a:accordion:buybox-accordion:select",function(d){c(l.PRICE_BLOCK_STRING_CONTAINER).length&&(d=parseInt(d.selectedRow.$row.index()),h.updateActiveBuyingOptionIndex(d),b.trigger("a:declarative:update-offer-selection-on-switch-buying-option:click",d))});b.declarative("update-offer-selection-on-switch-buying-option","click",function(b){var a=f.paymentOptionSelected.offerGroup,h=f.paymentOptionSelected.paymentOptionSelectedButtonId,u=c([l.COMPARISON_TABLE_MODAL_PREFIX,b].join(k.DASH_SPLITTER)),
r=c(l.PRICE_BLOCK_CONTAINER_PREFIX+b);h===k.ONE_TIME_PAYMENT_OPTION_ID?u.length?u.find(l.COMPARISON_TABLE_CANCEL_BUTTON_CLASS).click():g.hideErrorMessage(r):a&&(h=u.find(l.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS),a=u.find(c([l.COMPARISON_TABLE_SELECT_PLAN_WITH_OFFER_GROUP_CLASS_PREFIX,a].join(k.DASH_SPLITTER))),u&&a&&a.length?d.selectAndConfirmPlan(b,a.attr("id")):(b=u&&h&&h.length,e.cancelUfoSelection(),g.showErrorMessage(k.errorMessageType.PAYMENT_OPTION_UNAVAILABLE,r,b,{})))})});"use strict";
p.when("A","price-block-messaging-constants").register("price-block-buy-box-utils",function(b,e){function f(){if(g(d.PRICE_BLOCK_STRING_CONTAINER).length){g(d.OFFER_DISPLAY_GROUP_TAB_SET).length&&(m=e.ID_PREFIX+g(d.DELIVERY_TAB)[0].id,u=e.ID_PREFIX+g(d.PICKUP_TAB)[0].id);l={};var b=g(u),f=g(d.PRICE_BLOCK_CONTAINER_CLASS);b.length&&f.length&&(a=0===b.index()?0:parseInt(f.slice(-1).attr("id").split("-").pop()));k(a,u);b=g(d.ACTIVE_ACCORDION).data(c.BUYING_OPTION_INDEX);0===a?(k(b?b:1,m),p=u):(k(b?b:
0,m),p=m)}}function k(a,b){b||(b=p);l[b]=a}var g=b.$,d=e.selector,h=e.attributes,c=e.actionData,l,p,a,m,u;f();b.on("PageRefresh:ATF",f);return{getActiveAccordionBuyBox:function(b,c){b=parseInt(b);c=c?g(c):g(d.ACTIVE_TAB);c.length&&b!==x&&(c=b===a?g(u):g(m));var e,f;1===c.length?(e=c.attr(h.TAB_CONTENT_ID),f=g(d.TAB_PREFIX+e+" "+d.BUY_BOX_ACCORDION_ROWS)):f=g(d.BUY_BOX_ACCORDION_ROWS);var k;1===f.length?k=b||0===b?f.find(d.ACCORDION_ROW_FOR_BUYING_OPTION_INDEX.replace(d.BUYING_OPTION_INDEX_VARIABLE,
b)):f.find(d.ACTIVE_ACCORDION):1===c.length&&(k=g(d.TAB_PREFIX+e));return k},updateActiveBuyingOptionIndex:k,updateActiveTab:function(a){p=a},getActiveBuyingOptionIndex:function(a){a||(a=p);return l[a]},getActiveTab:function(){return p}}});"use strict";p.when("A","comparison-plans-state","price-block-messaging-constants","po-compare-plans-actions").register("price-block-message-actions",function(b,e,f,k){function g(e,f){b.hide(f.find(c.PRICE_BLOCK_ALERT_SUCCESS));d(e,f);h(a.CLEAR,f)}function d(a,
d){var e=d.find(c.PRICE_BLOCK_AMOUNT_PREFIX_ID),f=d.find(c.PRICE_BLOCK_AMOUNT_ID),g=d.find(c.PRICE_BLOCK_AMOUNT_SUFFIX_ID),h=d.find(c.PRICE_BLOCK_INNER_AMOUNT);b.hide(d.find(c.PREVIOUS_OPTION_ITEM_APPLICABILITY_MESSAGE));b.show(d.find(c.OPTION_SELECTION_MESSAGE));b.hide(e);b.hide(f);b.hide(g);b.hide(h);g.html(a.regularPriceBlockFragment);b.show(g);if(a=a.highlightedPriceBlockFragment)f.html(a.amountDisplayString),b.show(f),a.prefix&&(e.html(a.prefix),b.show(e)),b.show(h)}function h(d,e){d===a.CLEAR?
(b.hide(e.find(c.COMPARE_PLAN_LINK_SELECTED)),b.show(e.find(c.COMPARE_PLAN_LINK_UNSELECTED))):d===a.SELECT&&(b.hide(e.find(c.COMPARE_PLAN_LINK_UNSELECTED)),b.show(e.find(c.COMPARE_PLAN_LINK_SELECTED)))}var c=f.selector,l=f.actionData,p={updatePriceBlockMessageWithSelectedOption:function(e,f){b.hide(c.PRICE_BLOCK_ALERT);b.show(f.find(c.PRICE_BLOCK_ALERT_SUCCESS));d(e,f);h(a.SELECT,f)},resetPriceBlockMessageWithTopEligibleOffer:function(a){var b=a.find(c.COMPARE_PLAN_LINK).find(c.DECLARATIVE_CLASS).data(l.COMPARE_PLAN_V2_ACTION_DATA).buyingOptionIndex,
b=k.getTopEnabledOfferDataInComparisonTable(b).optionNotSelectedString;p.hideErrorMessage(a);g(b,a)},updatePriceBlockMessageWithNotSelectedOption:g,showErrorMessage:function(d,e,f,g){b.hide(e.find(c.PRICE_BLOCK_ALERT_SUCCESS));b.hide(e.find(c.PRICE_BLOCK_STRING));b.show(e.find(c.PRICE_BLOCK_ALERT_ERROR));var k=e.find(c.PRICE_BLOCK_ERROR_STRING_ID);d=k.data(d);if(g)for(var l in g)g[l]&&(d=d.replace(l,g[l]));k.html(d);b.show(e.find(c.PRICE_BLOCK_ERROR_CONTAINER));g=e.find(c.COMPARE_PLAN_LINK);h(a.SELECT,
e);f?b.show(g):b.hide(g)},hideErrorMessage:function(a){b.hide(a.find(c.PRICE_BLOCK_ALERT_ERROR));b.hide(a.find(c.PRICE_BLOCK_ERROR_CONTAINER));b.show(a.find(c.PRICE_BLOCK_STRING));b.show(a.find(c.PRICE_BLOCK_ALERT_SUCCESS));b.show(a.find(c.COMPARE_PLAN_LINK))}},a={SELECT:"select",CLEAR:"clear"};return p});"use strict";p.when("A","a-modal","payment-options-opt-out-state","price-block-messaging-constants","payment-options-client-side-metric","ready").execute("payment-options-modal",function(b,e,f,k,
g){var d={};b.declarative("open-priceblock-change-plan-modal","click",function(b){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:Link:Click");var c="priceblock-change-plan-modal-"+b.data.buyingOptionIndex;Object.hasOwn(d,c)||(d[c]=e.create(b.$target,{header:b.data.optOutModalHeader,name:c,dataStrategy:"preload",width:484}));d[c].show()});b.declarative("priceblock-change-plan-modal-cancel-button","click",function(b){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:CancelButton:Click");
d["priceblock-change-plan-modal-"+b.data.buyingOptionIndex].hide()});b.declarative("priceblock-change-plan-modal-continue-button","click",function(h){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:ContinueButton:Click");h=f.paymentOptionOptOutSelected.changePlanEventData;for(var c=Object.keys(d),l=0;l<c.length;++l){var p=c[l];e.remove(p);delete d[p]}f.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet=!0;c=b.copy(h);c.data.paymentOptionSelectButtonId=k.ONE_TIME_PAYMENT_OPTION_ID;
b.trigger("a:declarative:price-block-otp-action:click",c);h=b.copy(h);b.trigger("a:declarative:price-block-compare-plans:click",h)})});"use strict";p.when("A","a-modal","price-block-messaging-constants","compare-plan-row-height-updater","ready").register("compare-plan-modal",function(b,e,f,k){var g=b.$;b.on("PageRefresh:ATF",function(){for(var b=g('[id^\x3d"compare-plan-modal-"]').length,f=0;f<b;f++){var c="compare_plan_"+f;null!==e.get(c)&&e.remove(c)}});return{showModal:function(d){var g=d.data.buyingOptionIndex,
c="compare_plan_"+g,l=e.get(c);if(!b.isListening(f.selector.COMPARE_PLAN_AFTER_SHOW+c))b.on(f.selector.COMPARE_PLAN_AFTER_SHOW+c,function(){k.updateRowHeight("#comparison-table-"+g)});null!==l?l.update({height:860<=v.innerHeight?770:v.innerHeight-90}):(l=d.data.numberOfPaymentOptions,l=e.create(d.$target,{name:c,dataStrategy:"preload",padding:"none",width:2>=Number(l)?530:Math.min(218*l+96,1180),height:860<=v.innerHeight?770:v.innerHeight-90,header:d.data.comparisonTableHeaderText}));l.show()},hideModal:function(b){(b=
e.get("compare_plan_"+b))&&b.hide()},updateModalHeader:function(b,f){(b=e.get("compare_plan_"+b))&&b.update({header:f})}}});"use strict";p.when("A","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-landing-page-events",function(b,e,f){b.declarative("acquisition-offer-see-details","click",function(b){f.incrementWithValuePriceBlockMessaging(e.metrics.ACQUISITION_OFFER_SEE_DETAILS_BUTTON_CLICK,1);try{var g=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).bannerDetailsPageUrl;
v.open(g,"_blank")}catch(d){f.incrementWithValue("AcquisitionOffer:Desktop:LandingPageUrlParsingError",1)}});b.declarative("acquisition-offer-learn-more","click",function(b){f.incrementWithValuePriceBlockMessaging(e.metrics.ACQUISITION_OFFER_LEARN_MORE_CLICK,1);try{var g=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).learnMoreUrl;v.open(g,"_blank")}catch(d){f.incrementWithValue("AcquisitionOffer:Desktop:LearnMoreUrlParsingError",1)}})});"use strict";p.when("A","price-block-messaging-constants",
"payment-options-client-side-metric","comparison-plans-actions").register("checkbox-price-block-actions",function(b,e,f,k){function g(b){h(c.CHECKBOX_PRICE_BLOCK).data(c.CHECKBOX_PRICE_BLOCK_DATA_KEY,b)}function d(b){h(c.CHECKBOX_PRICE_BLOCK).data(c.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY,b)}var h=b.$,c=e.selector,l=e.actionData;return{getComparePlansV1SelectedOfferButtonId:function(){var b=c.COMPARE_PLAN_OFFER_BUTTON_ID_PREFIX,a=h(c.CHECKBOX_PRICE_BLOCK).data(c.CHECKBOX_PRICE_BLOCK_DATA_KEY);
a||(a=b+"01",g(a));return a},getComparePlansV2SelectedOfferButtonId:function(){var b=h(c.CHECKBOX_PRICE_BLOCK).data(c.CHECKBOX_PRICE_BLOCK_DATA_KEY);b||(b=c.CHECKBOX_PRICE_BLOCK_INITIAL_CP2_BUTTON,g(b));return b},getOptionNotSelectedString:function(){return h(c.CHECKBOX_PRICE_BLOCK).data(c.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY)},updateCheckboxPriceblockData:g,updateCheckboxPriceblockOptionNotSelectedString:d,updateCheckboxWithTopOffer:function(b){b=b.find(c.COMPARE_PLAN_LINK).find(c.DECLARATIVE_CLASS).data(l.COMPARE_PLAN_LINK_ACTION_DATA).buyingOptionIndex;
b=k.getTopEnabledOfferDataInComparisonTable(b);g(e.ID_PREFIX+b.paymentOptionSelectButtonId);d(b.optionNotSelectedString)},markCheckboxPriceblock:function(){document.getElementById(c.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!0},unmarkCheckboxPriceblock:function(){document.getElementById(c.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!1},triggerCheckboxSelectedActions:function(c,a){b.defer(function(){h(c).click();h(a).click()})},triggerCheckboxUnCheckedActions:function(b){h(b).click()},hasCheckboxPriceblock:function(){return h(c.CHECKBOX_PRICE_BLOCK).length}}})});
/* ******** */
