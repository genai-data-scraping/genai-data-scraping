(function(c){var b=window.AmazonUIPageJS||window.P,e=b._namespace||b.attributeErrors,a=e?e("DetailPageABInContextAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,e){c.when("A","abInContextConstants","abInContextMetrics").execute(function(a,d,c){function m(a){"REDIRECT"===a.data.action&&(b.location.href=a.data.destinationUrl)}var e=a.$,f,g=!1;a.on("a:popover:show:ab-reg-in-context-modal",function(r){function q(a){b.ResizeObserver&&(f=new b.ResizeObserver(function(b){g||
(g=!0,requestAnimationFrame(function(){var b=a[0].scrollHeight;400<b&&n.css("height",b+"px");g=!1}))}),f.observe(a[0]))}function p(){var b=e(h[0].contentDocument||h[0].contentWindow.document).find("#root");b.length?(k||(k=!0,l&&(clearTimeout(l),l=null),c.emitClickStreamCounterEvent(d.BIOAB_PLACEMENT,d.METRICS_NAME.IFRAME_LOADED)),q(b)):a.delay(p,100)}b.addEventListener("message",m);r.popover.$popover.find("header button").css({position:"absolute",right:"0",top:"0",zIndex:"10000"});c.emitClickStreamCounterEvent(d.BIOAB_PLACEMENT,
d.METRICS_NAME.SHOW);var n=e("#ab-reg-in-context-modal"),h=n.find("iframe"),k=!1;var l=a.delay(function(){k||c.emitClickStreamCounterEvent(d.BIOAB_PLACEMENT,d.METRICS_NAME.IFRAME_LOAD_TIMEOUT)},5E3);h.length&&p()});a.on("a:popover:afterHide:ab-reg-in-context-modal",function(a){b.removeEventListener("message",m);c.emitClickStreamCounterEvent(d.BIOAB_PLACEMENT,d.METRICS_NAME.CLOSE);f&&(f.disconnect(),f=null)})});"use strict";c.register("abInContextConstants",function(){return{METRICS_NAME:{SHOW:"incontext.shown",
CLOSE:"incontext.close",IFRAME_LOADED:"incontext.iframe.loaded",IFRAME_LOAD_TIMEOUT:"incontext.iframe.timeout",IFRAME_MOBILE_LOADED:"incontext.iframe.mobile.loaded",IFRAME_LOAD_MOBILE_TIMEOUT:"incontext.iframe.mobile.timeout"},METRICS_PREFIX:"dpx.b2b.",BIOAB_PLACEMENT:"buyItOnAb."}});"use strict";c.when("A","abInContextConstants").register("abInContextMetrics",function(a,c){return{emitClickStreamCounterEvent:function(a,d){b.ue&&b.ue.count?b.ue.count(c.METRICS_PREFIX+a+d,1):b.ueLogError("No ClickStream metric emitter found!")}}})});