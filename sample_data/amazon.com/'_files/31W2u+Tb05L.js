'use strict';mix_d("ProductComparisonCards__product-comparison-desktop:product-comparison-desktop__TCl_jVSY","exports tslib @c/scoped-dom @c/aui-untrusted-ajax @c/browser-operations @c/remote-operations @c/navigation @c/dom @c/metrics @c/aui-modal".split(" "),function(E,m,J,K,L,M,N,O,t,P){function y(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}var A=y(J),F=y(K),B=y(L),C=y(N),x=y(O),Q=y(P),z=function(a,c){return a.querySelector("[class*="+c+"]")},R=function(a,c,b){a=JSON.parse(a);
a.adCreativeMetaData=c.adCreativeMetaData;a.feedbackFormContainerId=b;return encodeURI(JSON.stringify(a))},S=function(a,c,b,d){return m.__awaiter(void 0,void 0,void 0,function(){var e,f,h,k,l,r,q,u;return m.__generator(this,function(g){e="adFeedbackModal_"+a;g=(null===(u=z(c,"ad-feedback-modal-container"))||void 0===u?void 0:u.className)||"";f="."+c.className+" ."+g.replace(" ",".");k=(h=b().adCreativeMetaData.adCreativeDetails)?h.length:0;l=c.dataset.deviceType||"desktop";g=Math.max(560,125*k+130);
var p=k;var n=l;p=d&&"true"===d.toLowerCase()?2>p?605:810:"tablet"==n?2>p?545:775:2>p?430:645;r={a11yOpenMessage:"",width:g,height:p};try{return q=Q["default"].create(e,f,r),[2,q]}catch(v){throw t.count("adfeedback:cards:clientDesktop:modalCreation:failure",1),Error("Modal Creation Failed : "+v);}})})},V=function(a,c,b,d,e,f,h){var k="rtl"===document.getElementsByTagName("html")[0].dir?"ad-feedback-loading-spinnner-rtl":"ad-feedback-loading-spinnner";var l=z(x["default"].cardRoot,k);a.on("beforeShow",
function(){return m.__awaiter(void 0,void 0,void 0,function(){var r,q;return m.__generator(this,function(u){switch(u.label){case 0:return r=T(a,c,b),[4,a.render(function(g){var p="250px",n=b().adCreativeMetaData.adCreativeDetails;n&&2>n.length&&(p="150px");l.style.marginTop=p;g.innerHTML="";p=g.appendChild;n=document.getElementsByTagName("html")[0].dir;var v=x["default"].createElement("div"),w=x["default"].createElement("div");v.innerHTML=e;"rtl"===n?(v.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 28px; margin-right: 0px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 0px; padding-right: 25px; padding-top: 16px; text-align: right; text-rendering: optimizelegibility; visibility: visible;'),
w.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to left, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: right; visibility: visible; z-index: 10;')):
(v.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 0px; margin-right: 28px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 25px; padding-right: 0px; padding-top: 16px; text-align: left; text-rendering: optimizelegibility; visibility: visible;'),w.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to right, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: left; visibility: visible; z-index: 10;'));
w.appendChild(v);p.call(g,w);p=document.getElementsByTagName("html")[0].dir;n=x["default"].createElement("div");"rtl"===p?n.setAttribute("style","padding-bottom: 16px; padding-right: 50px ; padding-top: 16px; justify-content: center; align-items: center;"):n.setAttribute("style","padding-bottom: 16px; padding-left: 50px ; padding-top: 16px; justify-content: center; align-items: center;");U(l,n,d,r,f);g.appendChild(n)})];case 1:return u.sent(),(q=document.querySelector(".a-button-close"))&&q.setAttribute("aria-label",
h),[2]}})})})},T=function(a,c,b){b=b();var d=b.adCreativeMetaData.adCreativeDetails;null===d||void 0===d?void 0:d.sort(function(e,f){return e.adCreativeIndex<f.adCreativeIndex?-1:1});return R(c,b,a.id)},U=function(a,c,b,d,e){c.appendChild(a);"function"==typeof t.uet&&t.uet("bb","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});F["default"].post("/af/multi-creative/feedback-form",{accepts:"application/json",contentType:"application/json",additionalHeaders:{"Accept-Language":""===b?"en-US":
b}},{pl:d,deviceType:"desktop"}).then(function(f){return m.__awaiter(void 0,void 0,void 0,function(){var h,k,l;return m.__generator(this,function(r){"function"==typeof t.uet&&t.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});t.count("adfeedback:cards:clientDesktop:fetchFormContent:success",1);h=x["default"].createElement("div");h.innerHTML=String(f.responseBody);for(k=0;k<h.children.length;++k)l=h.children[k],"SCRIPT"===l.tagName?D("script",l,c):"LINK"===l.tagName?D("link",
l,c):D("div",l,c);c.removeChild(a);return[2]})})}).catch(function(){"function"==typeof t.uet&&t.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});t.count("adfeedback:cards:clientDesktop:fetchFormContent:failure",1);c.innerHTML=e});"function"==typeof t.uex&&t.uex("ld","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1})},D=function(a,c,b){var d=x["default"].createElement(a);d.innerHTML=c.innerHTML;c.getAttributeNames().forEach(function(e){d.setAttribute(e,c.getAttribute(e)||
"")});b.appendChild(d)},G={},W=function(a,c){return m.__awaiter(void 0,void 0,void 0,function(){var b,d,e,f,h,k,l,r,q;return m.__generator(this,function(u){b=z(a,"ad-feedback-primary-link");d=c().adFeedbackLabelId;e=B["default"].setup();f="open-modal"+d;h=c().adCreativeMetaData.adCreativeDetails;k=a.dataset;l=k.isDsaEnabled;r=k.weblabTreatment;q=String(l);"undefined"===q&&(q=h&&0<h.length?h[0].selectionSignals?"true":"false":"false");"true"===q&&"T1"!==r&&(q="false");e.attach(f,b);e.define(f,"click",
function(){return m.__awaiter(void 0,void 0,void 0,function(){var g;return m.__generator(this,function(p){switch(p.label){case 0:return(g=G[d])?[3,2]:[4,S(d,a,c,q)];case 1:g=p.sent();var n=a.dataset,v=n.formHeaderText,w=n.dsaFormHeaderText;V(g,n.adFeedbackPayload,c,n.currentLocale,"true"===q?w:v,n.formLoadErrorText,n.closeButtonAriaText);G[d]=g;p.label=2;case 2:return g.show(),[2]}})})});try{b.addEventListener("keydown",function(g){if(" "===g.key||"Enter"===g.key)g.preventDefault(),b.click()})}catch(g){console.log("Couldnt add keydown event listner")}return[2]})})},
X=function(a,c){var b=B["default"].setup(),d="mouse-enter"+c;c="mouse-leave"+c;var e=z(a,"ad-feedback-primary-link"),f=z(a,"ad-feedback-text-desktop"),h=z(a,"ad-feedback-sprite");b.attach(d,e);b.define(d,"mouseenter",function(){h.style.backgroundPosition="0px -12px";f.style.color="#111111"});b.attach(c,e);b.define(c,"mouseleave",function(){h.style.backgroundPosition="0px 0px";f.style.color="#555"})},Y=function(a){return m.__awaiter(void 0,void 0,void 0,function(){var c,b,d,e;return m.__generator(this,
function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),c=a(),b=A["default"].cardRoot.getElementsByClassName("adFeedbackMainComponent_"+c.adFeedbackLabelId)[0],d=b.dataset.isSponsoredLabelActive,"false"===(d||"false").toLowerCase()?[2]:[4,X(b,c.adFeedbackLabelId)];case 1:return f.sent(),[4,W(b,a)];case 2:return f.sent(),[3,4];case 3:throw e=f.sent(),t.count("adfeedback:cards:clientDesktop:enableAdFeedback:failure",1),Error("Failed to call enableAdFeedback for desktop client : "+e);case 4:return[2]}})})},
Z=function(a){a=x["default"].cardRoot.getElementsByClassName(a);return Array.prototype.slice.call(a)},ba=function(a,c){Z("p13n-sc-unified-ad-label").forEach(function(b){b={adFeedbackLabelId:b.dataset.adFeedbackLabelId||"",adFeedbackAsin:b.dataset.adFeedbackAsin||"",adId:b.dataset.adId||"",campaignId:b.dataset.campaignId||"",advertiserId:b.dataset.advertiserId||"",marketplaceId:b.dataset.marketplaceId||"",isLocationUsed:b.dataset.locationUsed||"",isInterestBasedAdsOptOut:b.dataset.interestBased||"",
title:b.dataset.asinTitle||"",price:b.dataset.asinPrice||"",currencyCode:b.dataset.currencyCode||""};b.adFeedbackLabelId&&b.adFeedbackAsin&&b.adId&&b.campaignId&&b.advertiserId&&b.marketplaceId&&b.isLocationUsed&&b.isInterestBasedAdsOptOut&&aa(b,c,a)})},aa=function(a,c,b){var d="mobile"===c?H(a.adFeedbackLabelId,I(a,"mobile")):H(a.adFeedbackLabelId,I(a,"desktop"));b(function(){return d})},I=function(a,c){var b=c=m.__assign,d=a.adFeedbackAsin,e=a.adId,f=a.campaignId,h=a.title;var k=a.price;var l=a.currencyCode;
k=k&&l?{amount:k,currencyCode:l}:void 0;l=a.advertiserId;var r=a.marketplaceId;b=b.call(m,{},{asin:d,adCreativeIndex:0,adId:e,campaignId:f,title:h,priceInfo:k,advertiserIdNS:l&&r?"axiom."+r+"."+l:void 0});d=a.isLocationUsed;a=a.isInterestBasedAdsOptOut;a=void 0===d||void 0===a?void 0:{version:1,context:!0,location:"true"===d,pastActivity:"true"===a?0:1};return{adCreativeDetails:[c.call(m,b,{selectionSignals:a})]}},H=function(a,c){return{adFeedbackLabelId:a,adCreativeMetaData:c}},ca={enableDesktopUnifiedAdLabels:function(){ba(Y,
"desktop")}},da={accepts:"text/html, application/json",timeout:2E3},ea=function(a,c){(a=c.getAttribute("data-spUrl"))&&F["default"].get(a,da).then(function(){}).catch(function(){})},ha=function(a){if(a){var c=B["default"].setup(),b=c.define;c=c.attach;b("process-swatch-click","click",function(d){return m.__awaiter(void 0,void 0,void 0,function(){var e,f,h,k,l,r,q,u,g,p,n,v;return m.__generator(this,function(w){switch(w.label){case 0:if(!d)return[2];e=d.target;f=null===e||void 0===e?void 0:e.dataset.asin;
h=e.dataset.parentAsin;if(!f||!h)return[2];k=a.querySelector("[id^=swatchesContainer-"+h+"]");l=k.querySelector("[class*=selected]");r=k.querySelector("[id^=swatch-"+f+"]");return[4,fa(l,r)];case 1:return w.sent(),q=M.setup(),[4,q.getLinkFromAsin({asin:f})];case 2:return u=w.sent(),g=k.dataset.url,p=m.__read(g?g.split(/ref(.*)/):[],2),n=p[1],u.url&&n?(v=u.url+"/ref"+n.replace(h,f),C["default"].setLocation(v)):g?C["default"].setLocation(g):C["default"].setLocation("dp/"+h),[2]}})})});c("process-swatch-click",
a)}},fa=function(a,c){return m.__awaiter(void 0,void 0,void 0,function(){var b,d;return m.__generator(this,function(e){b=m.__read(null===a||void 0===a?void 0:a.className.split(" ").filter(function(f){return-1<f.indexOf("selected")}),1);d=b[0];a.classList.remove(d);c.classList.add(d);return[2]})})},ia=function(a){a=a.querySelector("._product-comparison-desktop_desktopFaceoutStyle_comparisonTable__hYFf4");ha(a)};E._operationNames=["getLinkFromAsin"];E.card=function(){return m.__awaiter(void 0,void 0,
void 0,function(){var a,c,b;return m.__generator(this,function(d){switch(d.label){case 0:a=A["default"].cardRoot;if(!a)throw Error("Comparison widget is missing");ia(a);c=A["default"].cardRoot.querySelector("."+CSS.escape("_product-comparison-desktop_sponsoredProductsStyle_labelHeight__2uHyE"));if(!c)return[3,2];b=a.querySelectorAll("[data-spUrl]");b.forEach(function(e){e.onclick=function(f){ea(f,e)}});return[4,ca.enableDesktopUnifiedAdLabels()];case 1:d.sent(),d.label=2;case 2:return[2]}})})}});
