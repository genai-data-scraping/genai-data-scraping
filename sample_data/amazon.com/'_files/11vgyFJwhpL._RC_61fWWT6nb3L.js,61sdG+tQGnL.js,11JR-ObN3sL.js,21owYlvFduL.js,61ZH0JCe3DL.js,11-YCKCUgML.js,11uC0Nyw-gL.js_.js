(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f,r;return function(c,t){n=t;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.setImmersiveViewVideoModalInstance=function(a){r=a};this.getImmersiveViewVideoModalInstance=function(){return r};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,
l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});
"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";
d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(M){var p=window.AmazonUIPageJS||window.P,Y=p._namespace||p.attributeErrors,X=Y?Y("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):p;X.guardFatal?X.guardFatal(M)(X,window):X.execute(function(){M(X,window)})})(function(M,p,Y){M.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(m,c,f,N,l,K,C){function G(k,b,a,e,h){if(!f.isjQueryObjDefined(k.find(".a-button-selected"))){var d=
n.getCurrentItem();if(!e||"chromeless-video"!==d.type||!g.autoplayVideo){e=0;"image"===d.type&&(e=Math.max(f.getIndexForVariant(d.color,d.variant,g),0));var B=0;f.isDefined(g.heroImage[d.color])&&(B=g.heroImage[d.color].length);h=e-(b>=g.maxAlts?g.maxAlts-h-B:0);b=0<=h?b+h:e+B;b>=a&&(e=0,b=B);a=f.getImageHash(d.color,e,g);-1!==a&&(t.dispatch("updateModel",{data:{index:e,thumbnailIndex:b,variant:a.variant,type:"image",shoppableScene:a.shoppableScene}}),a=k.find(".item").get(b),f.selectGivenThumbnail(c(a),
k))}}}function q(c){if(!g.useChildVideos)return f.lazyLoadingRequired(n.getCurrentItem(),n,g)?void 0:g.videos;if(g.colorToVideo[c])return g.colorToVideo[c];var b=g.colorToAsin[c];if(b&&b.asin){var a={};a.params={asin:b.asin,productGroupID:g.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:g.useChromelessVideoPlayer,isUDP:g.isUDP};g.isDPXFeatureEnabled||(a.success=function(a){videosOnTwisterRefresh(a)},N.load(VIDEO_AJAX_ENDPOINT,a));return g.colorToVideo&&g.colorToVideo[c]}}function I(d,
b,a){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&a)return d;var e=q(b),h=f.isDefined(e)&&0<e.length&&g.alwaysIncludeVideo?1:0;b=g.colorImages&&g.colorImages[b];e=d;var H=0;f.isDefined(b)&&(c.each(b,function(a,b){if(H>=g.maxAlts-h&&d<g.maxAlts+g.additionalNumberOfImageAlts){if(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment){var e=c(".thumbItemUnrolled");e[d]?e[d].querySelector("img").src=b.thumb:c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
a+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(d+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(d+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(d+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+b.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:a,thumbnailIndex:d,variant:b.variant,shoppableScene:b.shoppableScene},b.thumb,k,"imageThumbnail");d++}H++}),K.isEnabled&&C.logAltImgRequestPlacedOnThumbnails(c,K,n),G(k,e,d,a,h));return d}function W(c,b){g.useIV&&f.isDefined(b.hiRes)&&c.css("cursor","pointer")}function A(d,b){if("image"===d.type&&S){var a=c("#image-canvas-caption #canvasCaption"),e=g.staticStrings,k=g.colorImages,h=d.color,r=d.index,t=!0;var n='\x3ca href\x3d"#"\x3e'+e.clickForFullView+"\x3c/a\x3e";f.isShoppableScenesEnabled()&&
d.shoppableScene?n=e.clickSceneTagsToShopProducts:b&&g.useIV?(n='\x3ca href\x3d"#"\x3e'+e.clickForFullView+"\x3c/a\x3e",t=!0):k[h]&&k[h][r].hiRes&&g.useHoverZoom?(g.useHoverZoomIpad?n=e.touchToZoom:g.useClickZoom&&(n=e.clickToZoom),g.hoverZoomIndicator&&(n="\x3cimg src\x3d'"+g.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+n)):g.useIV&&(n='\x3ca href\x3d"#"\x3e'+e.clickForFullView+"\x3c/a\x3e",t=!0);a.html(n);t&&(d=c("#image-canvas-caption #canvasCaption a"),m.declarative.create(d,"iv-open-caption-click"))}}
function z(d,b){var a="a-dynamic-image";if(!g.acEnabled){var e;c.each(d.main,function(a,b){f.isDefined(e)||(e=parseFloat(b[1]/b[0])<=parseFloat(g.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});a+=e}var k=f.getMaxDimensionsOfMainImage(d.main,D,g),h=k[0],n=k[1];k=c("\x3cdiv\x3e\x3c/div\x3e");h={"max-height":h,"max-width":n};k.addClass(a).css(h).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",d.main);return k}function u(d,b,a){var e=
"desktop-dp-atf-ib-shoppablescenes-tags-"+d;"function"==typeof uet&&uet("bb",e,{wb:1});a.attr("data-a-image-name","shoppable-scene:"+d);a=w.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");a.addClass("celwidget").attr("cel_widget_id",e);a.children("span").css("display","inline-block");t.dispatch("initialize-shoppable-scene",{index:d,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:a.find(".mirai-scene-tag-placeholder"),
$viewProductsButton:a.find(".mirai-scene-view-products-button")});"MutationObserver"in p&&(new MutationObserver(function(a,e){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:d,shoppableScene:b.shoppableScene})}),e.disconnect())})})).observe(a.find(".mirai-scene-image-block-tag-container")[0],
{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",e,{wb:1});return a}function x(d,b,a){a=z(d,a);d=f.isShoppableScenesEnabled()&&d.shoppableScene?u(b,d,a):w.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");d.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});d.find(".placeHolder").replaceWith(a);w.find(".list").append(d);
m.loadImageManually(a);return d}function J(d){var b=D.css("height");null!==b&&d.find(".imgTagWrapper").css("height",b);d.addClass("selected");g.imgTagWrapperClasses&&d.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses)}function L(d,b,a,e){if(2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||e||"unavailable"===d.type){if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){a=f.getImageHash(d.color,d.index,g);if(-1===a)return b={data:{index:0,thumbnailIndex:0,variant:"",
type:"unavailable"}},f.lazyLoadingRequired(d,n,g)||(t.dispatch("updateModel",b),f.showUnavailable(d.color)),-1;e=w.find(".item.itemNo"+d.thumbnailIndex);f.isjQueryObjDefined(e)||(e=x(a,d.thumbnailIndex,b));J(e);t.dispatch("loadMagnifier");A(d);W(e,a);m.trigger("dp:image-block:update",a)}}else{d=g.colorImages&&g.colorImages[a];b=c(".unrolledImg");a=q(a);var k=f.isDefined(a)&&0<a.length&&g.alwaysIncludeVideo?1:0;b.length>g.maxAlts&&b.each(function(a){a>=g.maxAlts&&c(this).remove()});f.isDefined(d)&&
c.each(d,function(a,b){a<g.maxAlts-k+g.additionalNumberOfImageAlts&&a>=g.maxAlts-k&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+k+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(a+k)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(a+k)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))})}}function E(d){var b=n.getCurrentItem().color;g.colorImages[b]||(g.colorImages[b]=d);d={type:"updatedData",data:n.getCurrentItem()};t.dispatch("updateView",d);(b=g.colorToAsin[b])&&
b.asin&&M.register(f.rankedImagesReadyEvent(b.asin))}function O(){var d=w.find(".item .imgTagWrapper"),b=f.getContainerHeight(D,g.holderRatio,g.holderMaxHeight);0<b&&(D.height(b),d.height(b));w.find("img.a-dynamic-image").each(function(){var a=c(this);a.data("a-manual-replacement")&&m.loadDynamicImage(this);var b=a.data("a-dynamic-image");b=f.getMaxDimensionsOfMainImage(b,D,g);a.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function h(d){A(n.getCurrentItem(),"mouseenter"===d.type)}var d,g,
n,t,k,w,D,F,S=(l=m.state("imageBlockStateData"))?!l.shouldRemoveCaption:!0;return function(l,b,a,e){d=this;g=l;n=b;t=e;m.on("triggerImageAjax",E);g.colorImages[g.landingAsinColor]=g.colorImages[g.defaultColor];d.render=function(a,b,e,d,h,y,v){w=e;k=d;D=h;F=I(b,a,y);y||(b=n.getCurrentItem(),f.lazyLoadingRequired(b,n,g)&&t.dispatch("updateModel",{data:{type:"lazy-loaded"}}));b=n.getCurrentItem();e=!y;f.lazyLoadingRequired(b,n,g)||(c("#imageBlock").css("opacity","1"),w.css("opacity","1"),f.spinner(w,
!1),w.find("li").removeClass("selected"),S&&c("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&w.find(".list .item").remove());L(n.getCurrentItem(),v,a,y);return F};d.update=function(a){};g.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");t.register("imageHover",h);t.register("resize",O)}});"use strict";M.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(m,c,f){var p,l,K,C;return function(c,q,N,W){p=this;l=c;K=W;p.render=function(c,
q,u,x,N,L,E){C=x;p=this;u=l.maxAlts;x=q;N=l.colorImages[c]?l.colorImages[c].length:0;N+=f.getVideosCount(c,l);c=l.heroImage[c];L=0;c&&(L=c.length);c=N+L;c>u&&(u=c-u,c=C.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),u+="+",x={type:"ingress",index:0,thumbnailIndex:q,variant:""},c.find("#altIngressText").append(u),m.declarative.create(c,"thumb-action",x),C.append(c),x=q++);return x};p.update=function(c){"ingress"===c.data.type&&"click"===
c.type&&K.dispatch("imageClick",c)}}});"use strict";M.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(m,c,f,p){function l(h,d,g,n){if(!f.isjQueryObjDefined(h.find(".a-button-selected"))){var t=x.getCurrentItem();if(!n||"chromeless-video"!==t.type||!u.autoplayVideo){n=0;if("hero-image"===t.type){n=C(t.color,t.variant);if(-1===n)return;n=-1!==n?n:0}var k=d+n;k>=g&&(n=0,k=d);d=p.getHeroImageHash(u,t.color,n);-1!==d&&(J.dispatch("updateModel",{data:{index:n,
thumbnailIndex:k,variant:d.variant,type:"hero-image"}}),d=h.find(".item").get(k),f.selectGivenThumbnail(c(d),h))}}}function N(h,d,g){if("hero-video"===x.getCurrentItem().type)return h;d=u.heroImage&&u.heroImage[d];var n=h;f.isDefined(d)&&(c.each(d,function(d,c){h<u.maxAlts&&(f.createThumbnail({type:"hero-image",index:d,thumbnailIndex:h,variant:c.variant},c.thumb,L,"imageThumbnail"),h++)}),l(L,n,h,g));return h}function C(h,d){var g=u.heroImage;if(1>g.length||!f.isDefined(g[h])||!f.isDefined(d))return-1;
var n=-1;c.each(g[h],function(c,f){f.variant===d&&(n=c)});return n}function G(){if(E.length&&u.repositionHeroImage){var c=p.getHeroDimParams(u,x.getCurrentItem());if(f.isDefined(c)){var d=f.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+"px ";E.css({"background-position":d,"background-size":c.width+"px "+c.height+"px ","max-width":c.width+"px ","min-height":c.height+"px ",filter:"","-ms-filter":""})}}}function q(c,d,g,n){if(E.length&&c&&d){if("function"===typeof g||n){var h=new Image;
h.onload=n?function(){E.css("background-image",'url("'+c+'")')}:g;h.src=c}g=d[1];h=d[0];n||E.css({"background-image":'url("'+c+'")'});if(u.repositionHeroImage&&(d=p.getHeroDimParams(u,x.getCurrentItem(),d),f.isDefined(d))){g=d.width;h=d.height;var k=f.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "}E.css({"background-position":k,"background-size":g+"px "+h+"px ","max-width":g+"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function I(f,d,g,n){f=p.getHeroImageHash(u,f,d);
if(-1===f)return-1;d=c.map(f.main,function(d,c){return c})[0];q(d,f.main[d],g,n)}function W(c,d,f){if("hero-image"!==c.type)return-1;var h=C(c.color,x.getCurrentItem().variant);h=-1!==h?h:0;if(-1===p.getHeroImageHash(u,c.color,h))return-1;var g=x.getCurrentItem();c.thumbnailIndex=g.thumbnailIndex;c.type=g.type;c.variant=g.variant;c.index=h;A(c,d,f)}function A(c,d,f){var g=p.getHeroImageHash(u,c.color,c.index);var h=c&&O&&m.equals(c,O)?!0:!1;O||(O=c);if(!h&&c||d)I(c.color,c.index,d,f),O=c;E.removeClass("hide-background");
m.trigger("dp:image-block:update",g)}var z,u,x,J,L,E,O={};return function(h,d,g,n){z=this;u=h;x=d;J=n;u.heroImage[u.landingAsinColor]=u.heroImage[u.defaultColor];z.render=function(d,f,g,h,n,l,m){L=h;E=c("#heroImage");d=N(f,d,l);W(x.getCurrentItem(),m,l);return d};z.update=function(c){var d=c.data;"ingress"!==d.type&&E.addClass("hide-background");"swatchHover"===c.type?c.captured||(d.type=x.getCurrentItem().type,-1!==W(d)&&(c.captured=!0)):"hero-image"===d.type&&(A(d),"click"!==c.type&&u.usePeekHover||
f.selectGivenThumbnail(c.$declarativeParent,L))};J.register("resize",G)}});"use strict";M.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(m,c,f,N,l,K){function C(c){L?c.css("cursor","url('"+A.staticImages.zoomIn+"'), auto"):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))}function G(c){var d=c.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);c={};if(f.isDefined(d)){d=
d[1].split("_");for(var g=0;g<d.length;g++){var h=d[g].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(h)&&(c[h[1]]=parseInt(h[2],10))}}return c}function q(h,d){function g(){if(d.useClickZoom){var a=d.offsetInClickZoom;a=[Math.min(1,Math.max(0,z[0]-(v[0]+a))/(v[2]-2*a)),Math.min(1,Math.max(0,z[1]-(v[1]+a))/(v[3]-2*a))]}else a=x&&x.updatePosition();if(a&&r&&r.detailSize){var b=[r.detailSize[0]-r.rect.width,r.detailSize[1]-r.rect.height];m.capabilities.rtl?r.detailImage.get(0).style.right=-(a[0]*b[0])+
"px":r.detailImage.get(0).style.left=-(a[0]*b[0])+"px";r.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function n(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function t(a){var b=T?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";z=T?[b.pageX,b.pageY]:[a.pageX,a.pageY];if(m.capabilities.rtl){var e=c(p).width();z=T?[e-b.pageX,b.pageY]:[e-a.pageX,a.pageY]}}function k(a){t(a);d.useClickZoom?a=[v[0],v[1],v[0]+v[2],v[1]+v[3]]:(a=x?x.offset:h.offsetParent().offset(),
a=A.acEnabled?[a.left,a.top,B.width()+a.left,B.height()+a.top]:[y[0]+a.left,y[1]+a.top,y[0]+y[2]+a.left,y[1]+y[3]+a.top]);return z[0]<a[0]||z[1]<a[1]||z[0]>=a[2]||z[1]>=a[3]||A.acEnabled&&!n(h)?!0:!1}function w(a){T&&a.preventDefault();O=k(a)?!1:!0}function q(a){T&&a.preventDefault();k(a)?(E||(d.fadeMagnifier?ca||(ca=!0,Y=setTimeout(function(){F(!0)},500)):d.useClickZoom||F(),X&&(X=!1,clearTimeout(ia))),E=!1):(X||(X=!0,ia=setTimeout(function(){N.postCountMetric("dppc_hoverZoomOpened");l.isEnabled&&
K.logHoverZoomRequestServed(l)},1E3)),d.fadeMagnifier&&ca&&(ca=!1,clearTimeout(Y)),E||g())}function F(a){a&&e.suppressMagnifier(!0);if(U){r&&r.hide();x&&(x.destroy(),x=null);E&&I();U=!1;T?(h.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),c(document).trigger("disengaged.magnifier")):c(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier");u();if(a)h.one("click.magnifier touchstart.magnifier",function(a){S(a,!0)});c(document).unbind("keydown.magnifier")}}function S(b,
f){f&&e.suppressMagnifier(!1);O||(E=!1);if(!(U||Q||E)){0===W&&(N.postCountMetric("dppc_hoverTime",new Date-(p.ue&&p.ue.t0||0)),W=1);aa[R]||(N.postCountMetric("dppc_hoverMain"),aa[R]=1);R&&(t(b),r?r.refit().show():r=new M,d.useClickZoom||(x=x||new J),v=r.getWindowSize(),g());U=!0;T?(h.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",q).bind("touchend.magnifier",F),c(document).trigger("engaged.magnifier")):(A.acEnabled?B.unbind("mousemove.magnifier"):h.unbind("mousemove.magnifier"),
c(document).trigger("engaged.magnifier").bind("mousemove.magnifier",q));if(f&&(b=c("#zoomWindow"),0<b.length))b.one("click.magnifier touchend.magnifier",function(a){F(!0)});c(document).bind("keydown.magnifier",a)}}function u(){d.useHoverZoom&&(T?h.bind("touchstart.magnifier touchmove.magnifier",S):(A.acEnabled?n(h)&&B.bind("mousemove.magnifier",S):h.bind("mousemove.magnifier",S),c(document).bind("mousemove.magnifierCursor",w)))}function b(a){return[a.position().left,a.position().top,a.width(),a.height()]}
function a(a){if("key"in a?"Escape"===a.key||"Esc"===a.key:27===a.keyCode)E=!0,F(!0)}var e=this,B=h.offsetParent(),H={detailImageUrl:h.attr("data-old-hires"),location:"over",locationElement:h,prelaod:"ready",zIndex:50,offsetInClickZoom:50};d=c.extend(H,d);d.adjustment=[10,0,-10,0];var r=null,x=null,z=null,y=b(h),v=null,fa={"null":1,"":1,undefined:1},U=!1,Q=!1,R=d.detailImageUrl,T=d.useHoverZoomIpad||0,W=0,aa={},J=function(){function a(a){var b=Math.round(Math.min(h.width(),r.rect.width/a));a=Math.round(Math.min(h.height(),
r.rect.height/a));g.css({width:b,height:a});e=[b,a]}var b=this,e=[0,0],f=(r.detailSize&&r.detailSize[0]||5E8)/y[2],k=(r.detailSize&&r.detailSize[1]||5E8)/y[3];f=k>f?k:f;c("#magnifierLens").remove();var g=c("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});d.generalImageUrls.zoomLensBackground&&g.css({backgroundImage:"url("+d.generalImageUrls.zoomLensBackground+")"});A.showMagnifierOnHover?C(g):g.css("cursor","pointer");b.updatePosition=function(){var a=[y[2]-e[0],y[3]-e[1]],c=0>=a[0]?
.5:Math.max(0,Math.min(1,(z[0]-e[0]/2-y[0]-b.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(z[1]-e[1]/2-y[1]-b.offset.top)/a[1])),f=y[0]+Math.round(c*a[0]);a=y[1]+Math.round(d*a[1]);g.get(0).style.left=f+"px";g.get(0).style.top=a+"px";return[c,d]};b.destroy=function(){g.remove()};b.offset=h.offsetParent().offset();a(f);b.updatePosition();g.appendTo(h.parent());r.detailImage[0].complete||r.detailImage.load(function(){var c=r.detailImage.width()/y[2];a(c);b.updatePosition()})};J.preload=function(){e.preload(d.generalImageUrls.lensBackgroundUrl)};
var M=function(){function a(){var a={};if("over"===d.location){a=d.useClickZoom;var b={},g=c("#leftCol"),ra=c("#centerCol"),y=c("#rightCol"),v=c("#hover-zoom-end"),R=c("#actionPanelContainer"),B=f.isjQueryObjDefined(g)?g.outerHeight():ra.outerHeight();b.top=f.isjQueryObjDefined(g)?g.offset().top:ra.offset().top;b.bottom=B+b.top;b.right=f.isjQueryObjDefined(y)?y.offset().left:R.offset().left;b.left=a?0:g.offset().left+g.outerWidth();f.isjQueryObjDefined(v)&&v.offset().top>b.bottom&&(b.bottom=v.offset().top);
a=b}else"right"===d.location&&(a=h.offset(),a={left:a.left+h.outerWidth(),top:a.top,right:a.left+h.outerWidth()+400,bottom:a.top+400});d.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+c(d.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,c(p).scrollTop()+c(p).height());a.left+=k[0];a.top+=k[1];a.right+=k[2];a.bottom+=k[3];a.width=a.right-a.left;a.height=a.bottom-a.top;d.enhancedHoverOverlay&&f.isDefined(p.pageXOffset)&&(b=c(p).width(),a.width=b-a.left+p.pageXOffset-18,a.height-=14);
Q.css({left:a.left,top:a.top,width:a.width,height:a.height});e.rect=a;return e}function b(a){var b=new Image;e.detailSize=[0,0];b.onload=function(){e.detailSize=[b.width,b.height];g()};b.src=a.attr("src");if(0<b.width&&0<b.height)e.detailSize=[b.width,b.height];else if(d.detailImageSize)e.detailSize=d.detailImageSize;else{a=G(b.src);var c=y[2]/y[3];a.SS||a.AA?(a=a.SS||a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/c)]:a.SY?e.detailSize=[Math.round(a.SY*c),a.SY]:a.SL&&(e.detailSize=
1<=c?[a.SL,Math.round(a.SL/c)]:[Math.round(a.SL*c),a.SL])}}var e=this,k=d.adjustment;c("#zoomWindow").remove();var v={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:d.zIndex};d.enhancedHoverOverlay&&(v.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",v.border="1px solid #949494",v.borderColor="rgb(148,148,148)");var Q=c("\x3cdiv id\x3d'zoomWindow' /\x3e").css(v);d.fadeMagnifier&&Q.fadeIn(200);d.useClickZoom&&(L?Q.css("cursor",'url("'+d.zoomOutIcon+'"), auto'):(Q.css("cursor","-webkit-zoom-out"),
Q.css("cursor","-moz-zoom-out"),Q.css("cursor","zoom-out")));e.updateImage=function(a){a=c("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();Q.append(a);c(document).trigger("updated.magnifier");e.detailImage=a;b(e.detailImage)};e.refit=function(){a();b(e.detailImage);return e};d.fadeMagnifier?(e.show=function(){Q.fadeIn(200);return e},e.hide=function(){Q.fadeOut(200);return e}):(e.show=function(){Q.show();return e},e.hide=function(){Q.hide();
return e});e.destroy=function(){Q.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,e.rect.height]};e.updateImage(R);a();Q.appendTo(document.body)},ca=!1,Y,X=!1,ia;e.preload=function(a){a=c.makeArray(a);for(var b=a.length,d=0;d<b;d++)a[d]instanceof Array?e.preload(a[d]):"string"===typeof a[d]&&a[d]&&!fa[a[d]]&&(fa[a[d]]=new Image,fa[a[d]].src=a[d])};e.changeImage=function(a,f){U&&F();R=f;h.attr("src",a);e.preload(a);y=b(h);f&&("immediately"===d.preload?e.preload(f,
!0):c(p).ready(function(){e.preload(f)}),r?r.updateImage(f):h.attr("data-old-hires",f))};e.destroy=function(){A.acEnabled?B.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):h.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");c(document).unbind("mousemove.magnifier");x&&x.destroy();x=null;r&&r.destroy();r=null};e.detailImage=function(){return r.detailImage};e.suppressMagnifier=function(a){Q=a};e.isEngaged=function(){return U};e.engageMagnifier=
S;e.disengageMagnifier=F;h[0].complete?u():h.one("load",u);e.preload(h.attr("src"));p.performance&&performance.now&&p.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(d.preload){var ja=d.detailImageUrl;H=function(){e.preload(ja,!0);d.useClickZoom||J.preload()};var V=d.preload;V.constructor!==Array&&(V=[V]);for(var ba=0;ba<V.length;ba++)if("immediately"===V[ba])H();else if(c(p)[V[ba]])c(p)[V[ba]](H);else c(p).bind(V[ba],H)}return e}function I(){if(A.useHoverZoom){var h={adjustment:[0,
0,1,1],generalImageUrls:A.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:A.useHoverZoomIpad,useHoverZoom:A.useHoverZoom,useClickZoom:A.useClickZoom,fadeMagnifier:A.fadeMagnifier,zoomOutIcon:A.staticImages.zoomOutCur,enhancedHoverOverlay:A.enhancedHoverOverlay||A.atfEnhancedHoverOverlay};x&&(x.destroy(),x=Y);var d=J.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(d)?
A.useClickZoom?(d.one("click.loadmagnifier touchstart.loadmagnifier",function(c){x=new q(d,h);x.engageMagnifier(c,!0)}),L?d.css("cursor",'url("'+A.staticImages.zoomInCur+'"), auto'):(d.css("cursor","-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),d.css("cursor","zoom-in"))):x=new q(d,h):l.isEnabled&&K.logHoverZoomApplicability(c,l)}}var W,A,z,u,x,J,L=navigator.userAgent.match(/msie|trident/i),E=!1,O=!1;return function(c,d,f,n){W=this;A=c;z=d;l.refToModel=z;u=n;W.render=function(c,d,f,g,h,n){J=f;
x&&(x.destroy(),x=Y)};W.update=function(c){};u.register("loadMagnifier",I);u.register("resize",I)}});"use strict";M.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(m,c,f,N){function l(c,l,m){c=(c=m?m:f.getColorFromState(l.getState().hovered_variations,G))&&""!==c?c:G.defaultColor;I.dispatch("updateView",{type:"swatchHover",data:{color:c}});N.postCountMetric("swatchHover")}function K(c,l,m,u){c=(c=u?u:f.getColorFromState(l.getState().selected_variations,
G))&&""!==c?c:G.defaultColor;c===q.getCurrentItem().color?"function"===typeof m&&m():(I.dispatch("updateSelection",{type:"swatchClick",data:{color:c},onload:function(){var c={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",c);m()}}),N.postCountMetric("swatchClick"))}var C,G,q,I;return function(c,f,p,u){C=this;G=c;q=f;I=u;m.on("image-block-twister-swatch-hover",l);m.on("image-block-twister-swatch-click",K);C.render=function(c,
f,m,l,p){};C.update=function(c){}}});"use strict";M.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(m,c,f,N,l,K,C){function G(a,b,e,d){if(!f.isjQueryObjDefined(a.find(".a-button-selected"))){var g=w.getCurrentItem();if(!d||"chromeless-video"!==g.type||!k.autoplayVideo)if(d=0,"image"===g.type&&(d=Math.max(A(g.color,g.variant),0)),!(g.thumbnailIndex>=k.maxAlts&&0!=d)){var y=b+d;y>=e&&(d=0,
y=b);b=f.getImageHash(g.color,d,k);-1!==b&&(D.dispatch("updateModel",{data:{index:d,thumbnailIndex:y,variant:b.variant,type:"image",shoppableScene:b.shoppableScene}}),b=a.find(".item").get(y),f.selectGivenThumbnail(c(b),a))}}}function q(a,b,e){if((2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment)&&e)return a;var d=k.colorImages&&k.colorImages[b];b=a;2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment||c(".thumbItemUnrolled").each(function(a){(!c(this)[0].classList.contains("thumbTypeimage")||
a>=d.length||a>=k.maxAlts)&&c(this).remove()});f.isDefined(d)&&(c.each(d,function(b,e){if(a<k.maxAlts)if(2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment){a++;var g=c(".thumbItemUnrolled");g[b]?g[b].querySelector("img").src=e.thumb:c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else b={type:"image",index:b,thumbnailIndex:a,variant:e.variant,shoppableScene:e.shoppableScene},e=f.createThumbnail(b,e.thumb,Z,"imageThumbnail"),"T1"!==k.desktopCollapsibleThumbnailsExperience&&"T2"!==k.desktopCollapsibleThumbnailsExperience||
f.updateImageThumbnailOverlay(e,b,d),a++}),K.isEnabled&&C.logAltImgRequestPlacedOnThumbnails(c,K,w),G(Z,b,a,e));return a}function I(a,b){k.useIV&&f.isDefined(b.hiRes)&&a.css("cursor","pointer")}function W(a,b){if("image"===a.type&&Y){var e=c("#image-canvas-caption #canvasCaption"),d=k.staticStrings,g=k.colorImages,h=a.color,y=a.index,v=!1;if(f.isShoppableScenesEnabled()&&a.shoppableScene)var B=d.clickSceneTagsToShopProducts;else b&&k.useIV?(B='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",
v=!0):g[h]&&g[h][y].hiRes&&k.useHoverZoom?(k.useHoverZoomIpad?B=d.touchToZoom:k.useClickZoom?B=d.clickToZoom:(B='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",v=!0),k.hoverZoomIndicator&&(B="\x3cimg src\x3d'"+k.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+B)):k.useIV&&(B='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",v=!0);e.html(B);v&&(a=c("#image-canvas-caption #canvasCaption a"),m.declarative.create(a,"iv-open-caption-click"))}}function A(a,b){return f.getIndexForVariant(a,b,
k)}function z(a,b,c){var d=b.thumbnailIndex,f=k.colorToAsin[b.color]&&k.colorToAsin[b.color].asin;b="altImageHover"===c&&e&&e.altImageIdx===d&&e.asin===f&&"swatchClick"===e.event?!0:"swatchHover"===c?e&&e.asin===f&&e.event===c:e&&e.altImageIdx===d&&e.asin===f&&e.event===c;if(!b){var g="#",h=a.find(".imgTagWrapper img").get(0);h&&(g=h.src);a=new Image;a.onload=function(){if(h){h.src=g;var a=h.width,b=h.height,e=h.naturalWidth,k=h.naturalHeight;try{var y=(Math.abs(a/e*k-b)/b).toFixed(2);.01<y&&(p.ue&&
((("landing"!==c||r||P)&&"swatchClick"!==c||p.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?p.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||P?"altImageHover"!==c||r||(p.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),r=!0):(p.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),P=!0)),p.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},p.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+
f+" Event:"+c+" Diff:"+y.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+f+" at altImageIdx "+d+" Event:"+c+" Diff:"+y.toString()+"]"},a)))}catch(ha){p.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},p.ueLogError(ha,a))}}};"#"!==g&&(a.src=g);e.altImageIdx=d;e.asin=f;e.event=c}}function u(b,e){var d="a-dynamic-image";if(!k.acEnabled){var g;c.each(b.main,function(a,b){f.isDefined(g)||(g=parseFloat(b[1]/b[0])<=parseFloat(k.holderRatio)?
" a-stretch-vertical":" a-stretch-horizontal")});d+=g}var h=f.getMaxDimensionsOfMainImage(b.main,a,k),y=h[0],v=h[1];h=c("\x3cdiv\x3e\x3c/div\x3e");y={"max-height":y,"max-width":v};h.addClass(d).css(y).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",b.main);return h}function x(a,c,e){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",d,{wb:1});e.attr("data-a-image-name","shoppable-scene:"+a);e=b.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
e.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":d,"data-csa-c-slot-id":d,"data-csa-c-type":"widget","data-csa-c-asin":k.mediaAsin,"data-csa-c-physical-id":c.shoppableScene.physicalId,"data-product-line":c.shoppableScene.productLine});e.children("span").css("display","inline-block");D.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:c.shoppableScene,imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:e.find(".mirai-scene-tag-placeholder"),$viewProductsButton:e.find(".mirai-scene-view-products-button")});
"MutationObserver"in p&&(new MutationObserver(function(b,e){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:c.shoppableScene})}),e.disconnect())})})).observe(e.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,
childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return e}function J(a,c,e){e=u(a,e);a=f.isShoppableScenesEnabled()&&a.shoppableScene?x(c,a,e):b.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});a.find(".placeHolder").replaceWith(e);b.find(".list").append(a);
m.loadImageManually(e);m.trigger("dp:image-block:imageBlockImageLoad",c);return a}function L(b){var c=a.css("height");null!==c&&b.find(".imgTagWrapper").css("height",c);b.addClass("selected");k.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses)}function E(a){if(a.isUserGenerated){var b=w.getPreviousItem(),c=a.variant;f.isDefined(c)&&b.thumbnailIndex!==a.thumbnailIndex&&(K.isEnabled&&C.logAltImgRequestServed(K),l.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===
c.indexOf("IG")&&(l.postCountMetric("IGImageSelectedVariant:"+c),l.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function O(a,e,d,g){if(2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment||g||"unavailable"===a.type){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){(h=f.isDefined(e))&&l.postCountMetric("mainImageUpdateOnTwisterVariationClick");d=f.getImageHash(a.color,a.index,k);if(-1===d)return e={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
f.lazyLoadingRequired(a,w,k)||(D.dispatch("updateModel",e),f.showUnavailable(a.color)),-1;g=b.find(".item.itemNo"+a.thumbnailIndex);f.isjQueryObjDefined(g)||(g=J(d,a.thumbnailIndex,e),h?(P=r=!1,z(g,a,"swatchClick")):z(g,a,"altImageHover"));L(g);D.dispatch("loadMagnifier");W(a);I(g,d);E(a);m.trigger("dp:image-block:update",d)}}else if(a=k.colorImages&&k.colorImages[d],c(".unrolledImg").each(function(a){c(this).remove()}),f.isDefined(a)){c.each(a,function(a,b){if(a<k.maxAlts){var e=c(".unrolledImg");
e[a]?c(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=e.length&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))}});m.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var h=f.isDefined(e);h&&(l.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
e())}}function h(a){var c=Math.max(A(a.color,w.getCurrentItem().variant),0);c=f.getImageHash(a.color,c,k);if(-1===c)return f.lazyLoadingRequired(a,w,k)||f.showUnavailable(a.color),-1;var e=b.find(".swatchHoverExp"),d=u(c);e.find(".imgTagWrapper").html(d);m.loadImageManually(d);l.postCountMetric("mainImageUpdateOnTwisterVariationHover");L(e);z(e,a,"swatchHover");m.trigger("dp:image-block:update",c)}function d(a,e){f.lazyLoadingRequired(a,w,k)||(c("#imageBlock").css("opacity","1"),b.css("opacity","1"),
f.spinner(b,!1),b.find("li").removeClass("selected"),Y&&c("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&b.find(".list .item").remove())}function g(){var e=b.find(".item .imgTagWrapper"),d=f.getContainerHeight(a,k.holderRatio,k.holderMaxHeight);0<d&&(a.height(d),e.height(d));b.find("img.a-dynamic-image").each(function(){var b=c(this);b.data("a-manual-replacement")&&m.loadDynamicImage(this);var e=b.data("a-dynamic-image");e=f.getMaxDimensionsOfMainImage(e,a,k);b.css({"max-height":e[0]+
"px","max-width":e[1]+"px"})})}function n(a){W(w.getCurrentItem(),"mouseenter"===a.type)}var t,k,w,D,F,S,Z,b,a,e={},B,H=null,r=!1,P=!1,Y=(N=m.state("imageBlockStateData"))?!N.shouldRemoveCaption:!0;m.on("triggerImageAjax",function(a){var b=w.getCurrentItem().color;k.colorImages[b]||(k.colorImages[b]=a);a={type:"updatedData",data:w.getCurrentItem()};D.dispatch("updateView",a);(b=k.colorToAsin[b])&&b.asin&&M.register(f.rankedImagesReadyEvent(b.asin))});return function(e,m,r,L){t=this;k=e;w=m;D=L;k.colorImages[k.landingAsinColor]=
k.colorImages[k.defaultColor];t.render=function(e,g,h,m,l,n,F,r){b=2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment?h:c(".unrolledScrollBox");Z=m;a=l;B=q(g,e,n);n?0===g&&z(b.find(".item.itemNo0"),w.getCurrentItem(),"landing"):(g=w.getCurrentItem(),f.lazyLoadingRequired(g,w,k)&&D.dispatch("updateModel",{data:{type:"lazy-loaded"}}));d(w.getCurrentItem(),!n);2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment?"swatchClick"===r&&k&&k.colorImages?(H=k.colorImages[e],
O(w.getCurrentItem(),F,e,n)):"updatedData"===r&&k&&k.colorImages&&k.colorImages[e]!==H&&(H=k.colorImages[e],O(w.getCurrentItem(),F,e,n)):O(w.getCurrentItem(),F,e,n);return B};f.isImageBlockGridViewHoverDelayEnabled()?t.update=function(a){var b=a.data;w.setCurrentEvent(a);"ingress"!==b.type&&"swatchHover"!==a.type&&(w.setToPreviousItem(),"mouseenter"===a.type?(S&&clearTimeout(S),S=setTimeout(function(){w.setToCurrentItem(b);d(a.data,!1)},f.getHoveringDelayTimer())):"mouseleave"===a.type?S&&clearTimeout(S):
"click"===a.type&&(w.setToCurrentItem(b),d(a.data,!1)));"swatchHover"===a.type?("ingress"!==b.type&&d(a.data,!1),b.color===w.getCurrentItem().color?O(w.getCurrentItem(),null,b.color,!0):a.captured||-1===h(b)||(a.captured=!0)):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type?(l.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+B),F&&clearTimeout(F),F=setTimeout(function(){O(b,null,b.color,!0);k.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,
Z)},f.getHoveringDelayTimer())):"mouseleave"===a.type?F&&clearTimeout(F):"click"===a.type&&(O(b,null,b.color,!0),f.selectGivenThumbnail(a.$declarativeParent,Z),l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+B)))}:t.update=function(a){var b=a.data;w.setCurrentEvent(a);"ingress"!==b.type&&d(a.data,!1);"swatchHover"===a.type?b.color===w.getCurrentItem().color?O(w.getCurrentItem(),null,b.color,!0):a.captured||-1===h(b)||(a.captured=
!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&l.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+B),O(b,null,b.color,!0),k.usePeekHover&&"click"!==a.type||(f.selectGivenThumbnail(a.$declarativeParent,Z),"click"===a.type&&(l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+B))))};k.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");D.register("imageHover",n);
D.register("resize",g)}});"use strict";M.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(m,c,f,p){function l(f,m){f=c("\x3cimg src\x3d'"+(m?u.staticImages.shoppableSceneDotHighlighted:u.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:m?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(m?"active-tag":"inactive-tag");return f}function N(f){var p=c("\x3cspan\x3e");m.each(f.tags,function(f){var h=c("\x3cdiv\x3e").css({position:"absolute",
left:100*f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});h.append(l(f,!1));h.append(l(f,!0));h.bind("mouseenter",function(){C(c(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});m.declarative.create(h,"scenes-show-details-tags-ib",{tagId:f.link});p.append(h)});return p.children()}function C(c){c.addClass("mirai-scene-dot-pulsate");m.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},4E3)}function G(c,f){c.css({display:"none"});f.css({display:"inline-block"})}function q(c,
f,m){c.eq(m).css({display:"inline-block"});f.eq(m).css({display:"none"})}function I(c){M.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){m.trigger("mirai:scene-details-change",{physicalId:c})})}function W(){var f=c("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),m=c("\x3cimg class\x3d'item-tag'\x3e").attr("src",u.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),l=c("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");
l.html(u.staticStrings.shoppableSceneViewProductsButton);return f.append(m).append(l)[0].outerHTML}function A(c){function f(){c.$tagPlaceholder.replaceWith(h);var d=h.find(".mirai-scene-tag.active-tag"),f=h.find(".mirai-scene-tag.inactive-tag");q(d,f,0);C(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));J=!0;c.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+c.index,{wb:1});t=!0;p.postCountMetric("miraiShoppableScenes_imageLoadedCount")}
if(c.shoppableScene){var l=c.$viewProductsButton.find(".a-button-text");if(0===l.children().length){l.append(W());m.declarative.create(c.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:c.shoppableScene.tags[0].link});var h=N(c.shoppableScene),d=h.find(".mirai-scene-tag.active-tag"),g=h.find(".mirai-scene-tag.inactive-tag"),n=c.shoppableScene.physicalId,t=!1;m.on("mirai:index:change",function(c){c.scenePhysicalId===n&&(c=c.selectedIndices[0],G(d,g),q(d,g,c),C(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(c)),
J=!0)});m.on("mirai:scene-details-change",function(c){c.physicalId!==n||J||(G(d,g),q(d,g,0),C(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),J=!0)});m.on("mirai:no-products-active",function(c){c.scenePhysicalId===n&&G(d,g)});m.on("mirai:set-first-product-active",function(c){c.scenePhysicalId===n&&(G(d,g),q(d,g,0))});m.on("a:image:load:shoppable-scene:"+c.index,function(){t||(f(),p.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});m.on("shoppable-scene-image-loaded",
function(d){d.index!=c.index||t||(f(),p.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});M.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){m.trigger("mirai:scene-side-sheet-init",{icons:u.staticImages,strings:u.staticStrings});m.trigger("mirai:scene-details-init",{scene:c.shoppableScene,imageSource:c.imageSource})})}}}var z,u,x,J=!1;return function(c,m,l,h){z=this;u=c;x=h;f.isShoppableScenesEnabled()?(x.register("initialize-shoppable-scene",
A),z.render=function(c,f,h,m,k,l,p){},z.update=function(c){"mouseenter"===c.type&&(c.data.shoppableScene?I(c.data.shoppableScene.physicalId):J=!1)}):(c=function(){},z.render=c,z.update=c)}});M.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"===typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};M.when("A",
"jQuery","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(m,c,f,N,l,K,C,G){function q(b){return null!==b&&"undefined"!==typeof b}function I(b){var a=0;c.each(b,function(b,c){b=parseInt(c[1],10);b>a&&(a=b)});return a}function M(b){var a=0;c.each(b,function(b,c){b=parseInt(c[0],10);b>a&&(a=b)});return a}function A(b,a,c){a=a.width();if(c.naturalMainImageSize)return a;b=I(b);0<b&&(a=Math.min(a,
b));return a}function z(b,a,c){a=a.height();if(c.naturalMainImageSize)return a;b=M(b);0<b&&(a=Math.min(a,b));return a}function u(b){var a;c.each(b,function(b,c){q(a)||(a=c[1]/c[0])});return a||1}function x(b){if(b){if(0<b.indexOf(".m3u8"))return"application/x-mpegURL";if(0<b.indexOf(".mp4"))return"video/mp4"}return""}function J(b,a){a=a.find("img");q(a[b])&&c(a[b]).click()}function L(b,a){k[b]=a?a:k[b];return k[b]}function E(b,a,e){e=e||t;e=e.colorImages;if(1>e.length||!q(e[b])||!q(a))return-1;var d=
-1;c.each(e[b],function(b,c){c.variant===a&&(d=b)});return d}function O(b,a,e){e=e||t;e=e.colorImages;return!(q(e)&&q(e[b])&&q(e[b][a])&&q(e[b][a].main))||1>c.map(e[b][a].main,function(a,b){return b}).length?-1:e[b][a]}function h(b,a,c,d){d.parent().css("z-index",2);0!==c&&0!==a&&(a/=c,d.css("width",""),d.css("height",""),b>a?d.css("width",a/b*100+"%"):d.css("height",b/a*100+"%"))}function d(b,a){var e;if(e=b.useIV)e=b.colorImages&&b.colorImages[a]&&0<b.colorImages[a].length?!0:!1;b=e;K.isEnabled&&
(K.IVApplicaple=b,C.logImmersiveViewApplicability(c,K));return b}function g(){return 0<c(".gridImageBlockViewLayoutIn2x4").length||0<c(".gridImageBlockViewLayoutIn2x5").length||0<c(".gridImageBlockViewLayoutIn1x7").length}var n,t=c.extend(!0,{},N,l),k={},w=0,D=0,F=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,S={},Z={};return{isDefined:q,isDefinedAndEmpty:function(b){return q(b)&&"object"===("undefined"===typeof b?"undefined":X(b))&&0===Object.keys(b).length},isUndefinedOrEmpty:function(b){return q(b)?"object"===
("undefined"===typeof b?"undefined":X(b))&&0===Object.keys(b).length:!0},isDefinedAndNotEmpty:function(b){return q(b)?"object"===("undefined"===typeof b?"undefined":X(b))&&0<Object.keys(b).length:!1},isjQueryObjDefined:function(b){return 0!==b.length},getAspectRatio:u,getMaxHeightOfMainImage:z,getMaxWidthOfMainImage:A,getMaxDimensionsOfMainImage:function(b,a,c){if(c.acEnabled)return[a.height(),a.width()];var e=z(b,a,c);a=A(b,a,c);b=u(b);c=a/b;a=Math.min(a,e*b);e=Math.min(e,c);return[e,a]},getContainerHeight:function(b,
a,c){var e=b.get(0);b=0;if(q(e)){b=Math.min(e.offsetWidth/a,c);var d;a=t.mainImageHeightPartitions;c=t.mainImageMaxSizes;if(q(c)&&q(a)){var f=0,g=p.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(e=0;e<a.length;e++)g>a[e]&&(f=e+1);c.length>=f&&(d=c[f])}q(d)&&(b=Math.min(d[1],b))}return b},getColorFromState:function(b,a){if(b){a=a||t;var e="";c.each(a.visualDimensions,function(a,c){b[c]&&(e+=" "+b[c])});return e&&e.substring(1)}},createThumbnail:function(b,a,c,d){var e=
c.find(".template").clone().removeClass("template").addClass("item"),f=document.createElement("img");f.src=a;e.find(".placeHolder").replaceWith(f);(a=b.heroVideoVariant)&&"hero-image"===b.type&&b.variant===a&&e.addClass("heroImageThumbnail");q(d)&&e.addClass(d);g()&&e&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",f.parentNode.insertBefore(d,f));m.declarative.create(e,"thumb-action",b);e.attr&&(e.attr("data-ux-click",""),b.type&&b.type.match(/video/)?(e.attr("data-csa-c-type",
"uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-hover")),e.attr("data-csa-c-posy",b.thumbnailIndex+1));c.append(e);return e},updateImageThumbnailOverlay:function(b,a,c){b.find(".textMoreImages").append(c.length-a.thumbnailIndex+"+")},selectGivenThumbnail:function(b,a){b=b.find(".a-button");
var c=b.find(".a-button-input");a.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");a.find(".a-button-input").attr("aria-checked","false");b.addClass("a-button-selected").addClass("a-button-focus");c.attr("aria-checked","true")},loadMediaIntoAiry:function(b,a,c,d){b&&b.getMediaSourceInfo()!==a.url&&(d?b.loadMedia?(n={mediaSourceInfo:[a.url],contentId:a.mediaObjectId,refTag:"vse_ib_tablet_web",title:a.title,altText:a.altText},b.loadMedia(n)):b.play({videoUrl:a.url,imageUrl:a.slateUrl,
mimeType:"video/mp4",contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,refTag:"vse_ib_tablet_web"}):b.loadMedia?b.loadMedia({mediaSourceInfo:a.url,contentId:a.mediaObjectId,contentMinAge:Number(a.minimumAge||"")||0,contentTitle:a.title,slateImages:{preloadSlate:a.slateUrl,postMediaSlate:a.slateUrl}}):b.setInitialData({videoUrl:a.url,mimeType:x(a.url),contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,imageUrl:a.slateUrl,aciContentId:a.aciContentId,title:a.title,altText:a.altText}))},
showUnavailable:function(b){b&&(c("#imageBlock .unvailableVariation").html(b),c("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){c("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:function(b,a,c){a.fadeTo(500,0,function(){J(b,c);a.fadeTo(500,1)})},toggleVideoCaption:function(b){b&&b.toggle()},selectThumbnail:J,spinner:function(b,a){var e=c("#imageBlock .a-spinner").parent();0===e.length&&(e=c("\x3cdiv\x3e\x3c/div\x3e").append(c("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),
b.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));a?e.show():e.hide();return e},rankedImagesReadyEvent:function(b){return"ranked-images-ready-for-"+b},ajaxState:L,getIndexForVariant:E,getImageHash:O,lazyLoadingRequired:function(b,a,c){a=Math.max(E(b.color,
a.getCurrentItem().variant,c),0);a=-1!==O(b.color,a,c);b=c.colorToAsin[b.color]&&c.colorToAsin[b.color].asin;b=!b||"success"!==L(b);return!c.lazyLoadExperienceDisabled&&!a&&b},lazyLoadOnHoverEnabled:function(b){return!b.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:h,repositionVideoBanner:function(b,a,c,d){setTimeout(function(){var c=b.width()/b.height();h(c,16,9,a)},d||0)},getVideosCount:function(b,a){return a.useChildVideos&&a.colorToVideo[b]?a.colorToVideo[b].length:a.videos?a.videos.length:
0},getVideoHash:function(b,a,c){if(c.useChildVideos){if(!q(c.colorToVideo))return-1;b=c.colorToVideo[b]}else b=c.videos;return q(b)&&q(b[a])&&q(b[a].url)?b[a]:-1},isImmersiveViewEnabled:d,playVideoInImmersiveView:function(b,a){return d(b,a)&&b.useTabbedImmersiveView},useTabbedImmersiveView:function(b){return b.useTabbedImmersiveView},getMediaSourceInfo:function(){return q(n)?n.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(b,a,c){var e=c.marketPlaceID,d=c.languageCode;c={videoURL:c.url,
imageURL:c.slateUrl};a:{if(b)if(b.colorToAsin&&b.colorToAsin[a]&&b.colorToAsin[a].asin){b=b.colorToAsin[a].asin;break a}else if(b.mediaAsin){b=b.mediaAsin;break a}b=""}return{requester:"DetailPageTablet",marketplaceID:e,clientPrefix:"ImageBlock_tablet",locale:d,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:c,product:{contentID:b,contentIDType:"ASIN"}}},addTag:function(b){p.ue&&p.ue.tag&&p.ue.tag(b)},isShoppableScenesEnabled:function(){return G.isEnabled&&0<c(".mirai-scene-image-block-template").length},
isImageBlockGridViewDisplayEnabled:g,isImageBlockGridViewHoverDelayEnabled:function(){return 0<c(".gridImageBlockViewLayoutIn2x4").length||0<c(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return w},updateThumbnailHoverDelay:function(b){if(q(b)){w=0;var a=b.closest("li");a=a.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(a);if(-1!==a){var c=D;b=b.closest("ul").attr("class");b===Y?c=!1:(b=F.exec(b),null===b||3!==b.length?c=!1:(b=b[2],c=Math.floor(c/
b)>Math.floor(a/b)));c&&(w=100);D=a}}},setDimensionIngressData:function(b,a,c){S[b]=a;Z[b]=c},isDimensionIngressEnabled:function(b){return!!S[b]},getDimensionVariantList:function(b){return Z[b]},logError:function(b,a,c,d){p.ueLogError&&p.ueLogError(d,{logLevel:b,attribution:a,message:c})},customerId:""}});"use strict";M.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(m,c,f,N,l,K){function C(b,d,g,h){!a.autoplayVideo||
ia||a.useChromelessVideoPlayer?!f.isjQueryObjDefined(b.find(".a-button-selected"))&&(g=e.getCurrentItem(),!h||a.prioritizeVideos||"chromeless-video"===g.type&&a.autoplayVideo)&&(h=f.getVideoHash(g.color,0,a),-1===h||g.thumbnailIndex>=a.maxAlts-1||(d+=0,B.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:h.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=b.find(".item").get(d),f.selectGivenThumbnail(c(d),b))):(f.selectGivenThumbnail(b.find("img:last"),
b),f.fadeToThumbnail(b.find("img").length-1,X,b))}function G(b){var c=e.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[c]){var d=function(){if(b){a.colorToVideo[c]=b;var d={type:"updatedData",data:e.getCurrentItem()};B.dispatch("updateView",d)}};a.lazyLoadExperienceDisabled?d():M.when(f.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){d()})}}function q(b){if(!a.useChildVideos)return f.lazyLoadingRequired(e.getCurrentItem(),e,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];
var c=a.colorToAsin[b];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(d.success=function(a){G(a)},N.load("/gp/product/features/apparel-main-image/videos.html",d));return a.colorToVideo&&a.colorToVideo[b]}}function I(b){v&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(v.hide(),r.parent().css("z-index",-1),P&&P.hide())}function W(b,
c,d){c=X.width()/X.height();var e=parseInt(b.videoWidth,10),g=parseInt(b.videoHeight,10);f.updateAspectRatio(c,e,g,r);if(v&&"unrolled-video-add"!==d)v.show(),f.loadMediaIntoAiry(v,b,fa,a.tabletWeb);else if(a.tabletWeb)v=R;else{if("unrolled-video-add"===d){v=R;return}if(null===R||R===Y)V=setInterval(function(){v=R;v!==Y&&null!==v&&(v.show(),f.loadMediaIntoAiry(v,b,fa,a.tabletWeb),A(),E(v),clearInterval(V),V=null)},500);else if(v=R,v!==Y&&null!==v){v.show();f.loadMediaIntoAiry(v,b,fa,a.tabletWeb);A();
E(v);return}}A();E(v)}function A(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(a)){if(1<f.getVideosCount(e.getCurrentItem().color,a)&&P){if(f.isDefined(y)){P.show();return}y=c('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.clickForFullView);P.find("#videoCaption").append(y);m.declarative.create(y,"videoIngressClick",U)}f.playVideoInImmersiveView(a,e.getCurrentItem().color)&&(m.declarative.create(r,"videoIngressClick",
U),r.attr&&r.attr("data-ux-click",""),r.children().css("z-index","-1"),r.css("display","inline-block"))}else P&&(P.find("#videoCaption").text(a.staticStrings.playVideo),P.show())}function z(b,c){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===c){var d=f.getVideoHash(b.color,b.index,a);if(-1===d)return-1;"chromeful-video"===b.type&&W(d,b.thumbnailIndex+1,c)}}function u(a){na||(na=!0,l.postCountMetric("chromeless-video"===a?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}
function x(b,d,g){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&g)return b;var h=q(d);d=b;var k=c(".unrolledImg"),n=f.isDefined(h)&&0<h.length&&a.alwaysIncludeVideo?1:0;f.isDefined(h)&&0<h.length&&!a.alwaysIncludeVideo&&b===a.maxAlts&&l.postCountMetric("IBVideoDrop");k.length>a.maxAlts&&k.each(function(b){b>=a.maxAlts&&c(this).remove()});n&&b===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(c(".thumbItemUnrolled").last().remove(),c(".unrolledImg").last().remove()):
H.find(".item:last").remove(),b--);f.isDefined(h)&&(c.each(h,function(d,g){if(b<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var k=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";c('\x3cli class\x3d"thumbItemUnrolled thumbType'+k+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c("ul.regularAltImageViewLayout"));c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+b+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
b+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||J(c(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{k=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var m={type:k,index:d,thumbnailIndex:b,variant:g.variant};U={type:"video-ingress",index:d,thumbnailIndex:b,variant:g.variant};f.useTabbedImmersiveView(a)&&("chromeful-video"===
k&&(ja+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(ja+=" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(ja+=" videoImageBlockGridView");f.createThumbnail(m,g.thumb,H,ja);2===a.dp60VideoPosition&&J(H,a.dp60VideoPosition);f.useTabbedImmersiveView(a)&&(L(H.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL),d=1<h.length?"multiple-videos":"one-video",(m=1<h.length?h.length+" "+a.staticStrings.multipleVideos:
a.staticStrings.singleVideo)&&H.find(".videoBlockIngress").append(H.find("#videoCount_template").clone().text(m).attr("id","videoCount")).addClass(d));qa=f.useTabbedImmersiveView(a)?h.map(function(a){return a.mediaObjectId}).join(","):g.mediaObjectId;g=l.buildNexusMetric("ib.thumbnailRender",b+1,g.mediaObjectId,g.rankingStrategy,f.customerId,g.groupType,ea,T,aa,da,qa);d=S(a,e.getCurrentItem().color);d!==g.pageAsin&&(g.pageAsin=d,g.pageUrl=Z(d));l.emitNexusMetric(g);u(k)}b++}if(f.useTabbedImmersiveView(a))return!1}),
C(H,d,b,g),t(w),a.imageBlockRenderingStartTime&&l.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",m.now()-a.imageBlockRenderingStartTime));return b}function J(b,d){if(0!==d)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var e=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=b.children(".thumbTypeimage");b=b.children(".thumbType"+e);f&&b&&f[d-1]&&c(f[d-1]).before(b[0]);b=c(".unrolledScrollBox .list-unrolled");f=b.children(".unrolledImg.imgMedia");
b=b.children(".unrolledImg.videoMedia");f&&b&&f[d-1]&&c(f[d-1]).before(b[0]);c(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var b=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(b=d);null!==b&&c(this).removeClass(this.classList[b]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else f=b.children(".imageThumbnail"),b=b.children(".videoBlockIngress"),f&&b&&f[d-1]&&c(f[d-1]).before(b[0])}function L(a,b){var c=
a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function E(b){a.autoplayVideo&&b&&!ia&&(P&&f.toggleVideoCaption(P),b.setVolume(0),b.show(),b.play(),ia=!0)}function O(b){v&&v.pause();b.data=U;b.clickTimeStamp=b.$event.timeStamp;var d="a"===b.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";B.dispatch("imageClick",b);l.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp);b=l.buildNexusMetric("ib.thumbnailClick",b.data.thumbnailIndex+
1,a.videos[0].mediaObjectId,a.videos[0].rankingStrategy,f.customerId,a.videos[0].groupType,ea,T,aa,da);l.emitNexusMetric(b);l.postCountMetric(d);c("#main-video-container .vjs-control-bar").css("display","none");c("#main-video-container .vjs-poster").css("display","inline-block")}function h(a){null!==v&&v!==Y&&(v.frame&&v.frame.remove(),v=null,R.frame&&R.frame.remove(),R=null);R=a.player;c("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");R.hide=function(){R.pause();
m.$("#main-video-container").find(".vse-player-container").hide()};R.show=function(){m.$("#main-video-container").find(".vse-player-container").show()};R.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function d(b,d,g,h,k,l){I(l);r=null!==l?c("#unrolledImgNo"+l.thumbnailIndex):h.find("#main-video-container");ua&&(P=null!==l?"":r.parent().find("#video-canvas-caption"));X=null!==l?c(".unrolledScrollBox"):c("#main-image-container");null===l&&f.isImageBlockGridViewDisplayEnabled()&&(r.addClass("videoCenter"),
h.find("#video-outer-container").addClass("videoWrapperCenter"));ea=p.location.href;b=e.getCurrentItem().color;!0===k?T=a.mediaAsin:(T=a.colorToAsin[b]&&a.colorToAsin[b].asin,T=f.isDefined(T)?T:a.mediaAsin);a.useChromelessVideoPlayer||r.addClass("chromeful-container");null!==l?z(l,"unrolled-video-add"):z(e.getCurrentItem(),"");f.useTabbedImmersiveView(a)&&m.declarative("videoIngressClick",["click"],O);if(-1!==n&&null!==l){b=e.getCurrentItem().color;var n=f.getVideoHash(b,l.index,a);k={requester:"MediaBlockSoftlines",
marketplaceID:n.marketPlaceID,clientPrefix:"mbSoftlines"+l.thumbnailIndex,locale:n.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:n.url,imageURL:n.slateUrl},product:{contentID:S(a,b),contentIDType:"ASIN"}};K.get(m,"#unrolledImgNo"+l.thumbnailIndex,k,function(){m.$("#unrolledImgNo"+l.thumbnailIndex).find(".vse-player-container").show()},function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function g(a,
b){function d(){var a=Math.floor((H.width()-1)/k);return f?a-1:a}function e(a){a=d();b.slice(a).hide();b.slice(0,a).show();b.find(".textMoreImages").remove();b.removeClass("overlayRestOfImages");b.find("img").each(function(){c(this).parent().attr("aria-hidden","true")});if(a<b.length){var e=a-1;a=b.eq(e);b.eq(e).find("img").parent().attr("aria-hidden","false");e=b.length-e;e=c("\x3cspan\x3e").addClass("textMoreImages").text(e+"+");a.find("img").after(e);a.addClass("overlayRestOfImages")}}var f=0!=
H.find(".item.videoThumbnail").length,g=b.eq(0).width(),h=b.eq(1).position().left-b.eq(0).position().left-g,k=g+h;e();a.register("resize",e)}function n(a){var b=H.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==Y&&c.decode().then(function(){g(a,b)})}}function t(a){try{if(!a)return!1;pa=a;ka=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==ba&&ba.disconnect();0<ka.length&&(ba=new IntersectionObserver(k,
a));ka.forEach(function(a){ba.observe(a)})}catch(wa){l.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function k(a){pa(a,va,sa,ka,ta)}function w(a,b,d,f,g){try{c.each(a,function(a,h){var k=c(f).index(h.target);h.isIntersecting?ma[k]||(ma[k]=setTimeout(function(){b=b.slice();b.push(k);d=b.sort(function(a,b){return a-b});var a=D(d,g);if(0!==a.length&&0!==d.length){var c=e.getCurrentItem().color;c=q(c);F(c,a);delete ma[k]}},1E3)):(clearTimeout(ma[k]),delete ma[k],b=b.filter(function(a){return a!==
k}),d=b.sort(function(a,b){return a-b}))})}catch(ya){l.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function D(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function F(a,b){try{if(!a||!b||0===a.length||0===b.length)return!1;c.each(b,function(b,c){if(c=1===ka.length?a[0]:a[c])b=l.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,c.rankingStrategy,f.customerId,c.groupType,p.location.href,T,aa,da),l.emitNexusMetric(b)})}catch(xa){l.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}
function S(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;if(a.mediaAsin)return a.mediaAsin}return""}function Z(a){ea=p.location.href;return ea.replace(/\/dp\/([A-Z0-9]{10})/,"/dp/"+a)}var b,a,e,B,H,r,P,X,y,v,fa,U,Q,R,T,ea,aa,da,la,ca,ha,na=!1,ia=!1,ja="videoThumbnail",V=null,ba=null,sa,ta=[],ka,va=[],pa=null,oa=m.state("imageBlockStateData"),ua=oa?!oa.shouldRemoveCaption:!0,ma={},qa;return function(g,k,p,q){b=this;a=g;e=k;B=q;fa=a.airyConfig;aa=
a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;f.customerId=f.customerId||a.customerId||"";a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(la="tablet",da="applicationType.ImageBlock.vse_ib_tablet_web"):m.capabilities.tablet?(la="tablet",m.capabilities.isAmazonApp&&(da="applicationType.ImageBlock.vse_ib_tablet_app")):(la="desktop",da="desktop_web.ImageBlock.vse_ib_iv");b.render=function(b,g,h,k,l,F){null!==V&&(clearInterval(V),
V=null,r&&r.parent&&r.parent().css("z-index",-1),P&&P.hide&&P.hide());var p=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){H=c("ul.regularAltImageViewLayout");Q=x(g,b,F);p=[];g=c(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var q=0;q<g.length;q++){var t=g[q].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",u=Number(g[q].classList[2].slice(10)),
v=c(".thumbItemUnrolled").index(g[q]);p.push({color:b,thumbnailIndex:v,type:t,varient:"MAIN",index:u})}for(q=0;q<p.length;q++)d(b,h,k,l,F,p[q])}else H=k,Q=x(g,b,F),d(b,h,k,l,F,null),b=e.getCurrentItem().color,h=f.getVideoHash(b,0,a),-1!==h&&(b=a.tabletWeb?f.getNilgiriServiceAjaxRequest(a,b,h):{requester:"MediaBlockSoftlines",marketplaceID:h.marketPlaceID,clientPrefix:"mbSoftlines",locale:h.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",
video:{videoURL:h.url,imageURL:h.slateUrl},product:{contentID:S(a,b),contentIDType:"ASIN"}},K.get(m,"#main-video-container",b,function(){m.$("#main-video-container").find(".vse-player-container").hide()},function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));a.collapsibleThumbnails&&n(B);return Q};b.setupIntersectionObserverToWatchVideoThumbnail=t;b.emitMultipleImpressionMetric=F;f.isImageBlockGridViewHoverDelayEnabled()?b.update=function(b){null!==V&&(clearInterval(V),V=
null,r&&r.parent&&r.parent().css("z-index",-1),P&&P.hide&&P.hide());var c=b.data;"ingress"===c.type||"swatchHover"===b.type||f.lazyLoadingRequired(c,e,a)||(e.setToPreviousItem(),"mouseenter"===b.type?(ha&&clearTimeout(ha),ha=setTimeout(function(){e.setToCurrentItem(c);I(null)},f.getHoveringDelayTimer())):"mouseleave"===b.type?ha&&clearTimeout(ha):"click"===b.type&&(e.setToCurrentItem(c),I(null)));if("swatchHover"===b.type)"ingress"===c.type||f.lazyLoadingRequired(c,e,a)||I(null),c.color===e.getCurrentItem().color?
z(e.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(c,e,a)&&!f.lazyLoadOnHoverEnabled(a)&&z(e.getCurrentItem(),"");else if("chromeful-video"===c.type){var d=f.getVideoHash(c.color,c.index,a);"mouseenter"===b.type?(l.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+Q),d=l.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ea,T,aa,da),l.emitNexusMetric(d),ca&&clearTimeout(ca),ca=setTimeout(function(){z(c,"");!a.usePeekHover&&
m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&f.selectGivenThumbnail(b.$declarativeParent,H)},f.getHoveringDelayTimer())):"mouseleave"===b.type?ca&&clearTimeout(ca):"click"===b.type&&(z(c,""),m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(b.$declarativeParent,H),d=l.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ea,T,aa,da),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===
c.type||"tablet"==la)&&l.emitNexusMetric(d),f.useTabbedImmersiveView(a)&&(l.emitNexusMetric(d),l.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+Q),U.action="videoIngressClick",U.clickTimeStamp=b.$event.timeStamp,U.$event=b.$event,U.$currentTarget=b.$currentTarget,B.dispatch("videoIngressClick",U),l.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}}:b.update=function(b){null!==V&&(clearInterval(V),V=null,r&&r.parent&&r.parent().css("z-index",-1),P&&P.hide&&P.hide());
var c=b.data;"ingress"===c.type||f.lazyLoadingRequired(c,e,a)||I(null);if("swatchHover"===b.type)c.color===e.getCurrentItem().color?z(e.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(c,e,a)&&!f.lazyLoadOnHoverEnabled(a)&&z(e.getCurrentItem(),"");else if("chromeful-video"===c.type){var d=f.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type){l.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+Q);var g=l.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,
d.rankingStrategy,f.customerId,d.groupType,ea,T,aa,da);l.emitNexusMetric(g)}z(c,"");a.usePeekHover&&"click"!==b.type||!m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||(f.selectGivenThumbnail(b.$declarativeParent,H),"click"===b.type&&(d=l.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ea,T,aa,da),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==la)&&l.emitNexusMetric(d),f.useTabbedImmersiveView(a)&&
(l.emitNexusMetric(d),l.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+Q),U.action="videoIngressClick",U.clickTimeStamp=b.$event.timeStamp,U.$event=b.$event,U.$currentTarget=b.$currentTarget,B.dispatch("videoIngressClick",U),l.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};if(a.isDPXFeatureEnabled)m.on("triggerVideoAjax",G);m.on("vsePlayer-imageblock_tablet",h);m.on("vsePlayer-mbsoftlines",h)}});"use strict";M.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",
function(m,c){function f(c,f,K,C,G){function l(c){"click"===c.type&&C.postCountMetric("thumbClick");"click"===c.type&&t.overrideAltImageClickAction?k.dispatch("thumbActionClick",c):k.dispatch("updateSelection",c)}function I(c){t.useClickZoom||k.dispatch("imageClick",c)}function N(c){t.useClickZoom||k.dispatch("imageHover",c)}function A(c){k.dispatch("button360Click",c)}function z(c){k.dispatch("captionClick",c)}function u(d){!K.isDefined(d)||"swatchClick"!==d.type&&"updatedData"!==d.type?(n.update(d),
"swatchHover"!==d.type&&w.getPreviousItem().thumbnailIndex!==d.data.thumbnailIndex&&C.postCountMetric(d.data.type+"ThumbnailSelected"),c.trigger("image-block-thumbnail-selected",d.data)):(n.render(d.data.color,!1,d.onload,d.type),d={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",d))}function x(c){k.dispatch("resize",c)}function J(c){K.selectThumbnail(c,D)}function L(){"function"===typeof p.markFeatureInteractive&&
p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function E(){t.interactiveCallJSPEnabled||("function"===typeof p.markFeatureInteractive&&p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===m.useIV?M.when("a-modal").execute(function(){L()}):L());t.disableHoverOnAltImages||c.declarative("thumb-action",
["mouseenter","mouseleave"],l);c.declarative("thumb-action",["click"],l);c.declarative("main-image-click",["click"],I);c.declarative("main-image-click",["keydown"],function(c){var d=c.$event;"keyCode"in d&&13===d.keyCode&&I(c)});c.declarative("main-image-click",["mouseenter","mouseleave"],N);c.declarative("button-360-click",["click"],A);c.declarative("iv-open-caption-click",["click"],z);c.on("resize",x)}function O(c){var d=c.data,f;d&&"ingress"!==d.type&&"click"===c.type&&(f=c);return f}function h(c){var d=
w.getCurrentItem(),f={type:"click"};f.$declarativeParent=c;f.data=d;return f}function d(){var c=D.find(".item.imageThumbnail");if(!(1>=c.length)){var d=w&&w.getCurrentItem()&&w.getCurrentItem().color;d=(d=t.colorImages&&d&&t.colorImages[d])&&d.length;c.removeClass("overlayRestOfImages");c.length<d&&(c.eq(c.length-1).addClass("overlayRestOfImages"),c=document.createElement("div"),c.className="lastAltImageOverlay",(d=(d=(d=document.getElementsByClassName("overlayRestOfImages")[0])&&d.getElementsByTagName("img"))&&
0<d.length&&d[0])&&d.parentNode&&(d.parentNode.insertBefore(c,d),d=(d=d.parentNode.getElementsByClassName("textMoreImages"))&&0<d.length&&d[0]))&&("T1"===t.desktopCollapsibleThumbnailsExperience?(d.classList.add("textMoreImages-t1"),c.classList.add("lastAltImageOverlay-t1"),C.postCountMetric("desktopCollapsibleThumbnailShowT1")):"T2"===t.desktopCollapsibleThumbnailsExperience&&(d.classList.add("textMoreImages-t2"),c.classList.add("lastAltImageOverlay-t2"),C.postCountMetric("desktopCollapsibleThumbnailShowT2")))}}
function g(c){K.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===c.type&&K.updateThumbnailHoverDelay(c.$target)}var n,t,k,w,D;return function(c,l,m){n=this;t=c;k=l;w=m;D=f("#imageBlock #altImages ul");var b=f("#imageBlock .canvas"),a=f("#main-image-container"),e;n.subViews=[];for(l=0;l<G.length;l++)n.subViews.push(new G[l](c,m,n,k));n.render=function(c,g,k,l){var m=0;D.find(".item").remove();c=c||w.getCurrentItem().color;f.each(n.subViews,function(d,e){m=(2===t.unrolledImageBlockTreatment||
3===t.unrolledImageBlockTreatment?e.render(c,m,b,D,a,g,k,l):e.render(c,m,b,D,a,g,k))||m});"T1"!==t.desktopCollapsibleThumbnailsExperience&&"T2"!==t.desktopCollapsibleThumbnailsExperience||d();var p=D.find(".a-button-selected").closest(".a-declarative");e=h(p)};n.init=function(){D=f("#imageBlock #altImages ul");var a=D.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=t.landingAsinColor||t.defaultColor;k.dispatch("updateModel",{data:a});n.render(a.color,
!0);t.isDebug&&p.console&&console.log(t);k.register("updateView",u);k.register("selectThumbnail",J);E()};n.update=function(a){g(a);f.each(n.subViews,function(b,c){c.update(a)});t.usePeekHover&&("mouseleave"===a.type?k.dispatch("updateSelection",e):"click"===a.type&&(e=O(a)||e))}}}c=["A","jQuery","imageBlockUtils","postMetric"].concat(m.views);M.when.apply(M,c).register("ImageBlockView",function(){for(var c=arguments[0],l=arguments[1],m=arguments[2],p=arguments[3],G=[],q=4,I=arguments.length;q<I;q++)G.push(arguments[q]);
return f(c,l,m,p,G)})})});
/* ******** */
(function(J){var F=window.AmazonUIPageJS||window.P,la=F._namespace||F.attributeErrors,f=la?la("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):F;f.guardFatal?f.guardFatal(J)(f,window):f.execute(function(){J(f,window)})})(function(J,F,la){J.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(f,a,c,y,q){function C(d,b){var l=a(d+" image").attr("data");a(d+" image")[0].setAttribute("href",
l);d=new Image;d.src=l;d.onload=function(){b(this.width/this.height)}}function u(d){null!==a(d.euclidSvg)&&(new Promise(function(b,a){C(d.euclidSvg,b)})).then(function(b){if(null===a(d.featureDiv)||0===a(d.featureDiv).length||0>=b)var l=null;else{var h=a(d.featureDiv).width(),c=a(d.featureDiv).height(),k=2*(16+x(d.euclidHeightText,d.numberSpace)+10),g=h-k,p=a(d.euclidHeightLine).data("euclid-height-startx");0>p?k+=g*Math.abs(p)*2:1<p&&(k+=g*(p-1)*2);g=h-k;0>g&&(k=152);var f=a(d.euclidWidthLine).data("euclid-width-starty"),
m=1<f?c*(f-1)+50:50,n=c-m;if(g/n>b)var B=n*b,W=n,z=n*b+k,X=c;else B=g,W=g/b,z=h,X=g/b+m;l={imageWidth:B,imageHeight:W,svgWidth:z,svgHeight:X}}if("undefined"===typeof l||null===l||10>=l.imageWidth||10>=l.imageHeight||10>=l.svgWidth||10>=l.svgHeight)q.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var r=l,w=d.euclidSvg;a(w+" image").attr("width",r.imageWidth);a(w+" image").attr("height",r.imageHeight);a(w).attr("width",r.svgWidth);a(w).attr("height",r.svgHeight);var y=(r.svgWidth-r.imageWidth)/
2;a(w+" image")[0].setAttribute("x",y);a(w+" image")[0].setAttribute("y",10);var u=r.imageWidth,t=r.imageHeight,A=(r.svgWidth-r.imageWidth)/2,v=a(d.euclidLengthLine).data("euclid-length-startx")*u,Q=a(d.euclidLengthLine).data("euclid-length-starty")*t,O=a(d.euclidLengthLine).data("euclid-length-endx")*u,I=a(d.euclidLengthLine).data("euclid-length-endy")*t,G=a(d.euclidWidthLine).data("euclid-width-startx")*u,C=a(d.euclidWidthLine).data("euclid-width-starty")*t,D=a(d.euclidWidthLine).data("euclid-width-endx")*
u,U=a(d.euclidWidthLine).data("euclid-width-endy")*t,H=a(d.euclidHeightLine).data("euclid-height-startx")*u,da=a(d.euclidHeightLine).data("euclid-height-starty")*t,K=a(d.euclidHeightLine).data("euclid-height-endx")*u,M=a(d.euclidHeightLine).data("euclid-height-endy")*t,ta=(U-C)/(D-G),hb=0>=ta?"leftInclined":"rightInclined",Ra=1/ta,ma=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Ra,2)))),pa=0===ma?16:Math.abs(Ra*ma),ra=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Ra,2)))),ua=0===ra?3:Math.abs(Ra*
ra),J=(I-Q)/(O-v),R=1/J,E=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(R,2)))),L=0===E?16:Math.abs(R*E),N=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(R,2)))),S=0===N?3:Math.abs(R*N),ba=0>=J?"leftInclined":"rightInclined";if(.5<a(d.euclidHeightLine).data("euclid-height-startx")){var ca=H+A+16,Z=da+10,na=K+A+16,ka=M+10,ha=H+A+16-3,ja=da+10,ia=H+A+16+3,la=da+10,ib=K+A+16-3,jb=M+10,kb=K+A+16+3,lb=M+10,mb=(ca+na)/2+5,nb=(Z+ka)/2+8,Ba=D+A+ma,Ca=U+pa+10,Da=G+A+ma,Ea=C+pa+10,ob=D+A+ma-ra,pb=U+pa-ua+10,
qb=D+A+ma+ra,rb=U+pa+ua+10,sb=G+A+ma-ra,tb=C+pa-ua+10,ub=G+A+ma+ra,vb=C+pa+ua+10;if("leftInclined"===hb){var Sa=(Ba+Da)/2;var Ta=(Ca+Ea)/2+15}else Sa=(Ba+Da)/2+5,Ta=(Ca+Ea)/2;var Fa=v+A-E,Ga=Q+L+10,Ha=O+A-E,Ia=I+L+10,wb=v+A-E-N,xb=Q+L+S+10,yb=v+A-E+N,zb=Q+L-S+10,Ab=O+A-E-N,Bb=I+L+S+10,Cb=O+A-E+N,Db=I+L-S+10,Gb=x(d.euclidLengthText,d.numberSpace);if("leftInclined"===ba)var Ua=(Fa+Ha)/2,Va=(Ga+Ia)/2+15;else Ua=(Fa+Ha)/2-Gb,Va=(Ga+Ia)/2+15}else{ca=H+A-16;Z=da+10;na=K+A-16;ka=M+10;ha=H+A-16-3;ja=da+10;
ia=H+A-16+3;la=da+10;ib=K+A-16-3;jb=M+10;kb=K+A-16+3;lb=M+10;var Hb=x(d.euclidHeightText,d.numberSpace);mb=(ca+na)/2-Hb-3;nb=(Z+ka)/2+8;Ba=D+A-ma;Ca=U+pa+10;Da=G+A-ma;Ea=C+pa+10;ob=D+A-ma-ra;pb=U+pa+ua+10;qb=D+A-ma+ra;rb=U+pa-ua+10;sb=G+A-ma-ra;tb=C+pa+ua+10;ub=G+A-ma+ra;vb=C+pa-ua+10;var Eb=x(d.euclidWidthText,d.numberSpace);"leftInclined"===hb?(Sa=(Ba+Da)/2-Eb,Ta=(Ca+Ea)/2):(Sa=(Ba+Da)/2-Eb,Ta=(Ca+Ea)/2+15);Fa=v+A+E;Ga=Q+L+10;Ha=O+A+E;Ia=I+L+10;wb=v+A+E+N;xb=Q+L+S+10;yb=v+A+E-N;zb=Q+L-S+10;Ab=O+
A+E+N;Bb=I+L+S+10;Cb=O+A+E-N;Db=I+L-S+10;"leftInclined"===ba?(Ua=(Fa+Ha)/2,Va=(Ga+Ia)/2+15):(Ua=(Fa+Ha)/2+15,Va=(Ga+Ia)/2)}var Ib=Fa;var Jb=Ga;var Kb=Ha;var Lb=Ia;var Mb=wb;var Nb=xb;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Db;var Ub=Ua;var Vb=Va;var Wb=Ba;var Xb=Ca;var Yb=Da;var Zb=Ea;var $b=ob;var ac=pb;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=vb;var hc=Sa;var ic=Ta;var jc=ca;var kc=Z;var lc=na;var mc=ka;var nc=ha;var oc=ja;var pc=ia;var qc=la;var rc=ib;var sc=jb;
var tc=kb;var uc=lb;var vc=mb;var wc=nb;fa(w+" .hit-pd-euclid-height-line",jc,kc,lc,mc);fa(w+" .hit-pd-euclid-height-start",nc,oc,pc,qc);fa(w+" .hit-pd-euclid-height-end",rc,sc,tc,uc);F(w+" .hit-pd-euclid-height-text",vc,wc);fa(w+" .hit-pd-euclid-width-line",Wb,Xb,Yb,Zb);fa(w+" .hit-pd-euclid-width-start",$b,ac,bc,cc);fa(w+" .hit-pd-euclid-width-end",dc,ec,fc,gc);F(w+" .hit-pd-euclid-width-text",hc,ic);fa(w+" .hit-pd-euclid-length-line",Ib,Jb,Kb,Lb);fa(w+" .hit-pd-euclid-length-start",Mb,Nb,Ob,Pb);
fa(w+" .hit-pd-euclid-length-end",Qb,Rb,Sb,Tb);F(w+" .hit-pd-euclid-length-text",Ub,Vb);T("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(d===ea&&"dimension-ingress-image"===P.getCurrentItem().type?(V(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),q.postTimeMetric("dppc_loadDimensionHeroTime",
Date.now()-qa)):d===aa&&(a("ivDimensionTab").css("display","block"),e(a("#iv-euclid"),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),q.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-oa)))}});T("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&t(d===ea,P.getCurrentItem(),null)}function x(d,b){return a(d).text().replace(/[^0-9]/g,"").length*b+5}function fa(d,b,l,h,c){d=a(d)[0];d!==la&&null!==d&&(d.setAttribute("x1",b),
d.setAttribute("y1",l),d.setAttribute("x2",h),d.setAttribute("y2",c))}function F(d,b,l){var h=a(d)[0];h!==la&&null!==h&&(h.setAttribute("x",b),h.setAttribute("y",l),d=a(d+" tspan"),d!==la&&null!==d&&2===d.length&&(d[0].setAttribute("x",b),d[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),d[1].setAttribute("x",b),d[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function J(d){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length){d=
B(d.color);if(null===d)return;if(d in Q)T("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&Q[d].clone().appendTo(a("#imageBlock #main-image-container"));else{var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(T("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),Q[d]=b):R(d)}}u(ea)}}
function R(d){try{setTimeout(function(){da++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(d in Q||(Q[d]=b),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&T("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),u(ea)):100>
da&&R(d)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+b)}}function T(d){return"true"===a(d).attr("data-should-use-in-hero")}function t(d,b,l){var h=n.colorImages[b.color],c=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");c&&0<c.length?(h=D(h),N(h,d,b,l)):K(h,d,b,l)}function K(d,b,l,h){try{setTimeout(function(){U++;var c=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");
c&&0<c.length?(c=D(d),N(c,b,l,h)):100>U?K(d,b,l,h):(q.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),c=d[0],N(c,b,l,h))},100)}catch(Y){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+Y)}}function D(d){for(var b=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),l=d[0],h=0;h<d.length;h++){var c=d[h];c.variant===b&&(l=c)}l===d[0]&&q.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");
return l}function N(d,b,l,h){b?((b=S.find(".item.dimensionItemNo"+l.thumbnailIndex))&&b.remove(),b=l.thumbnailIndex,h=H(d,h),l=S.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),l.addClass("image item dimensionItemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1}),l.find(".placeHolder").replaceWith(h),l.find(".a-declarative").attr("data-action",
"dimension-hero-click"),S.find(".list").append(l),f.loadImageManually(h),h=b=l,l=ha.css("height"),null!==l&&h.find(".imgTagWrapper").css("height",l),h.addClass("selected"),n.imgTagWrapperClasses&&h.find(".imgTagWrapper").addClass(n.imgTagWrapperClasses),L.dispatch("loadMagnifier"),h=b,n.useIV&&c.isDefined(d.hiRes)&&h.css("cursor","pointer"),f.trigger("dp:image-block:update",d)):(M(d),e(a("#iv-seller"),a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function M(d){var b=a("#ivDimensionTab #ivLargeDimensions");
if(0<b.find(".imgTagWrapper").length){var h=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return E(b,h)}h=a("\x3cdiv\x3e\x3c/div\x3e");h.addClass("imgTagWrapper");var c=a("\x3cimg\x3e");h.html(c);b.append(h);h=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");h.attr("src",d.hiRes);return E(b,h)}function E(a,b){a=a.closest("#ivStageDimensions");var d=a.width();a={height:"auto","max-height":a.height(),"max-width":d,"text-align":"center"};b.css(a);b=b.closest(".imgTagWrapper");
b.css(a);return b}function H(d,b){var h="a-dynamic-image";if(!n.acEnabled){var g;a.each(d.main,function(b,a){c.isDefined(g)||(g=parseFloat(a[1]/a[0])<=parseFloat(n.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});h+=g}var e=c.getMaxDimensionsOfMainImage(d.main,ha,n),k=e[0],p=e[1];e=a("\x3cdiv\x3e\x3c/div\x3e");k={"max-height":k,"max-width":p};e.addClass(h).css(k).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",d.main);return e}function Z(){var d=
'\x3ca href\x3d"#"\x3e'+n.staticStrings.clickForFullView+"\x3c/a\x3e";a("#image-canvas-caption #canvasCaption").html(d);d=a("#image-canvas-caption #canvasCaption a");f.declarative.create(d,"dimension-hero-click")}function B(a){var b=n.colorToAsin[a];return b&&b.asin?a=n.colorToAsin[a].asin:a=n.mediaAsin?n.mediaAsin:null}function r(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
-1)}function V(){null!==a(ea.euclidSvg)&&0!==a(ea.euclidSvg).length?(a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)):t(ea,P.getCurrentItem(),null)}function I(a,b){n.usePeekHover&&"click"!==b.type||c.selectGivenThumbnail(b.$declarativeParent,a)}function z(a){a.action="dimensionIngressClick";a.data=ia;L.dispatch("dimensionIngressClick",a)}function G(){oa=Date.now();
if(h&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var d=B(P.getCurrentItem().color);if(null!==d){a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");var b=a("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",b);d in Q?Q[d].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),b.length?(b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),
Q[d]=b):w(d));y.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,n);y.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));ba();h=!1}d=a("#iv-tab-view-container").find("#ivThumbsDimensions");d.find(".ivRow").not(".placeholder").remove();b=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d);var c=0<a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,
e=0<a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(c){if(!a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var g=n.colorImages[P.getCurrentItem().color];g=D(g);M(g);a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}p(d,b,g.thumb,a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),
"iv-seller")}e&&(g=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),p(d,b,g,a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}m()}function m(){ja=a("#ivDimensionTab").height();if(0!==ja){y.detachImmersiveViewResizeHandler(G);var d=a("#ivDimensionTab #ivMainDimensions"),b=a("#ivDimensionTab").height(),h=a("#ivDimensionTab").width();d.css("height",b);d.css("width",h);h=d.find("#ivTitleDimensions").outerHeight(!0);
var c=d.find("#ivVariationSelectionDimensions").outerHeight(!0),g=d.find("#ivThumbsDimensions"),e=y.getDimension(g,"margin-top")+y.getDimension(g,"margin-bottom");g.css("height",b-h-c-e);h=d.find("#ivStageDimensions");d=(d[0]&&d[0].getBoundingClientRect&&Math.floor(d[0].getBoundingClientRect().width)||d.width())-y.getDimension(d,"padding-left")-y.getDimension(d,"padding-right")-d.find("#ivThumbColumnDimensions").width()-y.getDimension(h,"margin-left")-y.getDimension(h,"margin-right");h.css("width",
d);h.css("height",b);u(aa)}}function p(a,b,h,c,g){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:g}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+y.getResizedThumbnailURL(h)+'") center no-repeat');c.hasClass("aok-hidden")||a.addClass("selected");W(a,c)}function W(a,b){a.click(function(){e(a,b)})}function e(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&E(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");
b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function w(h){try{setTimeout(function(){k++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(h in Q||(Q[h]=b),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),m()):100>k&&w(h)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+
b)}}function O(h,b){g&&clearTimeout(g);"mouseenter"===b.type&&(g=setTimeout(function(){J(h);a("#image-canvas-caption #canvasCaption").empty();Z();I(ca,b)},c.getHoveringDelayTimer()));"mouseleave"===b.type&&Z()}var v,n,P,L,ca,S,ha,ia,h=!0,qa,oa,g,X,Q={},da=0,k=0,U=0,ja,ea={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},aa={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},ba=f.once(function(){y.attachImmersiveViewResizeHandler(G)});f.on.resize(function(){T("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
u(ea)});return function(d,b,g,e){v=this;n=d;P=b;L=e;d=n.mediaAsin;b=[];n&&n.dimensionIngressAtfData&&n.dimensionIngressAtfData.initial&&(b=n.dimensionIngressAtfData.initial.dimensionVariantList);c.setDimensionIngressData(d,n.dimensionIngressEnabled,b);v.render=function(b,d,g,e,l,p){ca=e;S=2!==n.unrolledImageBlockTreatment&&3!==n.unrolledImageBlockTreatment?g:a(".unrolledScrollBox");ha=l;h=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();
a("#ivDimensionTab #ivLargeDimensions").empty();k=da=0;g=B(P.getCurrentItem().color);if(null!==g){if(c.isDimensionIngressEnabled(g)&&n.dimensionIngressThumbURL&&n.dimensionIngressThumbURL.initial&&n.dimensionIngressThumbURL.initial.length){g=c.getDimensionVariantList(g);if(g.includes("DIMN")||g.includes("DCMN"))Array.isArray(g)||(g=JSON.parse(g.replace(/(\w+)/g,'"$1"'))),g.push("DIMN"),g.push("DCMN");if(g&&0<g.length){l=n.colorImages[b];p=e.find(".item.imageThumbnail");for(var f=0;f<p.length&&f<n.maxAlts-
1;f++){var m=l[f].variant;"MAIN"!=m&&g.includes(m)&&(m=p.eq(f))&&(m.remove(),d--)}}d===n.maxAlts&&(e.find(".item.imageThumbnail").last().remove(),d--);ia={type:"dimension-ingress-image",index:0,thumbnailIndex:d,variant:"Main"};c.createThumbnail(ia,n.dimensionIngressThumbURL.initial,e,"dimension-ingress-imageblock-thumbnail");e=n.dimensionIngressAtfData.initial.thumbnailCaption;e=a("\x3cspan /\x3e").html(e);e.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");e.attr("id",
"dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(e);d++;a("#ivDimensionTabHeading").removeClass("aok-hidden");B(b)!==n.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return d}a("#ivDimensionTabHeading").addClass("aok-hidden")}};v.update=function(b){var h=b.data;P.setCurrentEvent(b);
"dimension-ingress-image"===h.type?(h.interaction=b.type,h.isUserGenerated=!0,"mouseenter"===b.type&&(qa=Date.now(),q.postCountMetric("dpcc_dimensionIngressHovered")),c.isImageBlockGridViewHoverDelayEnabled()?O(h,b):(J(h),a("#image-canvas-caption #canvasCaption").empty(),Z(),I(ca,b)),"click"===b.type&&c.useTabbedImmersiveView(n)&&(z(b),q.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===b.type?h.color===P.getCurrentItem().color&&"dimension-ingress-image"===P.getCurrentItem().type?
V():r():c.isImageBlockGridViewHoverDelayEnabled()?(P.setToPreviousItem(),"mouseenter"===b.type&&(X&&clearTimeout(X),X=setTimeout(function(){P.setToCurrentItem(h);r()},c.getHoveringDelayTimer())),"mouseleave"===b.type&&X&&clearTimeout(X),"click"===b.type&&(P.setToCurrentItem(h),r())):r()};y.attachTabSelectHandler("ivDimensionTab",G);f.declarative("dimension-hero-click",["click"],z)}});"use strict";J.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",
function(f,a,c,y,q){var C,u,x;function fa(){q.populateTitle(m.find("#ivTitle"),160,z)}function J(){var a=G.getCurrentItem().color;W=z.colorImages[a];p=z.heroImage[a];e=w=0;c.isDefined(p)&&(e=p.length);c.isDefined(W)&&(w=W.length)}function F(a){return a.hiRes||a.large||a.main[a.main.length-1]}function R(){var a=m.find("#ivStage").find("#ivLargeImage"),c=a.width(),e=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var p=g.width(),f=g.height();0<g.length&&(g[0].naturalWidth&&(p=g[0].naturalWidth),
g[0].naturalHeight&&(f=g[0].naturalHeight));a.css("cursor","auto");p=0===p?1:p;f=0===f?1:f;var n=Math.min(c/p,e/f),k=f*n,w=p*n;1>n?(v?a.css("cursor","url('"+z.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),L=!0):L=!1;p=Math.min(w,p);f=Math.min(k-20,f);g.css({"margin-top":(e-f)/2,"margin-left":(c-p)/2,height:f,width:p});a.css("visibility","visible");P=!1}function T(a){var h=m.find("#ivLargeImage"),c=m.find("#ivZoom");h.css("visibility",
"hidden");h.empty();q.animateStageIn(h);h.append(a);R();L?(f.show(c),H("zoomOut")):f.hide(c)}function t(h){m.find("#ivLargeImage").css("display","none");m.find("#ivLargeImage").css("display","block");var e;"hero-image"===h?c.isDefined(p)&&(e=F(p[O.index])):c.isDefined(W)&&(e=F(W[O.index]));if(c.isDefined(e)){m.find(".fullscreen").remove();var n=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),g=m.find("#ivLargeImage");q.animateStageOut(g,function(){n.load(function(){T(n);f.trigger("dp:image-block:imageBlockImmersiveImageLoad",
O.index)});if(n[0].complete)T(n),f.trigger("dp:image-block:imageBlockImmersiveImageLoad",O.index);else{g.empty();var h=(g.height()-104)/2,c=(g.width()-80)/2;a("\x3cimg\x3e").attr("src",z.staticImages.spinner).css({position:"relative",top:h+"px",left:c+"px"}).appendTo(g)}})}}function K(a){m.find(".ivThumb").removeClass("selected").attr("aria-pressed","false");a.addClass("selected").attr("aria-pressed","true");a.hasClass("ivHeroImage")?O.type="hero-image":O.type="image";O.index=a.attr("id").split("_")[1];
t(O.type);y.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(O.index,10)+1)+"_"+(e+w))}function D(){m.delegate(".ivThumb","click keydown",function(h){var c=a(this);if("click"===h.type||"keydown"===h.type&&(13===h.keyCode||13===h.key||32===h.keyCode||32===h.key))h.preventDefault(),K(c)})}function N(){if(L){var a=m.find("#ivLargeImage"),c=a.find(".fullscreen");v?a.css("cursor","url('"+z.staticImages.zoomOut+"'), auto"):(a.css("cursor","-webkit-zoom-out"),a.css("cursor","-moz-zoom-out"),a.css("cursor",
"zoom-out"));P=!0;var e=m.find("#ivLargeImage");u=e.width()-c.width();x=e.height()-c.height();e=a.height()/2;var g=a.width()/2;ha=[a.offset().left+g,a.offset().top+e];C=e-c.height()/2;ca=g-c.width()/2;c.css({position:"relative",left:ca,top:C});S=Math.max(c.height()/a.height(),c.width()/a.width())}}function M(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function E(a){var c=C-(a.pageY-ha[1])*S;a=M(ca-(a.pageX-ha[0])*S,u);c=M(c,x);m.find(".fullscreen").css({left:a,top:c})}function H(a){var c=m.find("#ivZoomIn"),
e=m.find("#ivZoomOut");if("zoomIn"===a)a=c,c=e;else if("zoomOut"===a)a=e;else return;a.addClass("disabled").attr({"aria-disabled":"true",tabindex:"-1"});c.removeClass("disabled").attr({"aria-disabled":"false",tabindex:"0"})}function Z(){f.declarative("iv-zoomOut",["click","keydown"],function(a){a=a.$event;var c=m.find("#ivZoomIn");!L||"click"!==a.type&&("keydown"!==a.type||13!==a.keyCode&&32!==a.keyCode)||(R(),c.focus(),H("zoomOut"))});f.declarative("iv-zoomIn",["click","keydown"],function(a){a=a.$event;
if(L&&("click"===a.type||"keydown"===a.type&&(13===a.keyCode||32===a.keyCode))){a=m.find(".fullscreen");var c=m.find("#ivLargeImage");a.removeAttr("style");N();c.attr("tabindex","-1");c.focus();H("zoomIn")}});f.declarative("iv-largeImage",["keydown"],function(a){if(P)a:{var c=m.find("#ivLargeImage"),e=m.find(".fullscreen"),g=parseInt(e.css("left"))||0,h=parseInt(e.css("top"))||0,p=m.find("#ivZoomOut"),f=a.$event,k=g;a=h;f.preventDefault();switch(f.keyCode){case 38:a=Math.min(h+30,0);break;case 40:a=
Math.max(h-30,c.height()-e.height());break;case 37:k=Math.min(g+30,0);break;case 39:k=Math.max(g-30,c.width()-e.width());break;default:c.removeAttr("tabindex");p.focus();break a}c=M(k,u);g=M(a,x);e.css({left:c,top:g})}})}function B(){m.delegate("#ivLargeImage","click",function(a){P?(R(),H("zoomOut")):L&&(m.find(".fullscreen").removeAttr("style"),N(),E(a),y.postCountMetric("dpcc_iv_largeImageCLick"),H("zoomIn"))});m.delegate("#ivLargeImage","mousemove",function(a){P&&E(a)});Z()}function r(){m.find("#ivLargeImage").empty()}
function V(h){if(n){m=a("#ivMain");J();O=G.getCurrentItem();fa();q.populateVariationSelection(m.find("#ivVariationSelection"));h=m.find("#ivThumbs");h.find(".ivRow").not(".placeholder").remove();var f=e+w,B=!1;z&&z.dimensionIngressAtfData&&z.dimensionIngressAtfData.initial&&(B=z.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var g=0,r=0;g<f;)for(var u=h.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(h),t=0;4>t&&g<f;t++,g++,r++)if(r<e){var k=p[g].thumb,
v=h.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+g,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":g+1}).appendTo(u);v.find(".ivThumbImage").css("background",'url("'+q.getResizedThumbnailURL(k)+'") center no-repeat')}else if(r>=e&&r<w+e){k=z.colorToAsin[G.getCurrentItem().color].asin;k||(k=z.mediaAsin);if((v=c.isDimensionIngressEnabled(k))&&
B){if((k=c.getDimensionVariantList(k))&&k.includes(W[g-e].variant)){t--;continue}}else if(v&&"DIMN"===W[g-e].variant){t--;continue}k=W[g-e].thumb;v=z.staticStrings.ivImageThumbnailLabelAnnounce.replace("###ivImageThumbnailIndex",g-e+1);v=h.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(g-e),"aria-label":v,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":g-e+1}).appendTo(u);
v.find(".ivThumbImage").css("background",'url("'+q.getResizedThumbnailURL(k)+'") center no-repeat')}ia();n=!1}else fa();h=a("#ivImagesTab").height();m.css("height",h);f=m.find("#ivTitle").outerHeight(!0);B=m.find("#ivVariationSelection").outerHeight(!0);g=m.find("#ivThumbs");r=q.getDimension(g,"margin-top")+q.getDimension(g,"margin-bottom");g.css("height",h-f-B-r);m.find("#ivLargeImage").css("height",h);h=m.find("#ivStage");f=m[0]&&m[0].getBoundingClientRect&&Math.floor(m[0].getBoundingClientRect().width)||
m.width();h.css("width",f-q.getDimension(m,"padding-left")-q.getDimension(m,"padding-right")-m.find("#ivThumbColumn").width()-q.getDimension(h,"margin-left")-q.getDimension(h,"margin-right"));O=G.getCurrentItem();h="hero-image"===O.type?m.find("#ivHeroImage_"+O.index):"image"===O.type?m.find("#ivImage_"+O.index):c.isDefined(p)?m.find("#ivHeroImage_"+O.index):m.find("#ivImage_"+O.index);c.isjQueryObjDefined(h)||(h=m.find("#ivImage_0"));K(h)}var I,z,G,m,p,W,e,w,O,v=navigator.userAgent.match(/msie|trident/i),
n=!0,P=!1,L=!1;var ca=C=x=u=void 0;var S,ha;n=!0;var ia=f.once(function(){D();B();q.attachImmersiveViewResizeHandler(V);q.attachTabDeselectHandler("ivImagesTab",r)});return function(c,f,p,g){I=this;z=c;G=f;I.render=function(c,g,h,k,f,p){n=!0;J();0===e+w?q.hideTabHeading("ivImagesTabHeading"):q.unhideTabHeading("ivImagesTabHeading");1===e+w?a("#ivThumbs").hide():a("#ivThumbs").show()};I.update=function(a){};q.attachTabSelectHandler("ivImagesTab",V)}});"use strict";J.when("A","jQuery","imageBlockUtils",
"postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(f,a,c,y,q,C,u){function x(){var c=K.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),r=c.find(".a-popover-inner");c=c.height()-u.getDimension(r,"padding-top")-u.getDimension(r,"padding-bottom");a("#iv-tab-view-container").css("height",c);M=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;
1<M?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),r=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=r):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",c);f.trigger("dp:image-block:immersive-view:resize")}function fa(){f.trigger("dp:image-block:immersive-view:reset")}function na(a){a.find("a").focus()}function ka(){var c=a(F).width(),f=a(F).height();f=1024>c?Math.max(420,.8*c):Math.max(996,
Math.min(.8*c,1.25*f));var q=.5625*(f-348)+273;1024>c&&(q=2*(.5625*f+273));return{width:f,height:q}}function R(B){if(c.isImmersiveViewEnabled(t,K.getCurrentItem().color))if(E){var r=B.$event.originalEvent;r.acknowledge&&r.acknowledge(B.$currentTarget[0]);q.isEnabled&&C.logImmersiveViewRequestServed(q);y.postCountMetric("dppc_immersiveViewOpened");c.isDefined(B)&&("button-360-click"===B.action?a("#iv360TabHeading").click():"videoIngressClick"!==B.action&&("showroomIngressClick"===B.action?a("#ivShowroomTabHeading").click():
"dimensionIngressClick"===B.action?a("#ivDimensionTabHeading").click():a("#ivImagesTabHeading").click()));if("videoIngressClick"===B.action){var x=K.getImmersiveViewVideoModalInstance();c.isDefined(x)?x.show():function(){var c=ka();G=c.width;z=c.height;I=a("#ivVideoBlockView");var f=setInterval(function(){u.isPreloadCallCompleted&&(clearInterval(f),x=E.create(I,{name:"immersiveViewVideos",activate:"onclick",popoverLabel:"ImmersiveViewVideos",hideHeader:!0,closeButton:!1,padding:"none",width:G,height:z}),
K.setImmersiveViewVideoModalInstance(x),I.click())},50)}()}else{B=K.getImmersiveViewModalInstance();if(c.isDefined(B))B.show();else{var I=a("#auiImmersiveViewDiv");var z=Math.min(Math.max(a(F).height()-150,540),1080);var G=Math.min(Math.max(a(F).width()-75,990),1980);B=E.create(I,{name:"immersiveView",activate:"onclick",width:G,height:z,popoverLabel:"ImmersiveView",hideHeader:!0});K.setImmersiveViewModalInstance(B);I.click()}N&&(N=!1,H(),f.trigger("dp:image-block:immersive-view:init"))}}else F.performance&&
performance.now&&F.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else y.postCountMetric("immersiveViewNotExistsClickCount")}var T,t,K,D,N=!0,M=0,E;J.when("a-modal").execute(function(a){E=a});var H=f.once(function(){f.on("a:popover:afterUpdatePosition:immersiveView",x);f.on("a:popover:afterShow:immersiveView",x);f.on("a:popover:afterHide:immersiveView",fa)}),Z=f.once(function(){var c=a("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",
function(q){var r=c.filter(".iv-active");r.attr("id")!==a(this).attr("id")&&f.trigger("dp:ivTabs:"+r.find("a").attr("data-iv-tab-view")+":deselect",q);c.removeClass("iv-active").attr("aria-selected","false").find("a").attr("tabindex","-1");a(this).addClass("iv-active").attr("aria-selected","true").find("a").attr("tabindex","0");a("#iv-tab-view-container .iv-tab-content").hide();r=a(this).find("a").attr("data-iv-tab-view");a("#"+r).show();f.trigger("dp:ivTabs:"+r+":select",q);y.postCountMetric("dppc_"+
r);return!1});c.bind("keydown",function(f){var q=a(this),r=c.filter(":visible"),t=r.index(q),u=r.length-1;switch(f.keyCode){case 37:f.preventDefault();0<t?na(r.eq(t-1)):na(r.eq(u));break;case 39:f.preventDefault();t<u?na(r.eq(t+1)):na(r.eq(0));break;case 13:case 32:f.preventDefault(),q.find("a")[0].click()}})});return function(a,r,u,x){T=this;t=a;K=r;q.refToModel=K;D=x;T.render=function(a,c,f,p,q,e){y.postCountMetric("dpcc_altThumbs_"+c);N=!0};T.update=function(a){};T.getTitle=function(){};T.getVariationSelectionInfo=
function(){};Z();c.isImmersiveViewEnabled(t,K.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");D.register("imageClick",R);D.register("button360Click",R);(t.collapsibleThumbnails||t.desktopCollapsibleThumbnails||"T1"===t.desktopCollapsibleThumbnailsExperience||"T2"===t.desktopCollapsibleThumbnailsExperience)&&f.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&(R(a),(t.collapsibleThumbnails||t.desktopCollapsibleThumbnails)&&y.postCountMetric("collapsibleThumbnailImmersiveViewClick"),
"T1"===t.desktopCollapsibleThumbnailsExperience?y.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT1"):"T2"===t.desktopCollapsibleThumbnailsExperience&&y.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT2"))});c.useTabbedImmersiveView(t)&&(D.register("videoIngressClick",R),D.register("showroomIngressClick",R),D.register("dimensionIngressClick",R),D.register("captionClick",R))}});"use strict";J.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(f,a,c,y,q,C,u,x){function fa(a){return a.hiRes||a.large||a.main[a.main.length-1]}function na(){k.find("#ivTitle").click(function(){da.hide()})}function ka(){l=fb?{type:"360-spin"}:X.getCurrentItem()}function R(){var a=k.find("#ivStage"),b=da.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner");b=b.height()-x.getDimension(c,"padding-top")-x.getDimension(c,"padding-bottom");k.css("height",b);
c=k.find("#ivTitle").outerHeight(!0);var e=k.find("#ivVariationSelection").outerHeight(!0),d=k.find("#ivMediaSelection").outerHeight(!0),g=k.find("#ivThumbs"),f=x.getDimension(g,"margin-top")+x.getDimension(g,"margin-bottom");g.css("height",b-c-e-d-f);k.find("#ivLargeImage").css("height",b);a.css("width",k.width()-x.getDimension(k,"padding-left")-x.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-x.getDimension(a,"margin-left")-x.getDimension(a,"margin-right"))}function T(){k.find("#ivMediaSelect").change(function(){var b=
a(this).val();"all"===b?(k.find("#ivVideoList").hide(),k.find("#ivThumbs").show(),k.find(".ivThumbVideo").show(),"chromeful-video"===l.type&&k.find("#ivVideo_"+l.index).click()):"images"===b?(k.find("#ivVideoList").hide(),k.find("#ivThumbs").show(),k.find(".ivThumbVideo").hide(),"chromeful-video"===l.type&&(0===ba&&0===aa?k.find("#iv360").click():0===ba?k.find("#ivHeroImage_0").click():k.find("#ivImage_0").click())):"videos"===b&&(k.find("#ivVideoList").show(),k.find("#ivThumbs").hide(),"chromeful-video"!==
l.type?k.find("#ivVideoList_0").click():k.find("#ivVideoList_"+l.index).click())})}function t(){var a=k.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var d=e.width(),f=e.height();0<e.length&&(e[0].naturalWidth&&(d=e[0].naturalWidth),e[0].naturalHeight&&(f=e[0].naturalHeight));a.css("cursor","auto");d=0===d?1:d;f=0===f?1:f;var h=Math.min(b/d,c/f),l=f*h,p=d*h;1>h?(gb?a.css("cursor","url('"+g.staticImages.zoomIn+"'), auto"):(a.css("cursor",
"-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Na=!0):Na=!1;d=Math.min(p,d);f=Math.min(l-20,f);e.css({"margin-top":(c-f)/2,"margin-left":(b-d)/2,height:f,width:d});a.css("visibility","visible");Ma=!1}function K(a){var b=k.find("#ivLargeImage");b.css("visibility","hidden");b.empty();x.animateStageIn(b);b.append(a);t()}function D(){db&&db.pause();k.find("#ivLarge360").css("display","none");k.find("#ivLargeVideo").css("display","none");k.find("#ivLargeImage").css("display",
"none");B()}function N(b){D();k.find("#ivLargeImage").css("display","block");var e;"hero-image"===b?c.isDefined(U)&&(e=fa(U[l.index])):c.isDefined(ja)&&(e=fa(ja[l.index]));if(c.isDefined(e)){k.find(".fullscreen").remove();var d=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),ta=k.find("#ivLargeImage");x.animateStageOut(ta,function(){d.load(function(){K(d)});if(d[0].complete)K(d);else{ta.empty();var b=(ta.height()-104)/2,c=(ta.width()-80)/2;a("\x3cimg\x3e").attr("src",g.staticImages.spinner).css({position:"relative",
top:b+"px",left:c+"px"}).appendTo(ta)}})}}function M(){var a;c.isDefined(ea)&&(a=ea[l.index]);c.isDefined(a)&&D()}function E(){ka();var a="hero-image"===l.type?k.find("#ivHeroImage_"+l.index):"image"===l.type?k.find("#ivImage_"+l.index):"chromeful-video"===l.type||"chromeless-video"===l.type?k.find("#ivVideo_"+l.index):"360-spin"===l.type?k.find("#iv360"):c.isDefined(U)?k.find("#ivHeroImage_"+l.index):k.find("#ivImage_"+l.index);c.isjQueryObjDefined(a)||(a=k.find("#ivImage_0"));H(a)}function H(a){k.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivThumbVideo")?(l.type="chromeful-video",l.index=a.attr("id").split("_")[1],M()):a.hasClass("ivHeroImage")?(l.type="hero-image",l.index=a.attr("id").split("_")[1],N(l.type)):a.hasClass("iv360Image")?(l.type="360-spin",l.index=0,Z()):(l.type="image",l.index=a.attr("id").split("_")[1],N(l.type))}function Z(){D();k.find("#ivLarge360").css("display","block");G();var a=k.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});x.animateStageIn(a)},
200);V();q.postCountMetric("dppc_click360");Aa=Date.now()}function B(){0<Aa&&(r("dppc_duration360",Date.now()-Aa),Aa=0)}function r(a,b){F.ue&&F.ue.count(a,b)}function V(){if(0<va){var a=k.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function I(b,c){if(va<b.length){var e=a("\x3cimg /\x3e").css({display:"block",width:6*sa+"px",height:xa+"px"});e.hide();c.append(e);e.get(0).onload=function(){c.closest(document.documentElement).length&&(va++,1===va&&(V(),0<Aa&&r("dppc_loadTime360",
Date.now()-Aa)),0<$a&&r("dppc_perSpriteloadTime360",Date.now()-$a),k.find("#iv360Spinner").hide(),e.show(),Ka=5*Y.imageLocations[Math.floor(Ja/Y.imageLocations[0].length)][Ja%Y.imageLocations[0].length],I(b,c))};e.attr("src",b[va].replace(/(\._SP)\d+(,)\d+/,"$1"+za+"$2"+ya));$a=Date.now()}}function z(a){if(c.isDefined(Y.spriteWidthSizes)&&0<Y.spriteWidthSizes.length){var b=Y.spriteWidthSizes,e=b.length,d=b[0],g=b[e-1];if(a<=d)return d;if(a>g)return g;for(d=0;d<e;d++)if(a>b[d]&&a<=b[d+1])return b[d+
1]}else return a}function G(){var b=k.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",g.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",
transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ya=!0,m())}function m(){if(c.isDefined(Y.spriteURLs)&&c.isDefined(k)&&Ya&&!Za){var b=k.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(Y.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",Y.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(g.staticStrings.dragToSpin).appendTo(d);
d.appendTo(b);d=Y.imageWidth;var f=Y.imageHeight,h=b.parent().width(),l=b.parent().height(),n=0,m=0;d/f>h/l?(za=z(h),ya=Math.round(f/d*za),sa=Math.ceil(h),xa=Math.ceil(ya/za*h),m=(l-xa)/2):(ya=z(l),za=Math.round(d/f*ya),xa=Math.ceil(l),sa=Math.ceil(za/ya*l),n=(h-sa)/2);b.css({"margin-left":n,"margin-top":m,width:sa+"px",height:xa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*sa+"px");I(Y.spriteURLs,k.find("#image-360-sprites"),0);d=k.find("#ivLarge360");
d.bind("mousedown",w);d.bind("touchstart",p);d.bind("touchmove",W);d.bind("touchend",e);a(document).bind("mousemove",O);a(document).bind("mouseup",v);c.isDefined(g.staticImages.grab)&&b.css("cursor","url('"+g.staticImages.grab+"'), auto");Za=!0}}function p(a){A=!0;Xa=a.originalEvent.targetTouches[0].clientX}function W(a){A&&(n(a.originalEvent.targetTouches[0].clientX-Xa),Xa=a.originalEvent.targetTouches[0].clientX)}function e(a){A&&(A=!1)}function w(a){La=!0;Wa=a.originalEvent.clientX;c.isDefined(g.staticImages.grabbing)&&
(a=k.find("#ivLarge360"),a.css("cursor","url('"+g.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+g.staticImages.grabbing+"'), auto"));return!1}function O(a){La&&(n(a.originalEvent.clientX-Wa),Wa=a.originalEvent.clientX)}function v(a){La&&(La=!1,c.isDefined(g.staticImages.grab)&&(a=k.find("#ivLarge360"),a.css("cursor","url('"+g.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function n(a){for(a=Ka-=a/sa*180;0>a;)a+=
360;for(;360<a;)a-=360;Ka=a;a=360;for(var b=0;b<va;b++)for(var d=0;d<Y.imageLocations[b].length;d++){var e=Math.abs(Ka-5*Y.imageLocations[b][d]);if(e<a){a=e;var g=b*Y.imageLocations[0].length+d}}g!==Ja&&(a=Math.floor(g/Y.imageLocations[0].length),a!==Math.floor(Ja/Y.imageLocations[0].length)&&(c.isDefined(ab)||(ab=document.createElement("canvas").getContext("2d")),b=k.find("#image-360-sprites").children(),ab.drawImage(b[a],0,0)),a=k.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),
a.animate({opacity:0},750)));Ja=g;a=g%Y.imageLocations[0].length*-1*sa;g=-1*Math.floor(g/Y.imageLocations[0].length)*xa;b=k.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+g+"px, 0)");b.css("transform","translate3d("+a+"px, "+g+"px, 0)")}function P(){k.delegate(".ivThumb","click",function(){var b=a(this);H(b)});k.delegate(".ivThumbVideoListOuter","click",function(){k.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");
l.type="chromeful-video";l.index=b.attr("id").split("_")[1];M()})}function L(){k.find("#ivLargeImage").empty();B()}function ca(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function S(b){var c=wa.left-(b.pageX-Qa[0])*Pa;f.capabilities.rtl&&(c=wa.left-(a(F).width()-b.pageX-Qa[0])*Pa);b=wa.top-(b.pageY-Qa[1])*Pa;c=ca(c,Oa.left);b=ca(b,Oa.top);k.find(".fullscreen").css({left:c,top:b})}function ha(){k.delegate("#ivLargeImage","click",function(a){if(Ma)t();else if(Na){k.find(".fullscreen").removeAttr("style");
if(Na){var b=k.find("#ivLargeImage"),c=b.find(".fullscreen");gb?b.css("cursor","url('"+g.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ma=!0;var d=k.find("#ivLargeImage");Oa.left=d.width()-c.width();Oa.top=d.height()-c.height();d=b.height()/2;var e=b.width()/2;Qa=[b.offset().left+e,b.offset().top+d];wa.top=d-c.height()/2;wa.left=e-c.width()/2;c.css({position:"relative",left:wa.left,top:wa.top});Pa=Math.max(c.height()/
b.height(),c.width()/b.width())}S(a)}});k.delegate("#ivLargeImage","mousemove",function(a){Ma&&S(a)})}function ia(e){if(c.isImmersiveViewEnabled(g,X.getCurrentItem().color))if(cb){var h=e.$event.originalEvent;h.acknowledge&&h.acknowledge(e.$currentTarget[0]);fb=c.isDefined(e)&&"button-360-click"===e.action;C.isEnabled&&u.logImmersiveViewRequestServed(C);q.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(da))da.show();else{e=a("#auiImmersiveViewDiv");h=a(F).height()-150;var l=a(F).width()-
75;da=cb.create(e,{name:"immersiveView",activate:"onclick",width:l,height:h,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(bb){k=a("#ivMain");e=X.getCurrentItem().color;ja=g.colorImages[e];U=g.heroImage[e];ea=g.useChildVideos?g.colorToVideo[e]:g.videos;eb=qa()&&g.spin360ColorEnabled[e];Y=qa()?g.spin360ColorData[e]:la;ka();b=aa=d=ba=0;c.isDefined(U)&&(aa=U.length);c.isDefined(ja)&&(ba=ja.length);c.isDefined(ea)&&(d=ea.length);eb&&(b=1);x.populateTitle(k.find("#ivTitle"),45,g);x.populateVariationSelection(k.find("#ivVariationSelection"));
e=k.find("#ivMediaSelect");0===ba+b||0===d?(e.parent().hide(),k.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(g.staticStrings.allMedia+" ("+(aa+ba+b+d)+")").appendTo(e),a("\x3coption/\x3e").attr("value","images").text(g.staticStrings.images+" ("+(aa+ba+b)+")").appendTo(e),a("\x3coption/\x3e").attr("value","videos").text(g.staticStrings.videos+" ("+d+")").appendTo(e),e.parent().show(),e.val("all"));e=k.find("#ivThumbs");
e.find(".ivRow").not(".placeholder").remove();h=aa+ba+d+b;for(var p=l=0;l<h;)for(var n=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),m=0;3>m&&l<h;m++,l++,p++)if(p<aa){var w=U[l].thumb,r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+l).appendTo(n);r.find(".ivThumbImage").css("background",'url("'+x.getResizedThumbnailURL(w)+'") center no-repeat')}else if(p>=aa&&p<ba+aa)w=ja[l-aa].thumb,r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(l-aa)).appendTo(n),r.find(".ivThumbImage").css("background",'url("'+x.getResizedThumbnailURL(w)+'") center no-repeat');else if(p>=aa+ba&&p<ba+aa+b)r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(n),r.find(".ivThumbImage").css("background",'url("'+(c.isDefined(g.staticImages.icon360)?x.getResizedThumbnailURL(g.staticImages.icon360,!0):"")+'") center no-repeat');else if(w=ea[l-ba-aa-b],r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(l-ba-aa-b)).appendTo(n),r.find(".ivThumbImage").css("background",'url("'+w.thumbUrl+'") center no-repeat'),c.isDefined(w)){var t={position:"triggerTop"},W=k.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");W.find(".ivVideoPopoverTitle").text(w.title);W.find(".ivVideoPopoverDuration").text(w.durationTimestamp);t.inlineContent=W[0];f.declarative.create(r,"a-tooltip",t)}e=k.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();
h=e.find(".placeholder");for(l=0;l<d;l++)p=ea[l],n=h.clone().removeClass("placeholder").appendTo(e),n.attr("id","ivVideoList_"+l),n.find(".ivThumbImage").css("background",'url("'+p.thumbUrl+'") center no-repeat'),n.find(".ivThumbTitle").text(p.title),n.find(".ivThumbDuration").text(p.durationTimestamp);k.find("#ivLarge360").empty();va=0;bb=Za=Ya=!1;Fb()}}else F.performance&&performance.now&&F.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+
1);else q.postCountMetric("immersiveViewNotExistsClickCount")}function h(a){var b=g.colorToAsin[a],e={},d=500;if(b&&b.asin){e.params={asin:b.asin};var l="360"+b.asin,f=Date.now();e.success=function(b){r("dppc_asyncRequestTime360",Date.now()-f);b&&c.isDefined(b.spin360.spin360Model)?(c.ajaxState(l,"success"),g.spin360ColorData[a]=b.spin360.spin360Model,a===X.getCurrentItem().color&&(Y=g.spin360ColorData[a],m())):e.error()};e.error=function(){q.postCountMetric("dppc_asyncFailed360");r("dppc_asyncRequestTime360",
Date.now()-f);d*=2;16E3>=d?setTimeout(function(){f=Date.now();y.load("/gp/product/features/apparel-main-image/360.html",e)},d):c.ajaxState(l,"fail")};c.ajaxState(l)&&"fail"!==c.ajaxState(l)||(y.load("/gp/product/features/apparel-main-image/360.html",e),c.ajaxState(l,"sent"))}}function qa(){return c.isDefined(g.spin360ConfigEnabled)&&g.spin360ConfigEnabled}var oa,g,X,Q,da,k,U,ja,ea,aa,ba,d,b,l,db,Y,eb,sa,xa,ya,za,Wa,Xa,fb=!1,Ya=!1,Za=!1,Ka=0,Ja=0,Aa=0,$a=0,La=!1,A=!1,va=0,ab,gb=navigator.userAgent.match(/msie|trident/i),
bb=!0,Ma=!1,Na=!1,Oa={},wa={},Pa,Qa,cb;J.when("a-modal").execute(function(a){cb=a});var Fb=f.once(function(){T();P();ha();f.on("a:popover:afterUpdatePosition:immersiveView",R);f.on("a:popover:afterShow:immersiveView",E);f.on("a:popover:afterHide:immersiveView",L);na()});return function(b,e,d,l){oa=this;g=b;X=e;C.refToModel=X;Q=l;qa()&&(g.spin360ColorData[g.landingAsinColor]=g.spin360ColorData[g.defaultColor],g.spin360ColorEnabled[g.landingAsinColor]=g.spin360ColorEnabled[g.defaultColor]);c.isDefined(g.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",x.addStyleCodeToURL(g.staticImages.icon360,"_FMpng_RI_"));oa.render=function(a,b,e,d,l,p){bb=!0;qa()&&g.spin360ColorEnabled[a]&&!c.isDefined(g.spin360ColorData[a])&&(g.spin360ColorData[a]={},h(a));c.isImmersiveViewEnabled(g,X.getCurrentItem().color)&&qa()&&g.spin360ColorEnabled[a]&&(b===g.maxAlts&&(a=d.find(".item.imageThumbnail"),e=d.find(".item.videoThumbnail"),c.isDefined(e)&&1<e.length?e.last().remove():a.last().remove(),
b--),a=d.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),f.declarative.create(a,"button-360-click"),d.append(a),b++,q.postCountMetric("dppc_display360"));return b};oa.update=function(a){};c.isImmersiveViewEnabled(g,X.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");Q.register("imageClick",ia);Q.register("button360Click",ia);Q.register("captionClick",ia)}});"use strict";J.when("A","jQuery","imageBlockUtils","ImageBlockLoader",
"nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(f,a,c,y,q,C,u,x,J){function F(){var b=a("#iv360Tab").height();v.css("height",b);var e=v.find("#ivTitle360").outerHeight(!0),c=v.find("#ivVariationSelection360").outerHeight(!0),d=v.find("#ivThumbs360"),g=u.getDimension(d,"margin-top")+u.getDimension(d,"margin-bottom");d.css("height",b-e-c-g);b=v.find("#ivStage360");e=v[0]&&v[0].getBoundingClientRect&&
Math.floor(v[0].getBoundingClientRect().width)||v.width();b.css("width",e-u.getDimension(v,"padding-left")-u.getDimension(v,"padding-right")-v.find("#ivThumbColumn360").width()-u.getDimension(b,"margin-left")-u.getDimension(b,"margin-right"))}function fa(){K();var a=v.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});u.animateStageIn(a)},200);R()}function R(){if(0<U){var a=v.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function T(b,
c){if(U<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*P+"px",height:L+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(U++,1===U&&(R(),0<X&&(q.time("dppc_loadTime360",Date.now()-X,e.mediaAsin),C.postTimeMetric("dppc_loadTime360",Date.now()-X))),0<Q&&(q.time("dppc_perSpriteloadTime360",Date.now()-Q,e.mediaAsin),C.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-Q)),v.find("#iv360Spinner").hide(),d.show(),oa=5*n.imageLocations[Math.floor(g/
n.imageLocations[0].length)][g%n.imageLocations[0].length],T(b,c))};d.attr("src",b[U].replace(/(\._SP)\d+(,)\d+/,"$1"+S+"$2"+ca));Q=Date.now()}}function t(a){if(c.isDefined(n.spriteWidthSizes)&&0<n.spriteWidthSizes.length){var b=n.spriteWidthSizes,e=b.length,d=b[0],g=b[e-1];if(a<=d)return d;if(a>g)return g;for(d=0;d<e;d++)if(a>b[d]&&a<=b[d+1])return b[d+1]}else return a}function K(){var b=v.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),
b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",e.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),h=!0,D())}function D(){if(c.isDefined(n.spriteURLs)&&c.isDefined(v)&&h&&!qa){var b=v.find("#ivLarge360"),
d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(n.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",n.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(e.staticStrings.dragToSpin).appendTo(d);d.appendTo(b);d=n.imageWidth;var g=n.imageHeight,f=b.parent().width(),p=b.parent().height(),k=0,m=0;d/g>f/p?(S=t(f),ca=Math.round(g/
d*S),P=Math.ceil(f),L=Math.ceil(ca/S*f),m=(p-L)/2):(ca=t(p),S=Math.round(d/g*ca),L=Math.ceil(p),P=Math.ceil(S/ca*p),k=(f-P)/2);b.css({"margin-left":k,"margin-top":m,width:P+"px",height:L+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*P+"px");T(n.spriteURLs,v.find("#image-360-sprites"),0);d=v.find("#ivLarge360");d.bind("mousedown",H);d.bind("touchstart",N);d.bind("touchmove",M);d.bind("touchend",E);a(document).bind("mousemove",Z);a(document).bind("mouseup",
B);c.isDefined(e.staticImages.grab)&&b.css("cursor","url('"+e.staticImages.grab+"'), auto");qa=!0}}function N(a){k=!0;ia=a.originalEvent.targetTouches[0].clientX}function M(a){k&&(r(a.originalEvent.targetTouches[0].clientX-ia),ia=a.originalEvent.targetTouches[0].clientX)}function E(a){k&&(k=!1)}function H(a){da=!0;ha=a.originalEvent.clientX;c.isDefined(e.staticImages.grabbing)&&(a=v.find("#ivLarge360"),a.css("cursor","url('"+e.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+e.staticImages.grabbing+"'), auto"));return!1}function Z(a){da&&(r(a.originalEvent.clientX-ha),ha=a.originalEvent.clientX)}function B(a){da&&(da=!1,c.isDefined(e.staticImages.grab)&&(a=v.find("#ivLarge360"),a.css("cursor","url('"+e.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function r(a){oa-=a/P*180;ea&&(q.count("dppc_360dragToSpin",e.mediaAsin),C.postCountMetric("dppc_360dragToSpin"));ea=!1;for(a=oa;0>a;)a+=360;for(;360<a;)a-=360;oa=a;a=360;for(var b=
0;b<U;b++)for(var d=0;d<n.imageLocations[b].length;d++){var f=Math.abs(oa-5*n.imageLocations[b][d]);if(f<a){a=f;var h=b*n.imageLocations[0].length+d}}h!==g&&(a=Math.floor(h/n.imageLocations[0].length),a!==Math.floor(g/n.imageLocations[0].length)&&(c.isDefined(ja)||(ja=document.createElement("canvas").getContext("2d")),b=v.find("#image-360-sprites").children(),ja.drawImage(b[a],0,0)),a=v.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));
g=h;a=h%n.imageLocations[0].length*-1*P;h=-1*Math.floor(h/n.imageLocations[0].length)*L;b=v.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+h+"px, 0)");b.css("transform","translate3d("+a+"px, "+h+"px, 0)")}function V(){if(ba){v=a("#ivMain360");var b=w.getCurrentItem().color;z()&&G(b);n=z()?e.spin360ColorData[b]:la;u.populateTitle(v.find("#ivTitle360"),160,e);u.populateVariationSelection(v.find("#ivVariationSelection360"));v.find("#ivLarge360").empty();
U=0;qa=h=!1;g=oa=0;d();ba=!1}0!==a("#iv360Tab").height()&&(u.detachImmersiveViewResizeHandler(V),F(),fa(),X=Date.now(),aa=ea=!0,q.count("dppc_click360",e.mediaAsin),C.postCountMetric("dppc_click360"))}function I(a,d,g){a=e.colorToAsin[g];var b={},f=500;if(!a||!a.asin)if(g===e.defaultColor)a={asin:e.winningAsin};else return;b.params={asin:a.asin};var h="360"+a.asin,p=Date.now();b.success=function(a){q.time("dppc_asyncRequestTime360",Date.now()-p,e.mediaAsin);C.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-p);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&x.setData(a),c.ajaxState(h,"success")):b.error()};b.error=function(){q.count("dppc_asyncFailedTransient360",e.mediaAsin);C.postCountMetric("dppc_asyncFailedTransient360");q.time("dppc_asyncRequestTime360",Date.now()-p,e.mediaAsin);C.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);f*=2;16E3>=f?setTimeout(function(){p=Date.now();y.load("/gp/product/features/apparel-main-image/360.html",b)},f):(q.count("dppc_asyncFailed360",
e.mediaAsin),C.postCountMetric("dppc_asyncFailed360"),c.ajaxState(h,"fail"))};c.ajaxState(h)&&"fail"!==c.ajaxState(h)||(y.load("/gp/product/features/apparel-main-image/360.html",b),c.ajaxState(h,"sent"))}function z(){return e&&c.isDefined(e.spin360ConfigEnabled)&&e.spin360ConfigEnabled}function G(a){return c.isDefinedAndNotEmpty(e.spin360ColorData[a])?!0:c.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled}function m(){aa&&(q.time("dppc_duration360",Date.now()-X,e.mediaAsin),C.postTimeMetric("dppc_duration360",
Date.now()-X),aa=!1)}function p(a){a=e.colorToAsin[a.color]&&e.colorToAsin[a.color].asin;a||(a=e.mediaAsin);return a}var W,e,w,O,v,n,P,L,ca,S,ha,ia,h=!1,qa=!1,oa=0,g=0,X=0,Q=0,da=!1,k=!1,U=0,ja,ea=!0,aa=!1,ba=!0,d=f.once(function(){u.attachImmersiveViewResizeHandler(V);u.attachImmersiveViewResizeHandler(F);u.attachImmersiveViewResetHandler(m);u.attachTabDeselectHandler("iv360Tab",m)});return function(b,d,g,h){W=this;e=b;w=d;O=h;b=e.landingAsinColor;d=e.defaultColor;c.isDefined(e.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",u.addStyleCodeToURL(e.staticImages.icon360,"_FMpng_RI_"));z()&&(e.spin360ColorData||(e.spin360ColorData={}),b===d&&c.isDefinedAndEmpty(e.spin360ColorData[d])&&delete e.spin360ColorData[d]);f.on(J.TWISTER_DATA_EVENT,function(a){p(w.getCurrentItem())===a&&(n=x.getData(a),D(),a={type:"updatedData",data:w.getCurrentItem()},O.dispatch("updateView",a))});W.render=function(b,d,g,h,k,l){ba=!0;!z()||c.isDefinedAndEmpty(e.spin360ColorData[b])&&
!x.getData(p(w.getCurrentItem()))?u.hideTabHeading("iv360TabHeading"):(e.spin360ColorData[b]=x.getData(p(w.getCurrentItem())),c.isDefinedAndNotEmpty(e.spin360ColorData[b])?(a("#ivThumbs360").hide(),u.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(e,w.getCurrentItem().color)&&z()&&G(b)&&(d===e.maxAlts&&(b=h.find(".item.imageThumbnail"),g=h.find(".item.videoThumbnail"),c.isDefined(g)&&1<g.length?g.last().remove():b.last().remove(),d--),b=h.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
f.declarative.create(b,"button-360-click"),h.append(b),q.count("dppc_display360",e.mediaAsin),C.postCountMetric("dppc_display360"))):c.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled?(e.spin360ColorData[b]={},u.hideTabHeading("iv360TabHeading"),I(h,d,b)):u.hideTabHeading("iv360TabHeading"))};W.update=function(a){};u.attachTabSelectHandler("iv360Tab",V)}});J.register("nexusLogger360",function(){return{count:function(f,a){F.ue&&F.ue.event({asin:a,metricName:f,metricValue:1},"hit-360",
"hit360.clientEvent.3")},time:function(f,a,c){F.ue&&F.ue.event({asin:c,metricName:f,metricValue:a},"hit-360","hit360.clientEvent.3")}}});J.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});J.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(f,a){var c={};return{setData:function(y){var q=y.asin;c[q]||(c[q]=y,f.trigger(a.TWISTER_DATA_EVENT,q))},getData:function(a){return c[a]}}});"use strict";J.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(f){function a(){this.render=function(){};this.update=function(){}}return function(c,y,q,C){var u=!1,x=new a;J.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==la&&(u=!0,x=new a(c,y,q,C))});c&&!0===c.showroomEnabled&&!1===u&&f.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return x}});"use strict";J.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(f,a,c,y,q,C,u){function x(a){M=a.player;y.postTimeMetric("vse_ib_desktop_player_initialisation_duration",f.now()-m);t.imageBlockRenderingStartTime&&y.postTimeMetric("vse_ib_desktop_time_to_player_interactive",f.now()-t.imageBlockRenderingStartTime);I&&ka()}function J(){f.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function F(a){E=a.popover.$popover;I=!0;ka()}function ka(){if(I&&M){E.addClass(f.$(E).find(".vse-lb-container").data("cssClass"));var a=N;z&&(a=G,z=!1);f.trigger("vse:detailpage-imageblock:page:lightBoxOpened",
{lightBoxId:"ivVideoBlock",assetSpec:a});y.postCountMetric("dpcc_vse_videoBlock_video_played");setTimeout(function(){f.$("#ivVideoBlock").closest(".a-popover.a-popover-modal").css({height:"",width:"","max-height":"","max-width":""})},2500)}}function R(a){document.getElementsByClassName("videoBlockIngress")[0].click();G=a;z=!0}var T,t,K,D,N,M,E,H,Z,B,r,V,I=!1,z=!1,G,m=0,p=function(c,f,p){q.isPreloadCallCompleted=!0;y.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+f.placement);a("#ivVideoBlockView").css({"max-width":NaN,
margin:"0 auto"})},W=function(a,c,f){q.isPreloadCallCompleted=!0};return function(a,w,u,v){T=this;t=a;K=w;T.render=function(a,e,w,u,v,x){a=K.getCurrentItem().color;e=c.getVideoHash(a,0,t);!0===x?H=t.mediaAsin:(H=t.colorToAsin[a]&&t.colorToAsin[a].asin,H=c.isDefined(H)?H:t.mediaAsin);Z=!0===t.useVSEVideos?"VIDEO_ID":"physicalID";B=t.contentWeblab;r=t.contentWeblabTreatment;V=t.parentAsin||"";-1===e?q.hideTabHeading("ivVideoBlockView"):(q.unhideTabHeading("ivVideoBlockView"),D={page:"DetailPage",clientPrefix:"detailpage-imageblock",
placement:"ImageBlock",device:"Desktop",marketplaceID:e.marketPlaceID,locale:e.languageCode,product:{contentID:H,contentIDType:"ASIN",parentContentID:V,parentContentIDType:"ASIN"},video:{contentID:e.mediaObjectId,contentIDType:Z,videoURL:e.url,imageURL:e.slateUrl,rankingStrategy:e.rankingStrategy},requestId:t.dpRequestId,weblabContext:[{name:B,assignment:r,ignoreForG2S2Key:!0}],metadata:{ProductTitle:t.title}},N={videoUrl:D.video.videoURL,contentId:D.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(void 0)?
void 0:f.now(),imageUrl:D.video.imageURL,productAsin:D.product.contentID,rankingStrategy:D.video.rankingStrategy,index:0},c.isDefinedAndNotEmpty(M)&&(M.destroy(),M=null),m=f.now(),C.get(f,"#ivVideoBlockView",D,W,p))};T.update=function(a){};f.on("vsePlayer-detailpage-imageblock",x);f.on("a:popover:afterShow:immersiveViewVideos",F);f.on("a:popover:beforeHide:immersiveViewVideos",J);f.on("a:popover:afterHide:immersiveViewVideos",function(){I=!1});f.on("detailpage-imageblock-leave-pip",R)}});"use strict";
J.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",function(f,a,c,y,q){function C(c,f){if(c){V=Z.getCurrentItem();0==Object.entries(m).length&&u();var e=V.shoppableScene;e==la?(c=M(Object.values(m)[0]),e=Object.values(m)[0].shoppableScene):c=M(r[V.index]);G=e.physicalId;var p=a(".shoppable-scene-image-block-placeholder-in-iv");if(0<p.length){var q=a("\x3cimg\x3e");q.attr("id","shoppableSceneIvImage");q.attr("src",c);
q.css({"max-height":"500px","max-width":"650px"});p.replaceWith(q);c=x(e);e=a(".shoppable-scene-image-block-tags-in-iv");e.empty();c.appendTo(e)}else B.hide(),t();na();c=V.shoppableScene?V.shoppableScene:Object.values(m)[0].shoppableScene;ka(c);K(f,I,null,G)}}function u(){r=H.colorImages[V.color];I=H.colorToAsin[V.color].asin;r.forEach(function(a){a.shoppableScene!=la&&(m[a.shoppableScene.physicalId]=a)})}function x(c){var p=a("\x3cspan\x3e");f.each(c.tags,function(e){var m=a("\x3cdiv\x3e").css({position:"absolute",
left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});m.append(F(!1));m.append(F(!0));f.declarative.create(m,"scenes-show-details-tags-ib-iv-click",{tagId:e.link,physicalId:c.physicalId});p.append(m)});return p.children()}function F(c){var f=a("\x3cimg src\x3d'"+(c?H.staticImages.shoppableSceneDotHighlighted:H.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:c?"none":"inline-block"});f.addClass("mirai-scene-tag-in-iv").addClass(c?"active-tag":"inactive-tag");return f}
function na(){var c=a(".ivBottomThumbImagesShoppableScene");c.empty();Object.keys(m).forEach(function(p){var e=m[p],q=a("\x3cimg\x3e");e=M(e);q.attr("id","shoppable-scene-thumbnail-"+p);q.attr("src",e);q.addClass("shoppable-scene-thumbnail");f.declarative.create(q,"scenes-thumbnail-ib-iv-click",{physicalId:p});q.appendTo(c)})}function ka(a){N();J.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){f.trigger("mirai:scene-immersive-recommendation-col-init",
{scene:a})})}function R(a,c){N();J.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){f.trigger("mirai:scene-immersive-recommendation-col-update",{tagId:a,physicalId:c})})}function T(){var c=m[G].shoppableScene,f=a(".shoppable-scene-image-block-tags-in-iv");f.hide();c=x(c);f.empty();c.appendTo(f);f.show();B.show()}function t(){var c=M(m[G]),f=a("#shoppableSceneIvImage");f.bind("load",T);f.attr("src",c)}function K(a,c,e,m){var p="shoppable-scene-dp-iv:mirai:"+
a;J.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){f.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,csmCounterName:p,asin:c,tagId:e,physicalId:m})})}function D(){var c=a(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");c.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");f.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},3600)}function N(){var c=a("#shoppable-scene-iv-recommendation-waiting-spinner");
0<c.length&&c.remove();c=a("#shoppableSceneRecommendationColumn");a(".shoppable-scene-recommendation-iv").hide();var f=a("\x3cimg\x3e");f.attr("id","shoppable-scene-iv-recommendation-waiting-spinner");f.attr("src",H.staticImages.spinner);f.css({position:"relative"}).appendTo(c)}function M(a){return a.hiRes||a.large||a.main[a.main.length-1]}var E=void 0,H=void 0,Z=void 0,B=void 0,r=void 0,V=void 0,I=void 0,z=void 0,G=void 0,m={};f.declarative("shoppable-scene-image-click","click",function(a){C(!0,
"IMAGE_BLOCK_SHOPPABLE_SCENE")});f.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var c=a.$currentTarget;if(null!=z){var e=z.find(".active-tag"),f=z.find(".inactive-tag");e.css({display:"none"});f.css({display:"inline-block"})}e=c.find(".active-tag");f=c.find(".inactive-tag");e.css({display:"inline-block"});e.addClass("mirai-scene-dot-pulsate");f.css({display:"none"});z=c;D();R(a.data.tagId,a.data.physicalId);K("IMMERSIVE_VIEW_PRODUCT_TAG",I,a.data.tagId,a.data.physicalId)});
f.declarative("scenes-thumbnail-ib-iv-click","click",function(a){G=a.data.physicalId;t();ka(m[G].shoppableScene)});return function(c,f,e,m){E=this;H=c;Z=f;B=a("#ivMainShoppableScene");E.render=function(a,c,e,f,m,p){};E.update=function(a){};(c=document.getElementById("ivShoppableSceneHeading"))&&c.addEventListener("click",function(a){a=Z.getCurrentItem();C(null==V||V.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(h){var g=window.AmazonUIPageJS||window.P,k=g._namespace||g.attributeErrors,a=k?k("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):g;a.guardFatal?a.guardFatal(h)(a,window):a.execute(function(){h(a,window)})})(function(h,g,k){h.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,b){try{var c=a.$,d=c("#featurebullets_feature_div"),m=c("#productOverview_feature_div");if(d&&0<d.length&&(b.postCountMetric("FeatureBulletsRendered.GV"),m&&
0<m.length)){b.postCountMetric("FeatureBulletsRenderedWithPO.GV");var e=c("#featurebullets_feature_div .a-expander-container");e&&0<e.length&&"feature-bullets-expander"===e.data("aExpanderName")&&(b.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){b.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){b.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(n){h.log("Feature bullets metric logging failed with error: ( "+
n+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";h.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,b,c,d,m){var e=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,b=0,f;for(f in a)a[f]&&a[f].length&&(b+=a[f].length);a="image_size_bucket:gt"+e[e.length-1];for(f=1;f<e.length;f++)if(b<=e[f]){a="image_size_bucket:"+e[f-1]+"-"+e[f];break}m.postCountMetric(a);d.addTag(a)})();(function(){var a=b.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,g.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=c.lazyLoadExperienceDisabled;d.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),d.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";h.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});h.register("postEarlyMetric",function(){return null});"use strict";h.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var b=g.ue;if(b){var c=b.count(a)||0;b.count(a,c+1)}}},postTimeMetric:function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b){var c=g.ue;c&&c.count(a,b)}},emitNexusMetric:function(a){g.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.6",{ssd:!1})},buildNexusMetric:function(a,b,c,d,m,e,h,r,f,t){var n=10<arguments.length&&arguments[10]!==k?arguments[10]:"",p="",q=r||"";try{p=g.location.href;var l=p.match(/\/dp\/([A-Z0-9]{10})|\/gp\/product\/([A-Z0-9]{10})|\/gp\/aw\/d\/([A-Z0-9]{10})/);
l&&(l[1]||l[2]||l[3])&&(q=l[1]||l[2]||l[3])}catch(u){(l=g.ue)&&l.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",placementContext:t,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+b,videoAsin:c,videoAsinList:n,rankingStrategy:d===k?"":d,groupType:e===k?"":e,pageUrl:p,pageAsin:q,weblabIds:f===k?"":f,customerId:m||""}}}});"use strict";h.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,c){var d=
a.state("desktop-landing-image-data");d&&(d=a.values(d),b=b.getResourceTimeByName("img",d),a.each(b,function(a){a&&(a.responseEnd!=k&&c.postCountMetric("ibDesktopLandingImageDownloadTime",g.parseInt(a.responseEnd)),a.transferSize!=k&&(0===a.transferSize?c.postCountMetric("ibDesktopLandingImageCached",1):(c.postCountMetric("ibDesktopLandingImageSizeInBytes",g.parseInt(a.transferSize)),c.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict"});
/* ******** */
(function(l){var h=window.AmazonUIPageJS||window.P,p=h._namespace||h.attributeErrors,d=p?p("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):h;d.guardFatal?d.guardFatal(l)(d,window):d.execute(function(){l(d,window)})})(function(l,h,p){l.when("A","jQuery").execute(function(d,g){d.on("a:image:load:landingImage",function(){h.performance&&performance.now&&h.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});d.loadDynamicImage(g("#landingImage"))});"use strict";
l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(d,g){function k(a,c){if(c.repositionHeroImage){c=a[1];a=a[0];if(768>=(h.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((h.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function e(a,c,b){if(b.repositionHeroImage){var d=h.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;b=b.heroFocalPoint;if(g.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var f=Math.max((d-a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-f+(d-420-23)/2-a/c[1]*b}}return e}function f(a,c,b){a=a.heroImage;return!(g.isDefined(a)&&g.isDefined(a[c])&&g.isDefined(a[c][b])&&g.isDefined(a[c][b].main))||1>d.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:f,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!g.isDefined(b)){b=f(a,
c.color,c.index);if(-1===b)return;c=d.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=e(c[0],b,a);return{height:c[1],width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(d,g,k){function e(a,c){var b=d.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){b=a.substring(0,-1===e?f:e);break}}}catch(m){b=
a.substring(0,c-3)}b+="..."}return b}function f(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){d.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){d.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){d.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){d.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){d.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){g("#"+a).hide()},unhideTabHeading:function(a){g("#"+a).show()},addStyleCodeToURL:f,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return f(a,b)},populateVariationSelection:function(a){if(k.isDefined(h.DetailPage)&&
k.isDefined(h.DetailPage.StateController)){a.empty();var c=h.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],f=c.selected_variations[e];e=c.variation_display_labels[e];f&&g("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+f).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(e(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,d){h.ueLogError&&h.ueLogError(d,{logLevel:a,attribution:c,message:b})},isPreloadCallCompleted:!1}});"use strict";l.when("A").register("ImageBlockLoader",function(d){return{load:function(g,k){k=k||{};k.timeout=k.timeout||4E3;d.ajax(g,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(d,g){l.register("vse_ns_preLoaderHook",function(){function k(e,f){try{var a=e.A,c=e.block,b=e.request,t=e.handleFailure,h=e.handleSuccess,
l=a.$;f--;var m=3-f-1,n=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(e){var f=a.now()-n;d.postTimeMetric("vse_preLoaderHook:success:",f);d.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);l(c).html(e);h(a,b,e)},error:function(c){d.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=
c.http.status&&599>=c.http.status)&&0<f?k(e,f):(d.postCountMetric("vse_preLoaderHook:error:",1),t(a,b,c))}})}catch(q){g.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(e,f,a){try{var c=e.A,b=e.context,h=e.handleFailure,l=e.handleSuccess;f.attr("data-configuration");var p=atob(f.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,
configuration:m},q=c.now();a--;var r=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lazyLoaderHook:success:",e);d.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+r);f.html(a);l(c,n,a)},error:function(g){d.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+r);(0===
g.http.status||500<=g.http.status&&599>=g.http.status)&&0<a?k(e,f,a):(d.postCountMetric("vse_lazyLoaderHook:error:",1),h(c,n,g))}})}catch(u){g.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(e,d,a,c,b){var f=e.$;f(d+" div[data-configuration]").each(function(){k({A:e,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(e,f,a){try{var c=e.A,b=e.block,h=e.request,l=e.handleFailure,p=e.handleSuccess,m=c.$;
a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lightPlayerLoaderHook:success:",e);d.postCountMetric("vse_lightPlayerLoaderHook:success:"+h.page+":"+h.placement+":"+n);m(b).html(a);p(c,h,a)},error:function(b){d.postCountMetric("vse_lightPlayerLoaderHook:error:"+h.page+":"+h.placement+":"+n);(0===
b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(e,a):(d.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(c,h,b))}})}catch(r){g.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",r)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(p){var v=window.AmazonUIPageJS||window.P,x=v._namespace||v.attributeErrors,b=x?x("DetailPagePaymentOptionsJavascript",""):v;b.guardFatal?b.guardFatal(p)(b,window):b.execute(function(){p(b,window)})})(function(p,v,x){"use strict";p.when("A","payment-options-constants").register("payment-options-client-side-metric",function(b,e){function f(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)}function k(b,a){d(e.metricPrefix,b,a)}function g(b,a){d(e.metricPrefixUFO,b,
a)}function d(b,a,d){if("undefined"!==typeof l&&"undefined"!==typeof l.count&&a&&b){if(d===x||null===d)d=1;b+=a;l.count(b,(l.count(b)||0)+d);"undefined"!==typeof v.csa&&(d=v.csa("Events",{producerId:"dp-rpcx"}),a=l.count(b),d("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:b,valueToLog:a},{ent:"all"}))}}function h(b){if(b)this.timerName=b,this.startTime=0;else throw Error("timerName must be non empty string");}function c(b){if(b)this.timerName=b,this.startTime=0;else throw Error("timerName must be non empty string");
}var l=v.ue;h.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&k(this.timerName,Date.now()-this.startTime)}};c.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&k(this.timerName,Date.now()-this.startTime)}};return{increment:function(b){k(b,1)},incrementWithValue:k,incrementWithValuePriceBlockMessaging:function(b,a){d(e.metricPrefixPriceblock,b,a)},logNexusEventForMonthlyPaymentSelection:function(b){if(v.ue&&
l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId=b.data.optionId;a.ranking=parseInt(b.data.executionInfo.offerRank);a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!0;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=
!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!0;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;l.event(a,e.nexus.producerId,e.nexus.schemaId,{ssd:!0});g("MonthlyPaymentSelection",
1)}},logNexusEventForComparePlansLink:function(b){if(v.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=
!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId=b.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!0;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;l.event(a,e.nexus.producerId,e.nexus.schemaId,
{ssd:!0});g("ComparePlansLink",1)}},logNexusEventForSwatchExpansion:function(b){if(v.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!1;
a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;l.event(a,e.nexus.producerId,
e.nexus.schemaId,{ssd:!0});g("SwatchExpansion",1)}},logNexusEventForComparePlansOfferSelection:function(b){if(v.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId=b.data.optionId;a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=
!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!0;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=
!1;l.event(a,e.nexus.producerId,e.nexus.schemaId,{ssd:!0});g("ComparePlansOfferSelection",1)}},logNexusEventForChangePlansLink:function(b){if(v.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;
a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId=b.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!0;a.isCheckboxSelected=!1;a.isCheckboxDeselected=
!1;a.isCancelPlanClicked=!1;l.event(a,e.nexus.producerId,e.nexus.schemaId,{ssd:!0});g("ComparePlansChangePlan",1)}},logNexusEventForCancelPlan:function(b){if(v.ue&&l.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=
b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=e.nexus.schemaId;a.producerId=e.nexus.producerId;a.messageId=f();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=
!1;a.isCancelPlanClicked=!0;l.event(a,e.nexus.producerId,e.nexus.schemaId,{ssd:!0});g("ComparePlansCancelPlan",1)}},Timer:h,TimerPriceBlockMessaging:c}});"use strict";p.when("A","payment-options-constants","payment-options-expander-actions","payment-options-client-side-metric").register("multi-card-exp-payment-options",function(b,e,f,k){function g(){k.increment("Expander:Auto:Collapse");var d=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection;
f.collapsePaymentOptions(d);b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1}function d(){if(document.getElementById("payment-options-expander-header")){var d=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander"));d.isAutoExpand=!0;d.forceExpand=!0;b.trigger("a:declarative:expand-payment-options-expander",{data:d})}}return function(){var f=b.$(e.selector.multiCardExperimentElement).data(e.selector.multiCardExperimentData);
if(!f||!f.treatment)return{};var c=b.$(e.selector.activeTPlusCards).val();if(!c||!c.length)return{};c=c.split(",");return{expTreatment:f.treatment,isFirstCard:c[0]===e.featureRegistration.featureName,collapseCard:g,autoExpandCard:d}}()});"use strict";p.when("A").register("payment-options-constants",function(b){return{featureRegistration:{featureName:"paymentOptions",featureAttribution:"C/T/I"},nexus:{producerId:"ufo-dev",schemaId:"ufo_dev.DPXAwarenessAndConversion.6"},validators:{itemType:"paymentOfferInfo",
offerTypes:["EQUAL_PAY","ONE_TIME_PAYMENT"],cartTypes:["ADD_TO_CART"],cardTypes:["PLCC"]},metricConstants:{skipLearnMoreMetricForDesktop:"skipLearnMoreMetricForDesktop"},parameters:{itemType:"paymentOfferInfo",selectionType:{ADD:"add",DELETE:"delete"},offerTypes:{equalPay:"EQUAL_PAY",oneTimePayment:"ONE_TIME_PAYMENT"},cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"},cardTypes:{plcc:"PLCC"}},paymentOfferInputElement:{inputType:"hidden",name:"paymentOfferInfo"},imagesToLoad:".payment-options-financing-option-card-image .payment-options-expander-heading-image-container .payment-options-side-sheet-header .payment-options-side-sheet-option-summary .payment-options-side-sheet-comparison-group-container .payment-options-comparison-sheet-comparison-card-option".split(" "),
ajaxStatusText:{timeout:"Request Timeout"},selector:{expanderContainer:".payment-options-container",skeletonLoader:".payment-option-skeleton-loader",twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",paymentOptionExpand:"payment-options-expander-content-expand",skeletonLoaderExpand:"payment-option-skeleton-loader-expand",checkmark:".payment-options-selected-checkmark",subtitle:".payment-options-subtitle",subtitleText:".payment-options-subtitle-text",cardImage:".payment-options-selected-card-image",expanderIcon:".payment-options-expander-icon",
toggleButton:"#payment-options-toggle-button",expanderContent:".payment-options-expander-content",swatch:".payment-options-swatch",oneTimePaymentOption:".payment-options-default-option",financingOptions:".payment-options-financing-option",financingOptionTitle:".payment-options-financing-option-title",swatchOption:".payment-options-option",swatchHeading:".payment-options-option-heading",selectedHeading:"payment-options-selected-heading",selectedOption:"payment-options-selected-option",unavailableOption:"payment-options-unavailable-option",
unselectedHeading:"payment-options-unselected-heading",swatchDetail:".payment-options-option-detail",refreshCCText:"#payment_options_refresh_cc_text",refreshToggle:"#payment_options_refresh_cc_text_container",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",sideSheetButton:".payment-option-side-sheet-comparison-button",selectedButton:"payment-option-side-sheet-comparison-button-selected",unselectedButton:"payment-option-side-sheet-comparison-button-unselected",
disabledSwatch:"payment-option-disabled",monthlyPaymentAction:"payment-options-monthly-payment-action",paymentOptionsWeblabs:"#payment-options-weblabs",paymentOptionsWeblabsAttribute:"data-enabled-weblabs",paymentOptionsDefaultPickupBuyingOptionData:"#payment-options-default-buyingOption-pickup",isBuyingOptionOverridePresentAttribute:"data-is-pickup-buying-option-override-present",pickUpBuyingOptionIndex:"data-pickup-buying-option-index",payPlanColumnSelector:".payment-plan-column-selector",paymentDetailColumnSelector:".payment-details-column-selector",
interestColumnSelector:".interest-column-selector",payPlanAplliesSelector:".pay-plan-applies-to-column-selector",cardRewardColumnSelector:".card-reward-column-selector",oneTimePaymentHeadButton:".payment-option-onetimepayment-button",paymentOptionApplicabilityMessageLayout:".payment-option-applicibility-message-layout",paymentOptionApplicabilityMessage:".payment-option-applicibility-message-layout .payment-option-applicibility-message",swatchActionButton:".payment-options-swatch-action-button",toggleExpanderButton:".toggle-payment-options-expander-button",
setDynamicHeight:{paymentPlanRow:{rowElementsSelector:".payment-options-payment-plan-head, .payment-option-payment-plan-row-value"},paymentOptionDetailsRow:{columnValueElementsSelector:".monthly-payment-table-payment-details-column-value",rowElementsSelector:".payment-option-payment-details-row-value, .payment-options-payment-details-head"},interestRow:{rowElementsSelector:".payment-option-interest-row-value, .payment-options-interest-head"},planAppliesToRow:{rowElementsSelector:".payment-options-plan-applies-to-head, .payment-option-plan-applies-to-row-value"}}},
comparePlansSelector:{comparePlansSidesheetSelector:"#compare-all-plans-sideSheet",comparePlansContentSelector:"#compare-all-plans-content",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#compare-all-plans-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".compare-plans-sidesheet-ajax-error",skeletonLoaderClass:".compare-plans-sidesheet-skeleton-loader",
comparePlansPaymentOptionSelector:".payment-plan-",comparePlansPaymentOptionWithLearnMoreSelector:".payment-plan-column-",comparePlansButtonIdSelector:"#monthlyPaymentOption",comparePlansColumnSelector:".payment-option-table-column",comparePlansColumnWithLearnMoreSelector:".payment-option-table-monthly-payments-column",comparePlansButtonSelector:".payment-option-side-sheet-comparison-button"},learnMoreSelector:{learnMoreSidesheetSelector:"#payment-option-learn-more-sideSheet",learnMoreContentSelector:"#payment-options-learn-more-ajax",
viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#payment-options-learn-more-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".learn-more-sidesheet-ajax-error",skeletonLoaderClass:".learn-more-sidesheet-skeleton-loader"},ajaxErrorReasons:{timeoutStatus:"Request Timeout"},classes:{hideSwatchMainViewClass:"payment-option-list-item-hidden",paymentOptionsList:".payment-options-list",
unavailableCompareAllPlansOption:"payment-options-comparison-sheet-unavailable-option",disabledComparisonPlanButton:"payment-option-comparison-sheet-disabled",auiDisabledButtonClass:"a-button-disabled",auiEnabledButtonClass:"a-button-normal",popOverHideClass:"popover-hide",popOverShowClass:"popover-show",colLeftRightBorder:"Payment-option-side-sheet-left-right-column-border",colTopBorder:"Payment-option-side-sheet-top-border",colBottomBorder:"Payment-option-side-sheet-bottom-border",cardRewardHideClass:"payment-options-card-reward-hide",
normalLeftBorder:"payment-option-column-normal-left-border",normalRightBorder:"payment-option-column-normal-right-border",selectedPaymentOptionBorder:"payment-option-selected-column-border",normalPaymentOptionBorder:"payment-option-column-normal-border",selectedButtonClass:"payment-option-side-sheet-comparison-button-selected",unselectedButtonClass:"payment-option-side-sheet-comparison-button-unselected",disabledPaymentOptionOrder:"payment-option-disabled-column-order",disabledPaymentOptionClass:"payment-option-disabled-column"},
animationTimeoutUnit:200,metricPrefix:"DPX:TwisterPlusCCCard:PaymentOptions:",metricPrefixPriceblock:"DPX:PriceBlockMessaging:PaymentOptions:",metricPrefixUFO:"DPX:UnifiedFinancingOffers:PaymentOptions:",classSelector:".",disabledPaymentOptionSelecter:"titleSupplement",popOverText:"popover",attributes:{ariaChecked:"aria-checked",ariaExpanded:"aria-expanded"}}});"use strict";p.when("A","cc-manager","payment-options-constants","payment-options-expander-state","payment-options-expander-actions","payment-options-client-side-metric",
"multi-card-exp-payment-options","payment-plan-state").register("payment-options-registration",function(b,e,f,k,g,d,h,c){function l(b){return"string"===typeof b}function w(b){for(var a=b.length-1;0<=a;a--){var d=b.get(a).id;if(d!==x&&!u("#"+d).parent().parent().parent().hasClass(f.classes.hideSwatchMainViewClass)){u("#"+d).parent().parent().parent().addClass(f.classes.hideSwatchMainViewClass);break}}}function a(){var a;var d=(a=u(f.selector.paymentOptionsDefaultPickupBuyingOptionData))&&"true"===
a.attr(f.selector.isBuyingOptionOverridePresentAttribute);a=a&&d?(a=a.attr(f.selector.pickUpBuyingOptionIndex))?a:x:void 0;return"#paymentOption_"+(a?a:b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0)}function m(b){var a=b.executionInfo;a.cartType=f.parameters.cartTypes.addToCart;return{itemType:f.parameters.itemType,price:b.price,selectionType:f.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:b.priceAndTermCountDisplayString,interestDisplayString:b.interestDisplayString,
interestAmount:b.interestAmount,orderSummaryDisplayString:b.orderSummaryDisplayString,invalidSelectionTitle:b.cardName,isOrderLevel:b.isOrderLevel,bottomSheetFootnoteDisplayString:b.bottomSheetFootnoteDisplayString,termCount:b.termCount,termType:b.termType,formData:[{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:a}]}}var u=b.$;h=h.expTreatment;var r="T2"!==h&&"T3"!==h,z=f.featureRegistration.featureName;e.registerFeature(f.featureRegistration,
{init:function(d){b.$(a()).removeClass("a-hidden")},validateInputParams:function(b){return b&&b.formData&&1===b.formData.length&&b.itemType===f.validators.itemType&&l(b.priceAndTermCountDisplayString)&&l(b.orderSummaryDisplayString)&&l(b.interestDisplayString)&&"number"===typeof b.price&&"number"===typeof b.interestAmount&&l(b.bottomSheetFootnoteDisplayString)?!0:!1},cardCollapse:function(){var a=c.paymentOptionSelected.paymentOptionClickedFromSideSheet;r&&!a&&(d.increment("Expander:Auto:Collapse"),
a=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,g.collapsePaymentOptions(a),b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1)},refreshCard:function(){b.$(f.selector.refreshToggle).removeClass("refresh-toggle");b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand&&b.$(f.selector.refreshCCText).removeClass("a-hidden")},switchBuyingOption:function(a,d,
c,h,l,r){h=r&&-1!==r?r:a;b.$("[id^\x3dpaymentOption_]").addClass("a-hidden");a=b.$(".payment-options-selected-option").closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action");var p;b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander")!==x&&(d=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,a===x&&!0===d&&(p=b.$("[data-payment-options-emp-action]").data("payment-options-emp-action")));
var v;a&&(v=a.offerGroup);b.$("#paymentOption_"+h).removeClass("a-hidden");var D=u("#paymentOption_"+h).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander");d=u("#paymentOption_"+h+" #oneTimePaymentOptionSwatch");b.$(d).click();b.delay(function(){D.isExpand||u(f.selector.subtitleText).text(D.collapseSubtitle)},100);c=d=!1;e.ccRemovedSelectionsClear(z);a===x&&p!==x&&(l=b.$("#paymentOption_"+h+" [data-payment-options-emp-action]").data("payment-options-emp-action"),
d=l!==x,!0===d&&(u(f.selector.subtitleText).text(l.preselectionSubtitle),k.expanderSubtitle.monthlyPaymentOptionsCollapsedSubtitle=l.preselectionSubtitle,k.expanderSubtitle.monthlyPaymentOptionsExpandedSubtitle=l.preselectionSubtitle),!1===d&&e.ccRemovedSelectionUpdate(z,m(p)));if(v){p=u("#paymentOption_"+h+" .payment-options-financing-option");h=p.length;d=0<h;for(l=0;l<h;l++){r=p.get(l);var F=b.$(r).closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action"),
E=u("#"+r.id).parent().parent().parent(),I=E.hasClass(f.classes.hideSwatchMainViewClass);if(F&&v===F.offerGroup){c=!0;I&&(w(p),E.removeClass(f.classes.hideSwatchMainViewClass));b.$(r).click();var A=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection}}(!d||d&&!c)&&e.ccRemovedSelectionUpdate(z,m(a));g.collapsePaymentOptions(A)}}})});"use strict";p.when("A","cc-manager","payment-options-constants","payment-options-registration").register("cc-payment-options",
function(b,e,f){function k(b){var a=h("form#buyNowCheckout");if(0<a.length){var d=a.find("input[name\x3d"+f.parameters.itemType+"]");b=b.executionInfo;b.cartType=f.parameters.cartTypes.buyNow;b=JSON.stringify(b);1>d.length?h("\x3cinput\x3e").attr({type:f.paymentOfferInputElement.inputType,name:f.paymentOfferInputElement.name,value:b,id:"bnMshopPaymentOfferInfo"}).appendTo(a):(a=h("#bnMshopPaymentOfferInfo"),1<d.length?a.detach():a.val(b))}}function g(b){var a=b.executionInfo;a.sessionId=b.sessionId;
a.customerId=b.customerId;a.marketplaceId=b.marketplaceId;a.requestId=b.requestId;a.deviceType=b.deviceType;a.asin=b.asin;a.buyingOptionType=b.buyingOptionType;a.parentASIN=b.parentASIN;a.websiteDisplayGroup=b.websiteDisplayGroup}function d(b,a){return{itemType:f.parameters.itemType,price:b.price,selectionType:f.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:b.priceAndTermCountDisplayString,interestDisplayString:b.interestDisplayString,interestAmount:b.interestAmount,orderSummaryDisplayString:b.orderSummaryDisplayString,
isOrderLevel:b.isOrderLevel,bottomSheetFootnoteDisplayString:b.bottomSheetFootnoteDisplayString,termCount:b.termCount,termType:"mo",formData:a}}var h=b.$,c=f.featureRegistration.featureName,l;return{updatePaymentOptionSelection:function(b){if(!b)return!1;e.ccSelectionsClear(c);clearTimeout(l);h("#bnMshopPaymentOfferInfo").detach();var a=[],m;if(b.hasOwnProperty("executionDetails")&&0!==Object.keys(b.executionDetails).length){var u=b.executionDetails;Object.keys(u).forEach(function(d){if("paymentOfferInfoType"===
d){var c=JSON.parse(b.executionDetails.paymentOfferInfoType);c.sessionId=b.sessionId;c.customerId=b.customerId;c.marketplaceId=b.marketplaceId;c.requestId=b.requestId;c.deviceType=b.deviceType;c.asin=b.asin;c.buyingOptionType=b.buyingOptionType;c.parentASIN=b.parentASIN;c.websiteDisplayGroup=b.websiteDisplayGroup;b.executionDetails.paymentOfferInfoType=JSON.stringify(c);a.push([{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:JSON.parse(u[d])}])}else a.push([{inputType:f.paymentOfferInputElement.inputType,
inputName:d,inputValue:u[d]}])});for(var r=0;r<a.length;r++)if(m=d(b,a[r]),m=e.ccSelectionUpdate(c,m),!m)return!1}else if(b.hasOwnProperty("executionInfo")&&0!==Object.keys(b.executionInfo).length)g(b),a.push([{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:b.executionInfo}]),m=d(b,a[0]),m=e.ccSelectionUpdate(c,m);else return!0;k(b);l=setTimeout(function(){k(b)},1E3);return m}}});"use strict";p.when("A","cc-payment-options").register("payment-options-actions",
function(b,e){b.declarative("select-payment-option","click",function(b){e.updatePaymentOptionSelection(b.data)})});"use strict";p.when("A","payment-options-opt-out-state","compare-plan-modal","comparison-plans-state","payment-options-client-side-metric","price-block-messaging-constants").register("po-compare-plans-actions",function(b,e,f,k,g,d){function h(d){v(d.data.buyingOptionIndex,!1);f.updateModalHeader(d.data.buyingOptionIndex,d.data.comparisonTableHeaderText);l(d);b.hide(n.MORE_OPTION_CLASS);
a(k.paymentOptionSelected.paymentOptionSelectedButtonId)}function c(a){v(a.data.buyingOptionIndex,!1);f.updateModalHeader(a.data.buyingOptionIndex,a.data.comparisonTableHeaderText);b.hide(n.OFFER_SELECTION_SHEET_CLASS);b.hide(n.LEARN_MORE_SHEET_CLASS);a=q([n.COMPARISON_TABLE_PREFIX,a.data.buyingOptionIndex].join(d.DASH_SPLITTER));b.show(a)}function l(a){var c=a.data.buyingOptionIndex;a=a.data.selectText;b.hide(n.OFFER_SELECTION_SHEET_CLASS);b.hide(n.LEARN_MORE_SHEET_CLASS);q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,
c].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA,{buyingOptionIndex:c});var e=q([n.COMPARISON_TABLE_PREFIX,c].join(d.DASH_SPLITTER));b.show(e);e.find(n.COMPARISON_TABLE_COLUMN_CLASS).removeClass(t.COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER);e.find(n.COMPARISON_TABLE_COLUMN_CLASS).removeClass(t.COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND);e.find(n.COMPARISON_TABLE_CAN_DISABLE_CLASS).removeClass(t.COMPARISON_TABLE_DISABLED_COLUMN);e.find(n.COMPARISON_TABLE_COLUMN_CLASS).sort(function(b,
a){b=q(b).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).paymentProductIndex;a=q(a).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).paymentProductIndex;return b-a}).appendTo([n.COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX,c].join(d.DASH_SPLITTER));b.hide([n.COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX,c].join(d.DASH_SPLITTER));q([n.COMPARISON_TABLE_MODAL_PREFIX,
c].join(d.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_DISABLE_ROW_CLASS);q.each(k.paymentOptionSelected.disabledPaymentOptionIds,function(b,a){if(a&&""!==a)if(m(a,t.OFFER_SELECTION_ROW_ACTION_PREFIX)){var c=q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME);b=c.buyingOptionIndex;a=c.paymentProductIndex;c=[n.OFFER_SELECTION_ROW_ID_PREFIX,b,a,c.paymentOptionIndex].join(d.DASH_SPLITTER);q(c).addClass(t.OFFER_SELECTION_DISABLE_ROW_CLASS);var c=
[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,b,a].join(d.DASH_SPLITTER),M=q(c),c=M.children().length,M=M.children(n.OFFER_SELECTION_DISABLED_ROW_CLASS).length;c===M&&N(b,a)}else c=q("#"+a).parent().data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA),b=c.buyingOptionIndex,a=c.paymentProductIndex,N(b,a)});e.find(n.COMPARISON_TABLE_COLUMN_CLASS).each(function(){var b=q(this).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);if(1===
b.numberOfPaymentOptionsWithinProduct)return!0;if(q(this).hasClass(t.COMPARISON_TABLE_DISABLED_COLUMN))var a=q(this),b=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,b.buyingOptionIndex,b.paymentProductIndex].join(d.DASH_SPLITTER),b=q(b).children().first().find(".a-declarative").data(t.OFFER_SELECTION_ACTION_NAME_CAMEL_CASE);else a=q(this),b=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,b.buyingOptionIndex,b.paymentProductIndex].join(d.DASH_SPLITTER),b=q(b).children().not("."+t.OFFER_SELECTION_DISABLE_ROW_CLASS).first().find(".a-declarative").data(t.OFFER_SELECTION_ACTION_NAME_CAMEL_CASE);
w(a,b)});b.show(n.COMPARISON_TABLE_OPTION_LIKE);b.hide(n.COMPARISON_TABLE_MORE_OPTION);q(n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_CLASS).removeClass(t.COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED);q(n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_CLASS).text(a);P(e.find(n.COMPARISON_TABLE_SELECT_ACTION_BUTTON),!1)}function w(a,d){a.find('[id^\x3d"'+t.COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX+'"]').text(d.paymentDetailsSubtitle);a.find('[id^\x3d"'+t.COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX+
'"]').text(d.interestDisplayString);a.find('[id^\x3d"'+t.COMPARISON_TABLE_INTEREST_APR_ID_PREFIX+'"]').text(d.interestApr);a.find('[id^\x3d"'+t.COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX+'"]').text(d.planTotal);d.isOrderLevel?(b.show(a.find('[id^\x3d"'+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX+'"]')),b.hide(a.find('[id^\x3d"'+t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX+'"]'))):(b.hide(a.find('[id^\x3d"'+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX+'"]')),b.show(a.find('[id^\x3d"'+t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX+
'"]')));a.find('[id^\x3d"'+t.COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX+'"]').text(d.optionRewardText);a.find('[id^\x3d"'+t.COMPARISON_TABLE_LEARN_MORE_ID_PREFIX+'"]').closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_LEARN_MORE_ACTION_DATA).learnMoreViewDomId=d.learnMoreViewDomId}function a(a){""===a||"oneTimePaymentOption"===a||b.contains(k.paymentOptionSelected.disabledPaymentOptionIds,a)||(m(a,t.OFFER_SELECTION_ROW_ACTION_PREFIX)?(a=q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME),
a={data:a},D(a),E(a)):(a=q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA),a={data:a},u(a)))}function m(b,a){if(null===b||b===x||null===a||a===x||a.length>b.length)return!1;for(var d=0;d<a.length;d++)if(b[d]!==a[d])return!1;return!0}function u(a){l(a);b.hide(n.MORE_OPTION_CLASS);z(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.selectedText);I(a.data.buyingOptionIndex,a.data.paymentOptionSelectButtonId,a.data.buttonActionName)}function r(a,c){a=q(n.MORE_OPTION_PREFIX+
[a,c].join(d.DASH_SPLITTER));b.show(a)}function z(b,a,c){var e=q([n.COMPARISON_TABLE_PREFIX,b].join(d.DASH_SPLITTER)),f=[n.COMPARISON_TABLE_COLUMN_ID_PREFIX,b,a].join(d.DASH_SPLITTER),g=[n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_ID_PREFIX,b,a].join(d.DASH_SPLITTER);b=[n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_ID,b,a].join(d.DASH_SPLITTER);e.find(f).addClass(t.COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER);e.find(f).addClass(t.COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND);e.find(g).addClass(t.COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED);
e.find(b).text(c);P(e.find(f).find(n.COMPARISON_TABLE_SELECT_ACTION_BUTTON),!0)}function N(b,a){b=[n.COMPARISON_TABLE_COLUMN_ID_PREFIX,b,a].join(d.DASH_SPLITTER);q(b).find(n.COMPARISON_TABLE_CAN_DISABLE_CLASS).addClass(t.COMPARISON_TABLE_DISABLED_COLUMN);q(b).appendTo(q(b).parent())}function p(a){B(a)&&r(a.data.buyingOptionIndex,a.data.paymentProductIndex);b.hide(q([n.COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX,a.data.buyingOptionIndex].join(d.DASH_SPLITTER)));f.updateModalHeader(a.data.buyingOptionIndex,
a.data.comparisonTableHeaderText);b.hide(q("#"+a.data.currentViewDomId));b.show(q("#"+a.data.comparisonTableDomId))}function B(a){return d.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a.data?!0:(b.show(q([n.COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX,a.data.buyingOptionIndex].join(d.DASH_SPLITTER))),!1)}function v(b,a){b=q([n.COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX,b].join(d.DASH_SPLITTER));a?b.animate({scrollLeft:0},100):b.scrollLeft(0)}function J(b){K(b.data.buyingOptionIndex,b.data.paymentProductIndex);
var a=q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,b.data.buyingOptionIndex].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA);d.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a&&m(a.paymentOptionSelectButtonId,t.OFFER_SELECTION_ROW_ACTION_PREFIX)&&(a={data:q("#"+a.paymentOptionSelectButtonId).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME)},D(a));f.updateModalHeader(b.data.buyingOptionIndex,b.data.offerSelectionHeaderText);A(b.data.buyingOptionIndex,
b.data.paymentProductIndex)}function G(b){H(b.data.buyingOptionIndex,b.data.paymentProductIndex);f.updateModalHeader(b.data.buyingOptionIndex,b.data.offerSelectionHeaderText);A(b.data.buyingOptionIndex,b.data.paymentProductIndex)}function K(a,c){var e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER));e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);
b.hide(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,a,c].join(d.DASH_SPLITTER)));q([n.OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX,a,c].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_CONTINUE_ACTION_DATA,{buyingOptionIndex:a,paymentProductIndex:c})}function H(a,c){var e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER));e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);
b.hide(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,a,c].join(d.DASH_SPLITTER)))}function D(b){K(b.data.buyingOptionIndex,b.data.paymentProductIndex);var a=b.data.buyingOptionIndex,c=b.data.paymentProductIndex,e=b.data.paymentOptionIndex,f=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER)),a=[n.OFFER_SELECTION_ROW_ID_PREFIX,a,c,e].join(d.DASH_SPLITTER);f.find(a).addClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);f.find(a).addClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);
f=b.data.buyingOptionIndex;a=b.data.paymentProductIndex;c=b.data.buttonActionName;b=q("#"+b.data.paymentOptionSelectButtonId).closest(n.SPAN_DECLARATIVE).data(c);q([n.OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX,f,a].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_CONTINUE_ACTION_DATA,b)}function F(b){H(b.data.buyingOptionIndex,b.data.paymentProductIndex)}function E(a){if(!(d.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a.data))return b.show(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,
a.data.buyingOptionIndex,a.data.paymentProductIndex].join(d.DASH_SPLITTER))),!1;l(a);z(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.selectedText);r(a.data.buyingOptionIndex,a.data.paymentProductIndex);var c=a.data.buyingOptionIndex,e=a.data.paymentProductIndex;q(["#"+t.COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.paymentDetailsSubtitle);q(["#"+t.COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.interestDisplayString);
q(["#"+t.COMPARISON_TABLE_INTEREST_APR_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.interestApr);q(["#"+t.COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.planTotal);a.data.isOrderLevel?(b.show(q(["#"+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER))),b.hide(q(["#"+t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)))):(b.hide(q(["#"+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER))),b.show(q(["#"+
t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX,e].join(d.DASH_SPLITTER))));q(["#"+t.COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.optionRewardText);q("#"+a.data.learnMoreLinkDomId).closest(n.SPAN_DECLARATIVE).data(a.data.learnMoreLinkActionName).learnMoreViewDomId=a.data.learnMoreViewDomId;b.show(q([n.COMPARISON_TABLE_ROW_VALUE_MORE_OPTION_ID,c,e].join(d.DASH_SPLITTER)));b.hide(q([n.COMPARISON_TABLE_ROW_VALUE_OPTION_LIKE_ID,c,e].join(d.DASH_SPLITTER)));I(a.data.buyingOptionIndex,
a.data.paymentOptionSelectButtonId,a.data.buttonActionName)}function I(b,a,c){a=q("#"+a).closest(n.SPAN_DECLARATIVE).data(c);q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,b].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA,a)}function A(a,c){b.hide(q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)));b.show(q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER)))}function y(a){b.hide(q("#"+a.data.comparisonTableDomId));f.updateModalHeader(a.data.buyingOptionIndex,
a.data.learnMoreHeaderText);b.show(q("#"+a.data.learnMoreViewDomId))}function L(a){return m(a,t.OFFER_SELECTION_ROW_ACTION_PREFIX)?q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME):q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA)}function P(a,b){a&&a.attr(Q.ariaChecked,b)}var q=b.$,n=d.selector,t=d.classes,Q=d.attributes;b.declarative("price-block-compare-plans","click",function(a){var l=a.data.changePlanBehavior,m=e.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet;
k.paymentOptionSelected.paymentOptionSelectedButtonId&&"oneTimePaymentOption"!==k.paymentOptionSelected.paymentOptionSelectedButtonId?g.logNexusEventForChangePlansLink(a):g.logNexusEventForComparePlansLink(a);b.loadImageManually(q(".comparison-table-comparison-card-image"));m||"OPT_OUT_PLAN"!==l?(g.incrementWithValuePriceBlockMessaging(d.metrics.COMPARE_PLAN_CLICK,1),a.data.isMxViewableExperienceEnabled?c(a):h(a),f.showModal(a)):(e.paymentOptionOptOutSelected.changePlanEventData=a,b.trigger("a:declarative:open-priceblock-change-plan-modal:click",
a))});b.declarative("comparison-table-select-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.logNexusEventForComparePlansOfferSelection(a),b.loadImageManually(q(".compare-plan-payment-product-card-image")),a.data.shouldNotSelectFinancingOptionColumn||(a.data.isMxViewableExperienceEnabled||1<a.data.numberOfPaymentOptionsWithinProduct?(g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_SELECT_BUTTON_MORE_OFFER_CLICK,1),a.data.isMxViewableExperienceEnabled?
G(a):J(a)):(g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_SELECT_BUTTON_SINGLE_OFFER_CLICK,1),u(a)))});b.declarative("offer-selection-select-row",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_OFFER_SELECTION_SELECT_ROW_CLICK,1),a.data.isMxViewableExperienceEnabled?F(a):(D(a),b.hide(n.MORE_OPTION_CLASS))});b.declarative("compare-plan-offer-selection-continue",["click","keydown"],function(a){if("keydown"!==
a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_OFFER_SELECTION_CONTINUE_CLICK,1),a.data.isMxViewableExperienceEnabled||E(a),p(a)});b.declarative("comparison-table-confirm-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_CONFIRM_PLAN_WITHOUT_OFFER_SELECTED_CLICK,1),a.data.isMxViewableExperienceEnabled?f.hideModal(a.data.buyingOptionIndex):
B(a)&&(g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_CONFIRM_PLAN_OFFER_SELECTED_CLICK,1),b.trigger("a:declarative:price-block-select-payment-plan:click",a),f.hideModal(a.data.buyingOptionIndex))});b.declarative("comparison-table-cancel-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_CANCEL_PLAN_CLICK,1),g.logNexusEventForCancelPlan(a),f.hideModal(a.data.buyingOptionIndex),l(a),
b.trigger("a:declarative:price-block-otp-action:click",a)});b.declarative("comparison-table-learn-more","click",function(a){b.loadImageManually(q(".compare-plan-learn-more-feature-image-content"));b.loadImageManually(q(".compare-plan-payment-product-card-image"));g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_LEARN_MORE_CLICK,1);y(a)});b.declarative("back-to-comparison-table",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_BACK_CLICK,
1),p(a)});var R=function(a,b){return a.id<b.id?-1:a.id>b.id?1:0};return{renderComparisonTable:h,renderViewableComparisonTable:c,selectPaymentOptionInComparisonTable:u,selectPaymentOptionInOfferSelection:D,selectPaymentOptionInViewableOfferSelection:F,confirmPlanInOfferSelection:E,renderOfferSelectionView:J,renderViewableOfferSelectionView:G,renderLearnMoreView:y,selectAndConfirmPlan:function(b,c){a(c);q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,b].join(d.DASH_SPLITTER)).click()},isAnyOfferSelected:B,
getMaxQuantityData:function(a){return L(a).maxQuantity},findMaximumMaxQuantity:function(a){var b=1;a=q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)).find(n.COMPARISON_TABLE_COLUMN_CLASS);q.each(a,function(a,c){a=q(c).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).parent().data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);c=a.buyingOptionIndex;var e=a.paymentProductIndex;1<a.numberOfPaymentOptionsWithinProduct?(a=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_ACTION_CLASS),
q.each(a,function(a,c){a=q(c).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME);b=Math.max(b,a.maxQuantity)})):b=Math.max(b,a.maxQuantity)});return b},getTotalOptionCount:function(a){var b=0;q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).each(function(){var a=q(this).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).numberOfPaymentOptionsWithinProduct;b+=a});return b},getTopEnabledOfferDataInComparisonTable:function(a){a=
q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).sort(R);var c;q.each(a,function(a,e){if(c)return!1;a=q(e).parent().data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);var f=a.buyingOptionIndex,g=a.paymentProductIndex;if(1<a.numberOfPaymentOptionsWithinProduct)e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,f,g].join(d.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_ACTION_CLASS),q.each(e,function(a,d){a=q(d).attr("id");if(!k.paymentOptionSelected.disabledPaymentOptionIds||
!b.contains(k.paymentOptionSelected.disabledPaymentOptionIds,a))return c=a,!1});else if(e=q(e).attr("id"),!k.paymentOptionSelected.disabledPaymentOptionIds||!b.contains(k.paymentOptionSelected.disabledPaymentOptionIds,e))return c=e,!1});if(c)return L(c)},backToComparisonTable:p}});"use strict";p.when("A","compare-plan-row-constants").register("compare-plan-row-height-updater",function(b,e){var f=[e.COMPARE_PLAN_PAYMENT_DETAILS,e.COMPARE_PLAN_INTEREST_ROW];return{updateRowHeight:function(e){for(var g=
0;g<f.length;g++){for(var d=b.$(e).find(f[g]),h,c=h=0;c<d.length;c++)d[c].offsetHeight>h&&(h=d[c].offsetHeight);if(0<h)for(c=0;c<d.length;c++)d[c].style.height=h.toString()+"px"}}}});"use strict";p.when("A").register("compare-plan-row-constants",function(b){return{COMPARE_PLAN_CARD_OPTION:".comparison-table-comparison-card-option",COMPARE_PLAN_PAYMENT_DETAILS:".comparison-table-payment-details",COMPARE_PLAN_INTEREST_ROW:".comparison-table-interest-row-value",COMPARE_PLAN_TOTAL_AMOUNT:".comparison-table-total-amount",
COMPARE_PLAN_APPLIES_TO_ROW:".comparison-table-plan-applies-to-row-value",COMPARE_PLAN_REWARD_ROW:".comparison-table-card-reward-row-value"}});"use strict";p.when("A").register("po-sidesheet-ajax-state",function(b){var e=b.$,f={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""},k={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""};return{getComparePlansState:function(b){return f[b]},setComparePlansState:function(b,d){f[b]=d},getLearnMoreState:function(b){return k[b]},setLearnMoreState:function(b,
d){k[b]=d},checkInconsistentState:function(){if(f.isAjaxContentLoaded&&k.isAjaxContentLoaded){if(f.ajaxContentAsin!==k.ajaxContentAsin)return this.resetComparePlansState(),this.resetLearnMoreState(),!0;var b=e("#twister-plus-asin").val();if(f.ajaxContentAsin!==b)return this.resetComparePlansState(),this.resetLearnMoreState(),!0}return!1},resetComparePlansState:function(){this.setComparePlansState("ajaxContent","");this.setComparePlansState("isAjaxContentLoaded",!1);this.setComparePlansState("ajaxContentAsin",
"")},resetLearnMoreState:function(){this.setLearnMoreState("ajaxContent","");this.setLearnMoreState("isAjaxContentLoaded",!1);this.setLearnMoreState("ajaxContentAsin","")}}});"use strict";p.when("A","payment-options-state","payment-options-opt-out-state","comparison-plans-state","po-compare-plans-actions","price-block-messaging-constants","payment-options-client-side-metric").register("ufo-compare-payment-plans",function(b,e,f,k,g,d,h){var c=b.$;b.declarative("compare-payment-plans","click",function(c){b.trigger("a:declarative:side-sheet:click",
c);e.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",c):g.renderPreselection(c)});b.declarative("price-block-compare-payment-plans","click",function(c){h.incrementWithValuePriceBlockMessaging(d.metrics.COMPARE_PLAN_CLICK,1);var w=c.data.changePlanBehavior,a=f.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet;k.paymentOptionSelected.paymentOptionSelectedButtonId&&"oneTimePaymentOption"!==k.paymentOptionSelected.paymentOptionSelectedButtonId?
h.logNexusEventForChangePlansLink(c):h.logNexusEventForComparePlansLink(c);a||"OPT_OUT_PLAN"!==w?(b.trigger("a:declarative:open-payment-options-side-sheet:click",c),e.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",c):(g.renderPreselection(c),h.incrementWithValuePriceBlockMessaging(d.metrics.COMPARE_PLAN_RENDERED,1))):(f.paymentOptionOptOutSelected.changePlanEventData=c,b.trigger("a:declarative:open-priceblock-change-plan-modal:click",c))});
b.declarative("compare-payment-plans-ajax","click",function(b){g.loadAjaxContent(b)});b.declarative("overflow-sidesheet","click",function(d){var e=c(d.$currentTarget);e!==x&&null!==e&&(c("#"+d.data.paymentOptionSelectButtonId)[0].classList.contains("a-button-disabled")||b.trigger("a:declarative:monthly-payment-option-selection:click",d))})});"use strict";p.when("A","po-sidesheet-ajax-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-plan-state").register("po-learn-more-actions",
function(b,e,f,k,g,d){function h(){e.resetLearnMoreState();r(f.learnMoreSelector.skeletonLoaderClass).addClass("aok-hidden");r(f.learnMoreSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}function c(a,b){a=r(a);var c=w(),d=f.learnMoreSelector.preselectiedOptionSelector+"-"+c,e=f.learnMoreSelector.paymentOptionsCountSelector+"-"+c,h=f.learnMoreSelector.firsOfferIdSelector+"-"+c;return 0!==a.filter(f.learnMoreSelector.viewModelFailedSelector+"-"+c).length?(g.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",
1),!0):0!==a.filter(d).length?(g.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(e).data("paymentPlansCount")!==b.numberOfPaymentOptions?(g.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(h).data("firstOfferId")!==b.firstOfferId?(g.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function l(c,d,h){r(f.learnMoreSelector.learnMoreSidesheetSelector).html(e.getLearnMoreState("ajaxContent"));h=f.learnMoreSelector.learnMoreContentSelector+
"-"+h;h+=w();r(h).removeClass("aok-hidden");b.loadDescendantImagesManually(r(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(r(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(r(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(r(".payment-options-comparison-sheet-comparison-card-option"));a(c,d)}function w(){return b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function a(a,
b){m(d.paymentOptionSelected.paymentOptionSelectedButtonId,a,b)}function m(a,b,c){u(b);r(function(){r("[id\x3d"+a+"]").removeClass(z.unselectedButton);r("[id\x3d"+a+"]").addClass(z.selectedButton);r("[id\x3d"+a+"]").children(0).children(0).text(c);r("[id\x3d"+a+"]").text(c)})}function u(a){r(z.sideSheetButton).removeClass(z.selectedButton);r(z.sideSheetButton).addClass(z.unselectedButton);r(z.sideSheetButton).text(a);r(z.oneTimePaymentHeadButton).removeClass(z.selectedButton);r(z.oneTimePaymentHeadButton).addClass(z.unselectedButton);
r(z.oneTimePaymentHeadButton).text(a)}var r=b.$,z=f.selector;b.on("PageRefresh:ATF",function(){e.resetLearnMoreState()});return{loadAjaxContent:function(a){var d=a.data.selectText,m=a.data.selectedText,k=r("#twister-plus-asin").val();null===k||""===k?(g.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),h()):e.getLearnMoreState("isAjaxContentLoaded")&&!e.checkInconsistentState()?l(d,m,a.data.index):(r(f.learnMoreSelector.skeletonLoaderClass).removeClass("aok-hidden"),r(f.learnMoreSelector.ajaxErrorMessageSelector).addClass("aok-hidden"),
b.ajax("/gp/product/ajax?",{method:"get",timeout:1E4,params:{asin:k,showFeatures:"paymentOptionsLearnMoreSidesheetAjax,paymentOptions",experienceId:"paymentOptionsAjaxExperience"},success:function(b){null===b||/^\s*$/.test(b)?(g.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),h()):c(b,a.data)?h():(e.setLearnMoreState("ajaxContent",b),e.setLearnMoreState("isAjaxContentLoaded",!0),e.setLearnMoreState("ajaxContentAsin",k),l(d,m,a.data.index))},error:function(a,b){b===f.ajaxErrorReasons.timeoutStatus?
g.incrementWithValue("Ajax:Failure:Timeout",1):g.incrementWithValue("Ajax:Failure",1);h()}}))},stopEventPropagation:function(a){a.$event.preventDefault();a.$event.stopImmediatePropagation()},preRenderSelectedFinancingOption:a}});"use strict";p.when("A","payment-options-state","po-learn-more-actions","payment-options-client-side-metric","payment-options-constants").register("payment-options-learn-more-events",function(b,e,f,k,g){b.declarative("payment-options-learn-more","click",function(d){k.increment("SideSheet:Link:Click");
f.stopEventPropagation(d);b.trigger("a:declarative:side-sheet:click",d);!d.data.isComparePlansEvent&&e.getWeblabData().isDesktopLearnMoreAjaxEnabled?b.trigger("a:declarative:payment-options-learn-more-ajax:click",d):f.preRenderSelectedFinancingOption(d.data.selectText,d.data.selectedText)});b.declarative("payment-options-gil-skip-learn-more","click",function(b){k.incrementWithValue(g.metricConstants.skipLearnMoreMetricForDesktop,1);v.open(b.data.partnerUrl,"_blank","noopener")});b.declarative("payment-options-learn-more-ajax",
"click",function(b){f.loadAjaxContent(b)})});"use strict";p.when("A","payment-options-expander-actions","payment-options-expander-state","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,e,f,k,g){function d(b){if(a===x||null===a||null===b.data.isExpand||b.data.isExpand===x){if(null===b.data.isExpand||b.data.isExpand===x)c("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1,b.data.isExpand=!1;e.initSubtitle(b);m&&e.hideLoaderAnimation(b.data.isExpand)}}
function h(b){a=!0;var c=b.data.renderPreselection;f.autoScroll=!b.data.isAutoExpand;c||m?e.expandPaymentOptions(m,c):(u.isStarted||u.start(),e.expandSkeletonLoader(c));k.logNexusEventForSwatchExpansion(b)}var c=b.$,l=g.expTreatment,w=g.isFirstCard&&"T1"===l||"T2"===l||"T3"===l,a,m=f.isLoaded,u=new k.Timer("Desktop:Expander:Loading:UserWaiting:Time"),r=new k.Timer("Desktop:Expander:Loading:Time");r.start();p.when("cc-payment-options").execute(function(){r.stop();u.isStarted&&u.stop();m=!0;e.hideLoaderAnimation(a);
k.incrementWithValue("Container:Swatch:Amount",c(".payment-options-list-item").length)});b.declarative("toggle-payment-options-expander",["click","keydown"],function(f){if("keydown"!==f.type||13===f.$event.keyCode||32===f.$event.keyCode){d(f);a=f.data.isExpand;var g=f.data.renderPreselection;!0===a?(a=!1,k.increment("Desktop:Expander:Click:Collapse"),e.collapsePaymentOptions(g)):!1===a&&h(f);c("[data-toggle-payment-options-expander]").each(function(){c(this).data("toggle-payment-options-expander").isExpand=
a});b.trigger("a:declarative:expander-update-visible-payment-options:click",f)}});b.declarative("expand-payment-options-expander",function(a){if(!l||a.data.forceExpand)d(a),h(a),c("[data-toggle-payment-options-expander]").each(function(){c(this).data("toggle-payment-options-expander").isExpand=!0})});w&&g.autoExpandCard()});"use strict";p.when("A","payment-options-expander-state","payment-options-constants","payment-options-client-side-metric","payment-options-swatch-actions","cc-manager").register("payment-options-expander-actions",
function(b,e,f,k,g,d){function h(){if(e.autoScroll){var b=a(m.expanderContainer),c=b.offset().top+b.outerHeight();if(a(v).scrollTop()+a(v).height()<c){var c=b.offset().top,d=a(v).height(),b=b.height(),b=c-(d-b)/2;a("html, body").animate({scrollTop:b},e.animationTimeoutUnit)}}}function c(b,c){b=b?r.monthlyPaymentOptionsExpandedSubtitle:c?r.monthlyPaymentOptionsExpandedSubtitle:r.loadingSubtitle;a(m.subtitleText).text(b);!1===c&&a(m.cardImage).fadeOut(f.animationTimeoutUnit)}function l(b){""!==r.monthlyPaymentOptionsCollapsedSubtitle&&
a(m.subtitleText).text(r.monthlyPaymentOptionsCollapsedSubtitle);!1===b&&a(m.cardImage).fadeIn(f.animationTimeoutUnit)}function w(b,c){a(b)&&a(b).attr(u.ariaExpanded,c)}var a=b.$,m=f.selector,u=f.attributes,r=e.expanderSubtitle;return{initSubtitle:function(a){var b=a.data.expandSubtitle;r.monthlyPaymentOptionsCollapsedSubtitle=a.data.collapseSubtitle;r.monthlyPaymentOptionsExpandedSubtitle=b},expandPaymentOptions:function(e,g){k.increment("Desktop:Expander:Click:Expand");k.increment("Desktop:Expander:Click:Expand:loading");
a(m.expanderContent).addClass(m.paymentOptionExpand);a(m.expanderIcon).addClass("rotate");d.cardExpanded(f.featureRegistration.featureName);b.delay(function(){a(m.swatch).addClass(m.twisterPlusFadeIn);c(e,g);h()},f.animationTimeoutUnit);b.$(m.refreshToggle).hasClass("refresh-toggle")||b.$(m.refreshCCText).removeClass("a-hidden");w(m.toggleExpanderButton,!0)},expandSkeletonLoader:function(d){k.increment("Desktop:Expander:Click:Expand");a(m.expanderContent).addClass(m.skeletonLoaderExpand);a(m.expanderIcon).addClass("rotate");
b.delay(function(){d||(a(m.skeletonLoader).addClass(m.twisterPlusFadeIn),c(!1,d),h())},f.animationTimeoutUnit);w(m.toggleExpanderButton,!0)},hideLoaderAnimation:function(d,e){d&&a(m.skeletonLoader).removeClass(m.twisterPlusFadeIn);b.delay(function(){a(m.skeletonLoader).hide();a(m.swatch).removeClass("invisible");d&&(a(m.subtitleText).text(r.monthlyPaymentOptionsExpandedSubtitle),a(m.expanderContent).addClass(m.paymentOptionExpand),b.delay(function(){a(m.swatch).addClass(m.twisterPlusFadeIn);c(!0,
e);h()},f.animationTimeoutUnit))},f.animationTimeoutUnit)},collapsePaymentOptions:function(c){a(m.swatch).removeClass(m.twisterPlusFadeIn);e.isLoaded||c||a(m.skeletonLoader).removeClass(m.twisterPlusFadeIn);a(m.expanderIcon).removeClass("rotate");b.delay(function(){a(m.expanderContent).removeClass(m.paymentOptionExpand);a(m.expanderContent).removeClass(m.skeletonLoaderExpand);l(c)},f.animationTimeoutUnit);w(m.toggleExpanderButton,!1);b.$(m.refreshCCText).hasClass("a-hidden")||b.$(m.refreshCCText).addClass("a-hidden")},
showSubtitleInCollapsedView:l,showSubtitleInExpandedView:c,scrollToShowCompleteExpander:h}});"use strict";p.when("A","payment-options-state","payment-options-client-side-metric","cc-manager","payment-options-constants","payment-options-actions").register("payment-options-auto-expand",function(b,e,f,k,g){var d=!1,h=function(){var c=document.getElementById("payment-options-expander-header"),h=e.getWeblabData().isAutoExpandWeblabInT1||e.getWeblabData().isAutoExpandWeblabInT2;if(c){if(c=h)c=k.getRenderedFeaturesList(),
h=c[0]===g.featureRegistration.featureName,c=1===c.length&&h;c&&(c=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander")),c.isAutoExpand=!0,b.trigger("a:declarative:expand-payment-options-expander",{data:c}),f.increment("Expander:AutoExpanded"),d=!0)}};h();b.on("a:pageUpdate",h);return{isAutoExpanded:d}});"use strict";p.when("A").register("payment-options-expander-state",function(b){return{expanderSubtitle:{monthlyPaymentOptionsCollapsedSubtitle:"",
monthlyPaymentOptionsExpandedSubtitle:"",loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(b){this.property=b}}});"use strict";p.when("A","payment-options-swatch-actions","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,e,f,k){var g=b.$,d=!k.expTreatment||"T3"===k.expTreatment;b.declarative("payment-options-otp-action",["click","keydown"],function(h){if("keydown"!==h.type||13===h.$event.keyCode||32===h.$event.keyCode){f.increment("Swatch:OneTimePayment:Click");
b.trigger("a:declarative:select-payment-option:click",{data:{}});var c=g(h.$currentTarget);c!==x&&null!==c&&(e.updateDefaultOptionSubtitle(h.data.defaultPOSubtitle,h.data.oneTimePaymentPOSubtitle),b.trigger("a:declarative:otp-selection:click",h),d||k.collapseCard())}});b.declarative("payment-options-monthly-payment-action",["click","keydown"],function(e){if("keydown"!==e.type||13===e.$event.keyCode||32===e.$event.keyCode){var c=g(e.$currentTarget);c!==x&&null!==c&&(b.trigger("a:declarative:monthly-payment-option-selection:click",
e),d||k.collapseCard(),f.logNexusEventForMonthlyPaymentSelection(e))}});b.declarative("payment-options-overflow","click",function(b){e.manageOverflow(b)});b.declarative("expander-update-visible-payment-options","click",function(b){var c=g(b.$currentTarget);c!==x&&null!==c&&e.resetOverflowDefaultOptions(b)});b.declarative("update-swatch","click",function(b){"oneTimePaymentOption"===b.data.selectedPaymentOptionId?e.updateSwatchStyle(b.data.selectedPaymentOptionId):(e.updateSwatchStyle(b.data.selectedPaymentOptionId),
e.updateFinancingOptionSubtitle(b.data.subtitleMessage,b.data.cardImageUrl))});b.declarative("disable-swatch","click",function(b){e.disableSwatch(b.$currentTarget)});b.declarative("enable-swatch","click",function(b){e.enableSwatch(b.$currentTarget)})});"use strict";p.when("A","payment-options-expander-state","payment-options-constants","payment-plan-state").register("payment-options-swatch-actions",function(b,e,f,k){function g(b){c(l.swatchOption).removeClass(l.selectedOption);var d=c(l.swatchActionButton);
d&&d.attr(a.ariaChecked,!1);b="oneTimePaymentOption"===b?c(l.oneTimePaymentOption):c("#"+b+"Swatch");b.addClass(l.selectedOption);(b=b.closest(l.swatchActionButton))&&b.attr(a.ariaChecked,!0)}function d(a){a.addClass(w.hideSwatchMainViewClass)}function h(a,b){a.removeClass(w.hideSwatchMainViewClass);g(b);k.paymentOptionSelected.paymentOptionSelectedButtonId=b;k.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0}var c=b.$,l=f.selector,w=f.classes,a=f.attributes,m=e.expanderSubtitle;return{updateSwatchStyle:g,
updateDefaultOptionSubtitle:function(a,b){m.monthlyPaymentOptionsCollapsedSubtitle=a;m.monthlyPaymentOptionsExpandedSubtitle=b;c(l.subtitleText).text(b);c(l.subtitle).removeClass("a-color-success");c(l.subtitle).addClass("a-color-tertiary");c(l.checkmark).addClass("a-hidden");c(l.cardImage).attr("src","https://images-na.ssl-images-amazon.com/images/G/01/x-locale/common/transparent-pixel._V192234675_.gif")},updateFinancingOptionSubtitle:function(a,b){m.monthlyPaymentOptionsCollapsedSubtitle=a;m.monthlyPaymentOptionsExpandedSubtitle=
a;c(l.subtitleText).text(a);c(l.subtitle).removeClass("a-color-tertiary");c(l.subtitle).addClass("a-color-success");c(l.checkmark).removeClass("a-hidden");c(l.cardImage).attr("src",b)},disableSwatch:function(a){var b=a.find(l.financingOptions);b.removeClass(l.selectedOption);b.addClass(l.unavailableOption);a.addClass(l.disabledSwatch)},enableSwatch:function(a){a.find(l.financingOptions).removeClass(l.unavailableOption);a.removeClass(l.disabledSwatch)},manageOverflow:function(a){k.paymentOptionSelected.paymentOptionUnAvailableMsg=
a.data.unAvailableMsg;var b=c("#"+a.data.paymentOptionSelectButtonId+"Swatch").parent().parent().parent();if(b.hasClass(w.hideSwatchMainViewClass)){for(var e=c(w.paymentOptionsList)[0].children,f="",m=e.length-2;0<=m;m--)if(!c(e[m]).hasClass(w.hideSwatchMainViewClass)){f=c(e[m]);break}d(f);h(b,a.data.paymentOptionSelectButtonId)}else g(a.data.paymentOptionSelectButtonId),k.paymentOptionSelected.paymentOptionSelectedButtonId=a.data.paymentOptionSelectButtonId,k.paymentOptionSelected.paymentOptionClickedFromSideSheet=
!0},hideLastSwatch:d,unhideCorrespondingSwatch:h,resetOverflowDefaultOptions:function(a){if(!(3>=parseInt(a.data.numberOfPaymentOptions))){var b=c(w.paymentOptionsList)[0].children;a="";for(var e=b.length-2;0<=e;e--)if(!c(b[e]).hasClass(w.hideSwatchMainViewClass)){a=c(b[e]);break}b=c(c(c(a.children()[0]).children()[0]).children()[0])[0];b.classList.contains(l.selectedOption)||"3"===b.id.match(/\d+/g)[0]||(d(a),c("#monthlyPaymentOption03Swatch").parent().parent().parent().removeClass(w.hideSwatchMainViewClass))}}}});
"use strict";p.when("A").register("payment-plan-state",function(b){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"oneTimePaymentOption",paymentOptionClickedFromSideSheet:!1,paymentOptionDisabledButtonId:"",paymentOptionDisabledTitleSuppliment:"",paymentOptionUnAvailableMsg:""},get isSelected(){return this.property},set isSelected(b){this.property=b}}});"use strict";p.when("A","payment-plan-state","payment-options-constants","payment-options-client-side-metric").execute(function(b,e,
f,k){var g=b.$;b.declarative("otp-selection","click",function(d){var f=g(d.$currentTarget[0].parentNode);d=d.data.paymentOptionSelectButtonId;"payment-options-list-item"===f[0].parentNode.className?e.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(k.increment("SideSheet:OneTimePayment:Click"),e.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);e.paymentOptionSelected.paymentOptionSelectedButtonId=d;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:e.paymentOptionSelected.paymentOptionSelectedButtonId}})});
b.declarative("monthly-payment-option-selection","click",function(d){d.data.hasOwnProperty("optionId")&&""!==d.data.optionId&&k.increment("Swatch:Financing:"+d.data.optionId+":Click");k.increment("Swatch:MonthlyPayment:Click");b.trigger("a:declarative:select-payment-option:click",d);var f=g(d.$currentTarget);if(f!==x&&null!==f){var f=d.data.posubtitle,c=d.data.cardImageUrl,l=g(d.$currentTarget[0].parentNode),w=d.data.paymentOptionSelectButtonId;"payment-options-list-item"===l[0].parentNode.className?
e.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(d.data.hasOwnProperty("optionId")&&""!==d.data.optionId?k.increment("SideSheet:Financing:"+d.data.optionId+":Click"):k.increment("SideSheet:Financing:"+d.data.executionInfo.offerType+":"+d.data.termType+":"+d.data.termCount+":Click"),e.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);e.paymentOptionSelected.paymentOptionSelectedButtonId=w;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:e.paymentOptionSelected.paymentOptionSelectedButtonId,
subtitleMessage:f,cardImageUrl:c}});b.trigger("a:declarative:payment-options-overflow:click",d)}});b.declarative("compare-payment-plans-disable","click",function(b){e.paymentOptionSelected.paymentOptionUnAvailableMsg=b.data.paymentOptionUnAvailableMsg;b=b.data.disabledPaymentOptionId;var h=b.match(/\d+/g)[0],h="#"+f.disabledPaymentOptionSelecter+h;e.paymentOptionSelected.paymentOptionDisabledButtonId=b;e.paymentOptionSelected.paymentOptionDisabledTitleSuppliment=g(h).text()});b.declarative("compare-payment-plans-enable",
"click",function(b){(b=b.data.enablePaymentOptionId)&&""!==b&&(b=b.match(/\d+/g)[0],e.paymentOptionSelected.paymentOptionDisabledButtonId="",g("#"+f.disabledPaymentOptionSelecter+b).text(e.paymentOptionSelected.paymentOptionDisabledTitleSuppliment),e.paymentOptionSelected.paymentOptionDisabledTitleSuppliment="",g("[id\x3d"+f.popOverText+b+"cell]").removeClass(f.classes.popOverShowClass),g("[id\x3d"+f.popOverText+b+"cell]").addClass(f.classes.popOverHideClass))})});"use strict";p.when("A","cc-payment-options",
"payment-options-client-side-metric").execute(function(b,e,f){b.declarative("payment-options-emp-action","change",function(b){e.updatePaymentOptionSelection(b.data)});var k=b.debounce(function(){var e=b.$,d=e("#PaymentOptionsEmpAction");0<d.length&&d.trigger("change");0<e("#monthly-payments-not-applicable").length&&f.increment("Container:Render:Error");0<e(".payment-options-container").length&&f.increment("Container:Render:Success")},100);k();b.on("PageRefresh:ATF",k)});"use strict";p.when("A","price-block-payment-options",
"payment-options-client-side-metric","price-block-messaging-constants","ready").execute(function(b,e,f,k){var g=b.$;b.declarative("payment-options-emp-action-priceblock","change",function(b){e.updateUfoSelection(b.data)});var d=b.debounce(function(){var b=g("#PaymentOptionsEmpActionPriceBlock");0<b.length&&b.trigger("change");0<g("#monthly-payments-not-applicable").length&&f.incrementWithValuePriceBlockMessaging(k.metrics.RENDERED_FALSE,1);0<g(k.selector.PRICE_BLOCK_CONTAINER_CLASS).length&&0<g(k.selector.PRICE_BLOCK_STRING_CONTAINER).length&&
f.incrementWithValuePriceBlockMessaging(k.metrics.RENDERED_TRUE,1);g(k.selector.CHECKBOX_PRICE_BLOCK).length&&g("#checkbox-price-block-inputId").removeAttr("disabled")},100);d();b.on("PageRefresh:ATF",d)});"use strict";p.when("A","payment-options-client-side-metric","cc-payment-options","payment-options-constants").execute(function(b,e,f,k){var g=b.$;e=new e.Timer("Expander:Loading:Images:Time");e.start();f=function(){b.loadDescendantImagesManually(g(".payment-options-financing-option-card-image"));
b.loadDescendantImagesManually(g(".payment-options-expander-heading-image-container"));b.loadDescendantImagesManually(g(".payment-option-detailed-feature-scroll"));b.loadDescendantImagesManually(g(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(g(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(g(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(g(".payment-options-comparison-sheet-comparison-card-option"))};
f();b.on("a:pageUpdate",f);e.stop()});"use strict";p.when("A","payment-options-swatch-actions","payment-options-constants","payment-options-state","cc-manager").execute(function(b,e,f,k,g){function d(a){var b=a.executionInfo;b.cartType=f.parameters.cartTypes.addToCart;return{itemType:f.parameters.itemType,price:a.price,selectionType:f.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,
orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:!0,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,maxQuantity:a.maxQuantity,displayQuantityMessage:!0,formData:[{inputType:f.paymentOfferInputElement.inputType,inputName:f.paymentOfferInputElement.name,inputValue:b}]}}var h=b.$,c=f.selector,l=f.featureRegistration.featureName,w;b.on("a:dropdown:selected:quantity",function(a){var m=h("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||
0,u=h("#paymentOption_"+m+" .payment-options-list-item"),m=h("#paymentOption_"+m+" #oneTimePaymentOptionSwatch");a=a.value;for(var r=b.$(f.classSelector+c.selectedOption).closest(".payment-options-list-item").find("span.a-declarative").data(c.monthlyPaymentAction),z=1;z<u.length;z++){var p=u.eq(z).find("span.a-declarative").data(c.monthlyPaymentAction),v=p.maxQuantity;v&&(a>v?(e.disableSwatch(u.eq(z)),v={data:{paymentOptionUnAvailableMsg:p.unAvailableText,numberOfPaymentOptions:p.numberOfPaymentOptions,
disabledPaymentOptionId:p.paymentOptionSelectButtonId}},k.getWeblabData().isComparePlansRefactorWeblabInT1?b.trigger("a:declarative:compare-payment-plans-disable:click",v):e.disableOptionInCompareAllPlans(v),r&&p.offerGroup===r.offerGroup&&(h(m).click(),g.ccRemovedSelectionUpdate(l,d(p)),w=p.offerGroup)):(e.enableSwatch(u.eq(z)),k.getWeblabData().isComparePlansRefactorWeblabInT1?b.trigger("a:declarative:compare-payment-plans-enable:click",{data:{enablePaymentOptionId:p.paymentOptionSelectButtonId}}):
e.enableOptionInCompareAllPlans(p.numberOfPaymentOptions),w&&p.offerGroup===w&&(h(".tp-bbm-info-message-quantity-restriction-container").hasClass("tp-bbm-info-message-displayable")&&b.trigger("a:declarative:payment-options-monthly-payment-action:click",{$currentTarget:u.eq(z).find("span.a-declarative"),data:p}),g.ccRemovedSelectionsClear(l))))}})});"use strict";p.when("A","payment-options-constants","price-block-message-actions","price-block-messaging-constants","comparison-plans-state","price-block-payment-options",
"po-compare-plans-actions","price-block-buy-box-utils").execute(function(b,e,f,k,g,d,h,c){function l(a,c){if(c.maxQuantity)if(a>c.maxQuantity){a=c.unAvailableMsg;var d=c.paymentOptionSelectButtonId;c=k.ID_PREFIX+e.disabledPaymentOptionSelecter+c.paymentOptionIndex;b.contains(g.paymentOptionSelected.disabledPaymentOptionIds,d)||(g.paymentOptionSelected.paymentOptionUnAvailableMsg.push(a),g.paymentOptionSelected.disabledPaymentOptionIds.push(d),g.paymentOptionSelected.paymentOptionDisabledTitleSupplement.push(m(c).text()))}else 0<=
g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(c.paymentOptionSelectButtonId)&&(a=c.paymentOptionIndex,(c=c.paymentOptionSelectButtonId)&&""!==c&&b.contains(g.paymentOptionSelected.disabledPaymentOptionIds,c)&&(c=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(c),g.paymentOptionSelected.disabledPaymentOptionIds.splice(c,1),m(k.ID_PREFIX+e.disabledPaymentOptionSelecter+a).text(g.paymentOptionSelected.paymentOptionDisabledTitleSupplement[c]),g.paymentOptionSelected.paymentOptionDisabledTitleSupplement.splice(c,
1),g.paymentOptionSelected.paymentOptionUnAvailableMsg.splice(c,1),m("[id\x3d"+e.popOverText+a+"cell]").removeClass(e.classes.popOverShowClass),m("[id\x3d"+e.popOverText+a+"cell]").addClass(e.classes.popOverHideClass)))}function w(a){if(a=h.getTopEnabledOfferDataInComparisonTable(a))return a.paymentOptionSelectButtonId}function a(a,b,c){B&&a.find(k.ID_PREFIX+B).length?0<=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(B)?(a={},a[u.MAX_QUANTITY_VARIABLE]=h.getMaxQuantityData(B)+1,f.showErrorMessage(k.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,
b,!0,a),d.cancelUfoSelection()):h.selectAndConfirmPlan(C,B):x&&x!==v?f.resetPriceBlockMessageWithTopEligibleOffer(b):(a=h.getTotalOptionCount(C))&&a===g.paymentOptionSelected.disabledPaymentOptionIds.length&&(a={},a[u.MAX_QUANTITY_VARIABLE]=h.findMaximumMaxQuantity(C)+1,f.showErrorMessage(k.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,b,!0,a))}var m=b.$,u=k.selector,r=k.classes,p=k.DASH_SPLITTER,v,x,B,C;b.on("a:dropdown:selected:quantity",function(b){if(m(u.PRICE_BLOCK_STRING_CONTAINER).length){C=
c.getActiveBuyingOptionIndex();var d=b.value;b=m([u.COMPARISON_TABLE_MODAL_PREFIX,C].join(p));var e=b.find(u.COMPARISON_TABLE_COLUMN_CLASS);v=w(C);var f=m(u.PRICE_BLOCK_CONTAINER_PREFIX+C);m.each(e,function(a,b){a=m(b).find(u.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).parent().data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);b=a.buyingOptionIndex;var c=a.paymentProductIndex;1<a.numberOfPaymentOptionsWithinProduct?(a=m([u.OFFER_SELECTION_VIEW_ID_PREFIX,b,c].join(p)).find(u.OFFER_SELECTION_ROW_ACTION_CLASS),
m.each(a,function(a,b){a=m(b).closest(u.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME);l(d,a)})):l(d,a)});x=w(C);B=g.paymentOptionSelected.paymentOptionSelectedButtonId;a(b,f,e)}})});"use strict";p.when("A","payment-options-constants").register("payment-options-state",function(b,e){function f(){if(!g||0===Object.keys(g).length){var b=k(e.selector.paymentOptionsWeblabs).attr(e.selector.paymentOptionsWeblabsAttribute);b&&(g=JSON.parse(b))}return g}var k=b.$,g={};b={getWeblabData:f};f();return b});
"use strict";p.when("A","compare-plan-row-constants","ready").register("price-block-messaging-constants",function(b,e){var f={UNKNOWN:"UNKNOWN",PAYMENT_OFFER_INFO_TYPE:"paymentOfferInfoType",PAYMENT_OFFER_INFO_FIELD:"paymentOfferInfo",BLANK_STRING:"",ID_PREFIX:"#",CLASS_PREFIX:".",ONE_TIME_PAYMENT_OPTION_ID:"oneTimePaymentOption",DASH_SPLITTER:"-",PAYMENT_OPTION_SELECT_BUTTON_ID_KEY:"paymentOptionSelectButtonId",HIDDEN_CSS_CLASS:"aok-hidden",parameter:{cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"}},
deviceType:{WEB:"web",MOBILE_WEB:"mobile",MOBILE_APP:"mobileApp"},paymentOfferInputElement:{inputType:"hidden",poiFieldPlaceholder1:"paymentOfferInfo",poiFieldPlaceholder2:"items[0.base][additionalParameters][paymentOfferInfo]",poiIHIFiledPlaceholder1:"items[0.base][additionalParameters][installments][programId]",poiIHIFiledPlaceholder2:"isInstallmentsChecked",poiIHIFiledPlaceholder3:"installments-check",poiIHIFiledPlaceholder4:"installments-programId"},selector:{priceBlockMessageSinglePlanUnavailableMsg:"priceBlockMessageSinglePlanUnavailable",
BUYBOX_ACCORDION:"#buybox .a-accordion",ADD_TO_CART_BUTTON_ID:"#add-to-cart-button, #installments-button, #add-to-cart-button-ubb-mobile, #pickup-add-to-cart-button",BUYNOW_BUTTON_ID:"#buy-now-button",ACCORDION_ROW_CLASS:".accordion-row",DECLARATIVE_CLASS:".a-declarative",SPAN_DECLARATIVE:"span.a-declarative",DATA_ATTRIBUTE_ACTION:"action",OFFER_DISPLAY_GROUP:"#offerDisplayGroup",MOBILEAPP_TABS_ELEMENT_ID:"[id^\x3dtab_mobileapp_buybox_group]",TAB_GROUP_NAME:"data-csa-c-content-id",BUYBOX_TAB_ACTIVE:"#buybox .a-tab-heading.a-active",
NO_TABS_GROUP_DESKTOP:"#buybox div:first-child",NO_TABS_GROUP_MOBILE:"#buybox div:first-child div:first-child",DEFAULT_WEB_GROUP_NAME:"desktop_buybox_group_1",DEFAULT_MOBILE_WEB_GROUP_NAME:"mobile_buybox_group_1",DEFAULT_MOBILE_APP_GROUP_NAME:"mobileapp_buybox_group_1",PAYMENT_OFFER_INPUTS_CLASS:".paymentOfferInputs",PAYMENT_OFFER_INPUTS_CLASS_NAME:"paymentOfferInputs",PAYMENT_OFFER_INFO_INPUT:"input[name\x3d'paymentOfferInfo']",SELECT_BUTTON_CLASS_PREFIX:".monthlyPaymentOption-",PRICE_BLOCK_CONTAINER_PREFIX:"#price-block-container-",
PRICE_BLOCK_CONTAINER_CLASS:".price-block-container",PRICE_BLOCK_STRING_CONTAINER:".price-block-label",CONFIRM_PLAN_BUTTON_CLASS:".payment-option-confirm-button",CANCEL_PLAN_BUTTON_ID:"#price-block-cancel-plan-button",COLUMN_ID_PREFIX:"#monthly-payment-option-column-",POPOVER_ID:"#popover{numericSuffix}cell",NUMERIC_SUFFIX_VARIABLE:"{numericSuffix}",MAX_QUANTITY_VARIABLE:"${maxQuantity}",DISABLED_PAYMENT_OPTION_PREFIX:"#titleSupplement",PRICE_BLOCK_AMOUNT_PREFIX_ID:"#price-block-amount-prefix",PRICE_BLOCK_AMOUNT_ID:"#price-block-amount",
PRICE_BLOCK_AMOUNT_SUFFIX_ID:"#price-block-amount-suffix",COMPARE_PLAN_LINK_SELECTED:"#compare-plan-link-text-selected",COMPARE_PLAN_LINK_UNSELECTED:"#compare-plan-link-text-not-selected",PRICE_BLOCK_STRING:"#price-block-message",OPTION_SELECTION_MESSAGE:"#option-selection-message",PREVIOUS_OPTION_ITEM_APPLICABILITY_MESSAGE:"#previous-option-item-applicability-message",PRICE_BLOCK_ALERT_ERROR:"#price-block-error-icon",PRICE_BLOCK_ERROR_STRING_ID:"#price-block-error-string",PRICE_BLOCK_ERROR_CONTAINER:"#price-block-error-message",
COMPARE_PLAN_LINK:"#compare-plan-link",ACTIVE_TAB:"#buybox .a-tab-heading.a-active",TAB_PREFIX:"#tab_",BUY_BOX_ACCORDION_ROWS:"#buyBoxAccordion",ACCORDION_ROW_FOR_BUYING_OPTION_INDEX:"\x3e[data-buying-option-index\x3d'{buyingOptionIndex}']",BUYING_OPTION_INDEX_VARIABLE:"{buyingOptionIndex}",ACTIVE_ACCORDION:".a-accordion-active",ADD_TO_CART_FORM_ID:"#addToCart",BUY_NOW_FORM_ID:"form#buyNow, form#buyNowCheckout",DELIVERY_TAB:"#offerDisplayGroupTabSet [id$\x3d'_buybox_group_1']",PICKUP_TAB:"#offerDisplayGroupTabSet [id$\x3d'_buybox_group_2']",
OFFER_DISPLAY_GROUP_TAB_SET:"#offerDisplayGroupTabSet",COMPARE_PLAN_AFTER_SHOW:"a:popover:afterShow:",SINGLE_PLAN_UNAVAILABLE_ID:"#priceBlockMessageSinglePlanUnavailable",PRICE_BLOCK_MSG:".price-block-msg",PRICE_BLOCK_INNER_AMOUNT:".price-block-inner-amount",PRICE_BLOCK_SUBTITLE_TEXT:".payment-option-subtitle-text",PRICE_BLOCK_SUCCESS:".payment-option-success",PRICE_BLOCK_OR_TEXT:".price-block-or-text",PRICE_BLOCK_AMOUNT:".price-block-amount",PRICE_BLOCK_EXTRA_TEXT:".price-block-extra-text",PRICE_BLOCK_ALERT:".price-block-icon",
PRICE_BLOCK_ALERT_SUCCESS:"#price-block-selected-icon",APEX_PRICE_BLOCK_CONTAINER:"#paymentOptions_PriceblockMessaging_feature_div",SIDE_SHEET_CLOSE_BUTTON:".payment-options-side-sheet-close-button",ONE_TIME_PAYMENT_OPTION_ID:"#oneTimePaymentOption",PAYMENT_OPTIONS_CHECKBOX:".payment-options-checkbox",COMPARISON_TABLE_COLUMN_CLASS:".comparison-table-product-column",COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS:".comparison-table-row-value-action",OFFER_SELECTION_SHEET_CLASS:".compare-plan-offer-selection-sheet",
LEARN_MORE_SHEET_CLASS:".compare-plan-learn-more-sheet",COMPARISON_TABLE_PREFIX:"#comparison-table",COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX:"#comparison-table-compare-sheet-monthly-payment",COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX:"#comparison-table-confirm-plan-button",COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX:"#comparison-table-error-message",COMPARISON_TABLE_MODAL_PREFIX:"#compare-plan-modal",COMPARISON_TABLE_OPTION_LIKE:".comparison-table-row-value-options-like",COMPARISON_TABLE_MORE_OPTION:".comparison-table-row-value-more-option",
COMPARISON_TABLE_SELECT_PLAN_BUTTON_CLASS:".comparison-table-modal-select-plan-button",COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_CLASS:".comparison-table-modal-select-plan-button-text",COMPARISON_TABLE_COLUMN_ID_PREFIX:"#monthly-comparison-table-column",COMPARISON_TABLE_SELECT_PLAN_BUTTON_ID_PREFIX:"#comparison-table-select-plan-button",COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_ID:"#comparison-table-modal-select-plan-button-text",COMPARISON_TABLE_ROW_VALUE_MORE_OPTION_ID:"#comparison-table-row-value-more-option",
COMPARISON_TABLE_ROW_VALUE_OPTION_LIKE_ID:"#comparison-table-row-value-options-like",COMPARISON_TABLE_MODAL_CLASS:".compare-plan-modal-wrapper",OFFER_SELECTION_ROW_CLASS:".compare-plan-offer-selection-value-row",OFFER_SELECTION_OPTION_LIST_ID_PREFIX:"#compare-plan-offer-selection-value-row-list",OFFER_SELECTION_ROW_ID_PREFIX:"#compare-plan-offer-selection-value-row",OFFER_SELECTION_VIEW_ID_PREFIX:"#compare-plan-offer-selection-sheet",OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX:"#compare-plan-offer-selection-error-message",
OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX:"#compare-plan-offer-selection-continue-button",OFFER_SELECTION_DISABLED_ROW_CLASS:".compare-plan-offer-selection-disabled-row",OFFER_SELECTION_ROW_ACTION_CLASS:".compare-plan-offer-selection-value-row-action",COMPARISON_TABLE_CAN_DISABLE_CLASS:".comparison-table-can-disable",COMPARISON_TABLE_CANCEL_BUTTON_CLASS:".comparison-table-modal-cancel-plan-button",COMPARISON_TABLE_SELECT_PLAN_WITH_OFFER_GROUP_CLASS_PREFIX:".compare-plan-select-plan",MORE_OPTION_CLASS:".comparison-table-more-options",
MORE_OPTION_PREFIX:"#payment-option-more-options-",COMPARISON_TABLE_SELECT_ACTION_BUTTON:".comparison-table-modal-select-action-button"}};b.$.extend(f.selector,e);f.classes={SELECTED_PAYMENT_OPTION_BORDER:"payment-option-selected-column-border",NORMAL_PAYMENT_OPTION_BORDER:"payment-option-column-normal-border",SELECTED_PAYMENT_OPTION_ORDER:"payment-option-selected-column-order",CONFIRM_PLAN_BUTTON:"payment-option-confirm-button",DISABLED_PAYMENT_OPTION:"payment-option-disabled-column",DISABLED_PAYMENT_OPTION_ORDER:"payment-option-disabled-column-order",
POPOVER_HIDE:"popover-hide",POPOVER_SHOW:"popover-show",DISABLED_PAYMENT_OPTION_ORDER_ENABLE_POINTER:"payment-option-disabled-column-enable-pointer",COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER:"comparison-table-selected-column-border",COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND:"comparison-table-selected-column-background",COMPARISON_TABLE_DISABLED_COLUMN:"comparison-table-disabled-column",COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA:"comparison-table-select-plan",COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED:"comparison-table-modal-select-plan-button-selected",
COMPARISON_TABLE_LEARN_MORE_ACTION_DATA:"comparison-table-learn-more",COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA:"comparison-table-confirm-plan",COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX:"comparison-table-payment-details-amount-text",COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX:"comparison-table-interest-amount",COMPARISON_TABLE_INTEREST_APR_ID_PREFIX:"comparison-table-interest-apr",COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX:"comparison-table-total-amount",COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX:"cart-level-text",
COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX:"item-level-text",COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX:"comparison-table-card-reward-text",COMPARISON_TABLE_LEARN_MORE_ID_PREFIX:"comparison-table-learn-more",OFFER_SELECTION_DISABLE_ROW_CLASS:"compare-plan-offer-selection-disabled-row",OFFER_SELECTION_ROW_ACTION_PREFIX:"compare-plan-offer-selection-value-row-action",OFFER_SELECTION_ROW_ACTION_NAME:"offer-selection-select-row",OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS:"compare-plan-offer-selection-value-row-selected-border",
OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS:"compare-plan-offer-selection-value-row-selected-background",OFFER_SELECTION_CONTINUE_ACTION_DATA:"compare-plan-offer-selection-continue",OFFER_SELECTION_ACTION_NAME_CAMEL_CASE:"offerSelectionSelectRow",MORE_OPTION_CLASS:".comparison-table-more-options"};f.actionData={SELECT_BUTTON_CLICK_DATA:"priceBlockSelectPaymentPlan",CONFIRM_PLAN_CLICK_DATA:"paymentOptionConfirmPlan",BUYING_OPTION_INDEX:"buyingOptionIndex",COMPARE_PLAN_V2_ACTION_DATA:"priceBlockComparePlans"};
f.attributes={TAB_CONTENT_ID:"data-csa-c-content-id",SELECT_PAYMENT_PLAN:"price-block-select-payment-plan",ariaChecked:"aria-checked"};f.natcParams={paymentOfferInfo:"items[0.base][additionalParameters][paymentOfferInfo]",inHouseInstallments:"items[0.base][additionalParameters][installments][programId]"};f.classActions={ADD:"add",REMOVE:"remove"};f.errorMessageType={PAYMENT_OPTION_UNAVAILABLE:"paymentOptionUnavailable",PLAN_UNAVAILABLE_OVER_MAX_QUANTITY:"planUnavailableOverMaxQuantity"};f.metrics=
{RENDERED_TRUE:"PriceBlock2:Render:True:Desktop",RENDERED_FALSE:"PriceBlock2:Render:False:Desktop",SELECT_BUTTON_CLICK:"PriceBlock2:SelectButton:Click:Desktop",CONFIRM_PLAN_CLICK:"PriceBlock2:ConfirmPlan:Click:Desktop",CANCEL_PLAN_CLICK:"PriceBlock2:CancelPlan:Click:Desktop",LEARN_MORE_CLICK:"PriceBlock2:LearnMore:Click:Desktop",COMPARE_PLAN_CLICK:"PriceBlock2:ComparisonPlanLink:Click:Desktop",COMPARE_PLAN_RENDERED:"PriceBlock2:ComparisonPlan:Rendered:Desktop",OFFER_SELECTION_SUCCESSFUL:"PriceBlock2:OfferSelection:Successful",
PAYMENT_METHOD_CARD_SUPPLEMENT_CLICK:"PriceBlock2:PaymentMethodCardSupplement:Click:Mobile",CP2_SELECT_BUTTON_SINGLE_OFFER_CLICK:"PriceBlock2:CP2:SelectButtonSingleOffer:Click:Desktop",CP2_CONFIRM_PLAN_OFFER_SELECTED_CLICK:"PriceBlock2:CP2:ConfirmPlanOfferSelected:Click:Desktop",CP2_CONFIRM_PLAN_WITHOUT_OFFER_SELECTED_CLICK:"PriceBlock2:CP2:ConfirmPlanNoOfferSelected:Click:Desktop",CP2_CANCEL_PLAN_CLICK:"PriceBlock2:CP2:CancelPlan:Click:Desktop",CP2_LEARN_MORE_CLICK:"PriceBlock2:CP2:LearnMore:Click:Desktop",
CP2_SELECT_BUTTON_MORE_OFFER_CLICK:"PriceBlock2:CP2:SelectButtonMoreOffer:Click:Desktop",CP2_OFFER_SELECTION_SELECT_ROW_CLICK:"PriceBlock2:CP2:OfferSelectionSelectRow:Click:Desktop",CP2_OFFER_SELECTION_CONTINUE_CLICK:"PriceBlock2:CP2:OfferSelectionContinue:Click:Desktop",CP2_BACK_CLICK:"PriceBlock2:CP2:Back:Click:Desktop"};f.supportedTargetTypes=["_self","_blank","_parent","_top","_unfencedTop"];return f});"use strict";p.when("A","price-block-messaging-constants","payment-options-opt-out-state","turbo-checkout-handler-pb",
"payment-options-client-side-metric","price-block-buy-box-utils","ready").register("price-block-payment-options",function(b,e,f,k,g,d){var h,c;function l(a,d){a.data.buyingOptionType!==e.UNKNOWN&&(b.delay(function(){h=r(p(d));C(p(d),h,a,!0)}),c=r(v(d)),C(v(d),c,a,!1))}function w(a,b){a=G(a.data.executionDetails);var c=O(b);H(a,!0);K(a);J(a,c);b=B(b);H(a,!1);J(a,b);k.updateInputCheckbox(!0)}function a(){if(f.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet){var a={data:{executionDetails:{paymentOfferInfoType:'{"isOTP": true}'}}};
l(a);w(a)}}function m(a){var b=JSON.parse(a.executionDetails.paymentOfferInfoType);b.sessionId=a.sessionId;b.customerId=a.customerId;b.marketplaceId=a.marketplaceId;b.requestId=a.requestId;b.deviceType=a.deviceType;b.asin=a.asin;b.buyingOptionType=a.buyingOptionType;b.parentASIN=a.parentASIN;b.websiteDisplayGroup=a.websiteDisplayGroup;a.executionDetails.paymentOfferInfoType=JSON.stringify(b)}function u(a){var b=JSON.parse(a.executionDetails.paymentOfferInfoType);b.isFinancingCartLevel=a.isOrderLevel;
a.executionDetails.paymentOfferInfoType=JSON.stringify(b)}function r(a){var c=[];a.each(function(){var a=A(this).parents(y.DECLARATIVE_CLASS);if(0<a.length){var d;d=A(a).data(y.DATA_ATTRIBUTE_ACTION).split("-");for(var e=d[0],f=1;f<d.length;f++)var g=d[f].charAt(0).toUpperCase()+d[f].slice(1),e=e+g;d=e;a=b.copy(A(a).data(d));c.push({dataActionKey:d,initialFormData:a})}});return c}function p(a){return a||(a=A(y.OFFER_DISPLAY_GROUP))&&1===a.length?a.find(y.ADD_TO_CART_BUTTON_ID):(a=A(y.BUYBOX_ACCORDION))&&
1===a.length?a.find(y.ADD_TO_CART_BUTTON_ID):A(y.ADD_TO_CART_BUTTON_ID)}function v(a){a&&a.find(y.BUYNOW_BUTTON_ID);return(a=A(y.OFFER_DISPLAY_GROUP))&&1===a.length?a.find(y.BUYNOW_BUTTON_ID):(a=A(y.BUYBOX_ACCORDION))&&1===a.length?a.find(y.BUYNOW_BUTTON_ID):A(y.BUYNOW_BUTTON_ID)}function O(a){return[a&&1===a.length?a.find(y.ADD_TO_CART_FORM_ID):A(y.ADD_TO_CART_FORM_ID)]}function B(a){return[a&&1===a.length?a.find(y.BUY_NOW_FORM_ID):A(y.BUY_NOW_FORM_ID)]}function C(a,b,c,d){var e=0,f=d?"addToCartData":
"buyNowData",g=G(c.data.executionDetails);H(g,d);d&&K(g);a.each(function(){var a=A(this).parents(y.DECLARATIVE_CLASS);if(0<a.length){var c=b[e++];if(c!==x){Object.keys(L[f]).forEach(function(a,b){delete c.initialFormData.inputs[a]});var d=A.extend({},c.initialFormData.inputs,g),h=A.extend({},c.initialFormData);h.inputs=d;a.data(c.dataActionKey,h)}}});L[f]=g}function J(a,b){var c=A("\x3cfieldset\x3e",{"class":y.PAYMENT_OFFER_INPUTS_CLASS_NAME});Object.keys(a).forEach(function(b){A("\x3cinput\x3e").attr({type:e.paymentOfferInputElement.inputType,
name:b,value:a[b]}).appendTo(A(c))});var d=b[0].find(y.PAYMENT_OFFER_INPUTS_CLASS);d.length?A(d).replaceWith(c):b[0].append(c);return!!b[0].length}function G(a){var b={};Object.keys(a).forEach(function(c){b[c===e.PAYMENT_OFFER_INFO_TYPE?e.PAYMENT_OFFER_INFO_FIELD:c]=a[c]});return b}function K(a){Object.keys(a).forEach(function(b){e.natcParams[b]&&(a[e.natcParams[b]]=a[b])})}function H(a,b){if(a[e.PAYMENT_OFFER_INFO_FIELD]){var c=JSON.parse(a[e.PAYMENT_OFFER_INFO_FIELD]);c.cartType=b?e.parameter.cartTypes.addToCart:
e.parameter.cartTypes.buyNow;a[e.PAYMENT_OFFER_INFO_FIELD]=JSON.stringify(c)}}function D(a,b){var c=d.getActiveAccordionBuyBox(b);b=G(a.data.executionDetails);a=a.data.deviceType;var f;f=O(c);var g=B(c);f=F(b,f)||F(b,g);a===e.deviceType.MOBILE_APP&&(a=r(p(c)),c=r(v(c)),f=E(b,a)||E(b,c)||f);return f}function F(a,c){c=c[0].find(y.PAYMENT_OFFER_INPUTS_CLASS);var d=Object.keys(a).length;a=JSON.parse(a.paymentOfferInfo).businessMetric;if(c.length){for(var e=0;e<c.length;e++){var f=c[e],g=A(f).find(y.PAYMENT_OFFER_INFO_INPUT).attr("value");
if(f.children.length<d||!b.contains(g,a))return!1}return!0}return!1}function E(a,c){var d=JSON.parse(a.paymentOfferInfo).businessMetric;if(c.length){for(var e=0;e<c.length;e++){var f=c[e].initialFormData.inputs,g=f.paymentOfferInfo;if(I(a,f)||!b.contains(g,d))return!1}return!0}return!1}function I(a,c){a=Object.keys(a);return b.filter(a,function(a){return 0>b.indexOfArray(Object.keys(c),a)}).length}var A=b.$,y=e.selector;h=[];c=[];var L={addToCartData:{},buyNowData:{}};return{updateUfoSelection:function(a,
c){var f=a.data.deviceType,h=a.data.buyingOptionType;u(a.data);m(a.data);var k=e.metrics.OFFER_SELECTION_SUCCESSFUL+":"+f+":"+h+":",h=d.getActiveAccordionBuyBox(c);f===e.deviceType.MOBILE_APP&&l(a,h);w(a,h);g.logNexusEventForMonthlyPaymentSelection(a);b.delay(function(){var b=D(a,c);g.incrementWithValuePriceBlockMessaging(k+b,1);g.incrementWithValuePriceBlockMessaging(e.metrics.OFFER_SELECTION_SUCCESSFUL+":"+b,1)})},updateOneTimePaymentSelection:a,cancelUfoSelection:function(){A(y.PAYMENT_OFFER_INPUTS_CLASS).empty();
(h.length||c.length)&&l({data:{executionDetails:{}}});a();k.updateInputCheckbox(!1)},isPaymentOfferInputsUpdated:D}});"use strict";p.when("A","price-block-messaging-constants").register("turbo-checkout-handler-pb",function(b,e){var f=b.$,k,g={updateInputCheckbox:function(b){k=f(e.selector.PAYMENT_OPTIONS_CHECKBOX);f.each(k,function(e,c){e=f(c);c=e.prop("checked");!c&&b?e.prop("checked","true").trigger("change"):c&&!b&&e.click()})}};g.updateInputCheckbox(!1);b.on("PageRefresh:ATF",function(){g.updateInputCheckbox(!1)});
return g});"use strict";p.when("A").register("comparison-plans-state",function(b){function e(){f.paymentOptionSelected={paymentOptionSelectedButtonId:"",paymentOptionClickedFromSideSheet:!1,disabledPaymentOptionIds:[],paymentOptionDisabledTitleSupplement:[],paymentOptionUnAvailableMsg:[]}}var f={get isSelected(){return this.property},set isSelected(b){this.property=b}};e();b.on("PageRefresh:ATF",e);return f});"use strict";p.when("A").register("payment-options-opt-out-state",function(b){return{paymentOptionOptOutSelected:{isOneTimePaymentPreferenceSet:!1,
changePlanEventData:""},secondaryViewInstance:null}});"use strict";p.when("A","payment-options-client-side-metric","price-block-messaging-constants").register("payment-options-side-sheet",function(b,e,f){function k(b){h("#payment-options-side-sheet-container-"+b).show(function(){d(b,{right:"0px"})})}function g(b){h("#payment-options-side-sheet-container-"+b).show(function(){d(b,{right:"-600px"})})}function d(c,d,e){b.animate(h("#payment-options-side-sheet-container-"+c),d,300,e)}var h=b.$;b.declarative("open-payment-options-side-sheet",
"click",function(c){var d=c.data.buyingOptionIndex;h(".payment-options-side-sheet-content").addClass("aok-hidden");var e=h("#payment-options-side-sheet-container-"+d+" #payment-options-side-sheet-main-section");h("#"+c.data.contentId).removeClass("aok-hidden");e.removeClass("aok-hidden");h("#payment-options-side-sheet-container-"+d).removeClass("aok-hidden");c=c.data.buyingOptionIndex;h("body").css("overflow","hidden");b.show("#payment-options-side-sheet-dp-bg-"+c);k(c)});b.declarative("close-payment-options-side-sheet",
"click",function(c){c=c.data.buyingOptionIndex;g(c);b.hide("#payment-options-side-sheet-container-"+c);b.hide("#payment-options-side-sheet-dp-bg-"+c);h("body").css("overflow","scroll")});b.declarative("payment-options-card-supplement","click",function(b){e.incrementWithValuePriceBlockMessaging(f.metrics.PAYMENT_METHOD_CARD_SUPPLEMENT_CLICK,1);b=b.data.url;var d=Object.fromEntries((new URL(b)).searchParams.entries());"${redirect_url}"===d.redirectUrl&&(b=b.replace("${redirect_url}",encodeURIComponent(v.location.href)));
-1!==f.supportedTargetTypes.indexOf(d.target)?v.open(b,d.target):v.open(b)})});"use strict";p.when("A","po-learn-more-actions","price-block-messaging-constants","payment-options-client-side-metric").register("payment-options-price-block-learn-more-events",function(b,e,f,k){b.declarative("payment-options-price-block-learn-more","click",function(g){e.stopEventPropagation(g);k.incrementWithValuePriceBlockMessaging(f.metrics.LEARN_MORE_CLICK,1);b.trigger("a:declarative:open-payment-options-side-sheet:click",
g);e.preRenderSelectedFinancingOption(g.data.selectText,g.data.selectedText)});b.declarative("payment-options-gil-prequal-learn-more","click",function(b){k.incrementWithValuePriceBlockMessaging(f.metrics.PREQUAL_GET_PREQUALIFIED_CLICK,1);b=b.data.prequalUrl+"\x26redirectUrl\x3d"+encodeURIComponent(v.location.href);v.open(b,"_blank")})});"use strict";p.when("A","price-block-message-actions","price-block-payment-options","comparison-plans-state","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-offer-selection-events",
function(b,e,f,k,g,d){function h(b){var a=c(b.$currentTarget);a!==x&&null!==a&&(a=b.data.paymentOptionSelectButtonId,k.paymentOptionSelected.paymentOptionSelectedButtonId=a,a===g.ONE_TIME_PAYMENT_OPTION_ID?delete k.paymentOptionSelected.offerGroup:k.paymentOptionSelected.offerGroup=b.data.offerGroup)}var c=b.$,l=g.selector;b.declarative("price-block-select-payment-plan","click",function(g){d.logNexusEventForComparePlansOfferSelection(g);var a=c(g.$currentTarget);a===x||null===a||b.contains(k.paymentOptionSelected.disabledPaymentOptionIds,
g.data.paymentOptionSelectButtonId)||(a=g.data.buyingOptionIndex,f.updateUfoSelection(g,a),h(g),g=g.data.optionSelectedString,a=c(l.PRICE_BLOCK_CONTAINER_PREFIX+a),e.hideErrorMessage(a),e.updatePriceBlockMessageWithSelectedOption(g,a))});b.declarative("price-block-otp-action","click",function(b){var a=c(b.$currentTarget);a!==x&&null!==a&&(a=b.data.buyingOptionIndex,f.cancelUfoSelection(),h(b),b=c(l.PRICE_BLOCK_CONTAINER_PREFIX+a),e.resetPriceBlockMessageWithTopEligibleOffer(b))})});"use strict";p.when("A",
"price-block-payment-options","comparison-plans-state","price-block-messaging-constants","price-block-message-actions","po-compare-plans-actions","price-block-buy-box-utils").register("price-block-mod-buy-box-listener",function(b,e,f,k,g,d,h){var c=b.$,l=k.selector;b.on("a:tabs:offerDisplayGroup_tabs:select",function(d){c(l.PRICE_BLOCK_STRING_CONTAINER).length&&(d=k.ID_PREFIX+d.selectedTab.$tab[0].id,h.updateActiveTab(d),d=h.getActiveBuyingOptionIndex(d),b.trigger("a:declarative:update-offer-selection-on-switch-buying-option:click",
d))});b.on("a:accordion:buybox-accordion:select",function(d){c(l.PRICE_BLOCK_STRING_CONTAINER).length&&(d=parseInt(d.selectedRow.$row.index()),h.updateActiveBuyingOptionIndex(d),b.trigger("a:declarative:update-offer-selection-on-switch-buying-option:click",d))});b.declarative("update-offer-selection-on-switch-buying-option","click",function(b){var a=f.paymentOptionSelected.offerGroup,h=f.paymentOptionSelected.paymentOptionSelectedButtonId,u=c([l.COMPARISON_TABLE_MODAL_PREFIX,b].join(k.DASH_SPLITTER)),
r=c(l.PRICE_BLOCK_CONTAINER_PREFIX+b);h===k.ONE_TIME_PAYMENT_OPTION_ID?u.length?u.find(l.COMPARISON_TABLE_CANCEL_BUTTON_CLASS).click():g.hideErrorMessage(r):a&&(h=u.find(l.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS),a=u.find(c([l.COMPARISON_TABLE_SELECT_PLAN_WITH_OFFER_GROUP_CLASS_PREFIX,a].join(k.DASH_SPLITTER))),u&&a&&a.length?d.selectAndConfirmPlan(b,a.attr("id")):(b=u&&h&&h.length,e.cancelUfoSelection(),g.showErrorMessage(k.errorMessageType.PAYMENT_OPTION_UNAVAILABLE,r,b,{})))})});"use strict";
p.when("A","price-block-messaging-constants").register("price-block-buy-box-utils",function(b,e){function f(){if(g(d.PRICE_BLOCK_STRING_CONTAINER).length){g(d.OFFER_DISPLAY_GROUP_TAB_SET).length&&(m=e.ID_PREFIX+g(d.DELIVERY_TAB)[0].id,u=e.ID_PREFIX+g(d.PICKUP_TAB)[0].id);l={};var b=g(u),f=g(d.PRICE_BLOCK_CONTAINER_CLASS);b.length&&f.length&&(a=0===b.index()?0:parseInt(f.slice(-1).attr("id").split("-").pop()));k(a,u);b=g(d.ACTIVE_ACCORDION).data(c.BUYING_OPTION_INDEX);0===a?(k(b?b:1,m),p=u):(k(b?b:
0,m),p=m)}}function k(a,b){b||(b=p);l[b]=a}var g=b.$,d=e.selector,h=e.attributes,c=e.actionData,l,p,a,m,u;f();b.on("PageRefresh:ATF",f);return{getActiveAccordionBuyBox:function(b,c){b=parseInt(b);c=c?g(c):g(d.ACTIVE_TAB);c.length&&b!==x&&(c=b===a?g(u):g(m));var e,f;1===c.length?(e=c.attr(h.TAB_CONTENT_ID),f=g(d.TAB_PREFIX+e+" "+d.BUY_BOX_ACCORDION_ROWS)):f=g(d.BUY_BOX_ACCORDION_ROWS);var k;1===f.length?k=b||0===b?f.find(d.ACCORDION_ROW_FOR_BUYING_OPTION_INDEX.replace(d.BUYING_OPTION_INDEX_VARIABLE,
b)):f.find(d.ACTIVE_ACCORDION):1===c.length&&(k=g(d.TAB_PREFIX+e));return k},updateActiveBuyingOptionIndex:k,updateActiveTab:function(a){p=a},getActiveBuyingOptionIndex:function(a){a||(a=p);return l[a]},getActiveTab:function(){return p}}});"use strict";p.when("A","comparison-plans-state","price-block-messaging-constants","po-compare-plans-actions").register("price-block-message-actions",function(b,e,f,k){function g(e,f){b.hide(f.find(c.PRICE_BLOCK_ALERT_SUCCESS));d(e,f);h(a.CLEAR,f)}function d(a,
d){var e=d.find(c.PRICE_BLOCK_AMOUNT_PREFIX_ID),f=d.find(c.PRICE_BLOCK_AMOUNT_ID),g=d.find(c.PRICE_BLOCK_AMOUNT_SUFFIX_ID),h=d.find(c.PRICE_BLOCK_INNER_AMOUNT);b.hide(d.find(c.PREVIOUS_OPTION_ITEM_APPLICABILITY_MESSAGE));b.show(d.find(c.OPTION_SELECTION_MESSAGE));b.hide(e);b.hide(f);b.hide(g);b.hide(h);g.html(a.regularPriceBlockFragment);b.show(g);if(a=a.highlightedPriceBlockFragment)f.html(a.amountDisplayString),b.show(f),a.prefix&&(e.html(a.prefix),b.show(e)),b.show(h)}function h(d,e){d===a.CLEAR?
(b.hide(e.find(c.COMPARE_PLAN_LINK_SELECTED)),b.show(e.find(c.COMPARE_PLAN_LINK_UNSELECTED))):d===a.SELECT&&(b.hide(e.find(c.COMPARE_PLAN_LINK_UNSELECTED)),b.show(e.find(c.COMPARE_PLAN_LINK_SELECTED)))}var c=f.selector,l=f.actionData,p={updatePriceBlockMessageWithSelectedOption:function(e,f){b.hide(c.PRICE_BLOCK_ALERT);b.show(f.find(c.PRICE_BLOCK_ALERT_SUCCESS));d(e,f);h(a.SELECT,f)},resetPriceBlockMessageWithTopEligibleOffer:function(a){var b=a.find(c.COMPARE_PLAN_LINK).find(c.DECLARATIVE_CLASS).data(l.COMPARE_PLAN_V2_ACTION_DATA).buyingOptionIndex,
b=k.getTopEnabledOfferDataInComparisonTable(b).optionNotSelectedString;p.hideErrorMessage(a);g(b,a)},updatePriceBlockMessageWithNotSelectedOption:g,showErrorMessage:function(d,e,f,g){b.hide(e.find(c.PRICE_BLOCK_ALERT_SUCCESS));b.hide(e.find(c.PRICE_BLOCK_STRING));b.show(e.find(c.PRICE_BLOCK_ALERT_ERROR));var k=e.find(c.PRICE_BLOCK_ERROR_STRING_ID);d=k.data(d);if(g)for(var l in g)g[l]&&(d=d.replace(l,g[l]));k.html(d);b.show(e.find(c.PRICE_BLOCK_ERROR_CONTAINER));g=e.find(c.COMPARE_PLAN_LINK);h(a.SELECT,
e);f?b.show(g):b.hide(g)},hideErrorMessage:function(a){b.hide(a.find(c.PRICE_BLOCK_ALERT_ERROR));b.hide(a.find(c.PRICE_BLOCK_ERROR_CONTAINER));b.show(a.find(c.PRICE_BLOCK_STRING));b.show(a.find(c.PRICE_BLOCK_ALERT_SUCCESS));b.show(a.find(c.COMPARE_PLAN_LINK))}},a={SELECT:"select",CLEAR:"clear"};return p});"use strict";p.when("A","a-modal","payment-options-opt-out-state","price-block-messaging-constants","payment-options-client-side-metric","ready").execute("payment-options-modal",function(b,e,f,k,
g){var d={};b.declarative("open-priceblock-change-plan-modal","click",function(b){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:Link:Click");var c="priceblock-change-plan-modal-"+b.data.buyingOptionIndex;Object.hasOwn(d,c)||(d[c]=e.create(b.$target,{header:b.data.optOutModalHeader,name:c,dataStrategy:"preload",width:484}));d[c].show()});b.declarative("priceblock-change-plan-modal-cancel-button","click",function(b){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:CancelButton:Click");
d["priceblock-change-plan-modal-"+b.data.buyingOptionIndex].hide()});b.declarative("priceblock-change-plan-modal-continue-button","click",function(h){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:ContinueButton:Click");h=f.paymentOptionOptOutSelected.changePlanEventData;for(var c=Object.keys(d),l=0;l<c.length;++l){var p=c[l];e.remove(p);delete d[p]}f.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet=!0;c=b.copy(h);c.data.paymentOptionSelectButtonId=k.ONE_TIME_PAYMENT_OPTION_ID;
b.trigger("a:declarative:price-block-otp-action:click",c);h=b.copy(h);b.trigger("a:declarative:price-block-compare-plans:click",h)})});"use strict";p.when("A","a-modal","price-block-messaging-constants","compare-plan-row-height-updater","ready").register("compare-plan-modal",function(b,e,f,k){var g=b.$;b.on("PageRefresh:ATF",function(){for(var b=g('[id^\x3d"compare-plan-modal-"]').length,f=0;f<b;f++){var c="compare_plan_"+f;null!==e.get(c)&&e.remove(c)}});return{showModal:function(d){var g=d.data.buyingOptionIndex,
c="compare_plan_"+g,l=e.get(c);if(!b.isListening(f.selector.COMPARE_PLAN_AFTER_SHOW+c))b.on(f.selector.COMPARE_PLAN_AFTER_SHOW+c,function(){k.updateRowHeight("#comparison-table-"+g)});null!==l?l.update({height:860<=v.innerHeight?770:v.innerHeight-90}):(l=d.data.numberOfPaymentOptions,l=e.create(d.$target,{name:c,dataStrategy:"preload",padding:"none",width:2>=Number(l)?530:Math.min(218*l+96,1180),height:860<=v.innerHeight?770:v.innerHeight-90,header:d.data.comparisonTableHeaderText}));l.show()},hideModal:function(b){(b=
e.get("compare_plan_"+b))&&b.hide()},updateModalHeader:function(b,f){(b=e.get("compare_plan_"+b))&&b.update({header:f})}}});"use strict";p.when("A","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-landing-page-events",function(b,e,f){b.declarative("acquisition-offer-see-details","click",function(b){f.incrementWithValuePriceBlockMessaging(e.metrics.ACQUISITION_OFFER_SEE_DETAILS_BUTTON_CLICK,1);try{var g=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).bannerDetailsPageUrl;
v.open(g,"_blank")}catch(d){f.incrementWithValue("AcquisitionOffer:Desktop:LandingPageUrlParsingError",1)}});b.declarative("acquisition-offer-learn-more","click",function(b){f.incrementWithValuePriceBlockMessaging(e.metrics.ACQUISITION_OFFER_LEARN_MORE_CLICK,1);try{var g=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).learnMoreUrl;v.open(g,"_blank")}catch(d){f.incrementWithValue("AcquisitionOffer:Desktop:LearnMoreUrlParsingError",1)}})});"use strict";p.when("A","price-block-messaging-constants",
"payment-options-client-side-metric","comparison-plans-actions").register("checkbox-price-block-actions",function(b,e,f,k){function g(b){h(c.CHECKBOX_PRICE_BLOCK).data(c.CHECKBOX_PRICE_BLOCK_DATA_KEY,b)}function d(b){h(c.CHECKBOX_PRICE_BLOCK).data(c.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY,b)}var h=b.$,c=e.selector,l=e.actionData;return{getComparePlansV1SelectedOfferButtonId:function(){var b=c.COMPARE_PLAN_OFFER_BUTTON_ID_PREFIX,a=h(c.CHECKBOX_PRICE_BLOCK).data(c.CHECKBOX_PRICE_BLOCK_DATA_KEY);
a||(a=b+"01",g(a));return a},getComparePlansV2SelectedOfferButtonId:function(){var b=h(c.CHECKBOX_PRICE_BLOCK).data(c.CHECKBOX_PRICE_BLOCK_DATA_KEY);b||(b=c.CHECKBOX_PRICE_BLOCK_INITIAL_CP2_BUTTON,g(b));return b},getOptionNotSelectedString:function(){return h(c.CHECKBOX_PRICE_BLOCK).data(c.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY)},updateCheckboxPriceblockData:g,updateCheckboxPriceblockOptionNotSelectedString:d,updateCheckboxWithTopOffer:function(b){b=b.find(c.COMPARE_PLAN_LINK).find(c.DECLARATIVE_CLASS).data(l.COMPARE_PLAN_LINK_ACTION_DATA).buyingOptionIndex;
b=k.getTopEnabledOfferDataInComparisonTable(b);g(e.ID_PREFIX+b.paymentOptionSelectButtonId);d(b.optionNotSelectedString)},markCheckboxPriceblock:function(){document.getElementById(c.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!0},unmarkCheckboxPriceblock:function(){document.getElementById(c.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!1},triggerCheckboxSelectedActions:function(c,a){b.defer(function(){h(c).click();h(a).click()})},triggerCheckboxUnCheckedActions:function(b){h(b).click()},hasCheckboxPriceblock:function(){return h(c.CHECKBOX_PRICE_BLOCK).length}}})});
/* ******** */
(function(d){var f=window.AmazonUIPageJS||window.P,g=f._namespace||f.attributeErrors,b=g?g("DetailPageLoyaltyRewardPointsEarningsAssets",""):f;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,f,g){d.when("A","a-modal","earnings-bottom-sheet-aapi-util").register("diamonds-earnings-modal",function(b,d,e){function f(a){var c=JSON.stringify({domain:a.currencyType,marketplaceId:a.marketplaceId,balanceTypes:[k.PRIMARY],consistencyType:k.CONSISTENCY_TYPE});e.getAAPIProductData(a.aapiEndpoint,
a.csrfToken,a.language,c).done(function(a){a=g(a,k.PRIMARY);b.$(h.ajaxTextPointsDiv).text(parseInt(a).toLocaleString("en-US"));b.$(h.earningsSheetContentSpinner).addClass("aok-hidden");b.$(h.earningsBottomSheetContent).removeClass("aok-hidden")})}function g(a,b){return a&&a.entity&&a.entity.balances?(a=a.entity.balances.find(function(a,c){return a.balanceType===b}))?a.amount:0:0}var k=Object.freeze({PRIMARY:"PRIMARY",LIFETIME_EARNINGS:"LIFETIME_EARNINGS",CONSISTENCY_TYPE:"STRICT"}),c=Object.freeze({MODAL_NAME:"diamonds-earnings-modal-content",
WIDTH:"390",PADDING:"none",HIDE_HEADER:!0,CLOSE_TYPE:"icon"}),h={earningsBottomSheetContent:".earnings-sheet-content",ajaxTextPointsDiv:".earningsPointsBalance",earningsSheetContentSpinner:".earnings-bottom-sheet-spinner"};b.declarative("diamonds-earnings-modal","click",function(a){var e;if(e=d.get(c.MODAL_NAME)||d.create(a.$target,{name:c.MODAL_NAME,height:c.HEIGHT,width:c.WIDTH,padding:c.PADDING,hideHeader:c.HIDE_HEADER,closeType:c.CLOSE_TYPE}))b.$(h.earningsSheetContentSpinner).removeClass("aok-hidden"),
b.$(h.earningsBottomSheetContent).addClass("aok-hidden"),e.show(),f(a.data)})});"use strict";d.when("A").register("earnings-bottom-sheet-aapi-util",function(b){var d=b.$,e=document.querySelector('meta[name\x3d"encrypted-slate-token"]'),e=e?e.content:e;return{getAAPIProductData:function(b,f,g,c){return d.ajax({url:"https://"+b+"/custom/marbleserviceaapicontracts/marblesservice-getbalances-aapi",type:"POST",headers:{Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.response/v1"',
"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.request/v1"',"x-api-csrf-token":f,"Accept-Language":g,"x-amzn-encrypted-slate-token":e},data:c,xhrFields:{withCredentials:!0}})}}})});
/* ******** */
(function(g){var k=window.AmazonUIPageJS||window.P,m=k._namespace||k.attributeErrors,b=m?m("DetailPageLoyaltyRewardPointsRedemptionAssets",""):k;b.guardFatal?b.guardFatal(g)(b,window):b.execute(function(){g(b,window)})})(function(g,k,m){var b=Object.freeze({PRIMARY:"PRIMARY",LIFETIME_EARNINGS:"LIFETIME_EARNINGS",CONSISTENCY_TYPE:"STRICT"}),l=Object.freeze({MODAL_NAME:"diamonds-redemption-modal-content",WIDTH:"395",PADDING:"none",HIDE_HEADER:!0,CLOSE_TYPE:"icon"});g.when("A","a-modal","redemption-bottom-sheet-aapi-util").register("redemption-bottom-sheet",
function(n,k,h){function m(f){function q(a,c){return a&&a.entity&&a.entity.balances?(a=a.entity.balances.find(function(a,e){return a.balanceType===c}))?a.amount:0:0}function r(a,d){if(a>=d)e(c.progressBarContents).addClass("aok-hidden");else{var b=a/d*100;g.when("a-meter").execute(function(){n.$(c.progressBar).find(".a-meter-bar")["0"].attributes["1"].nodeValue="width: "+b+"%;background-color: #008296; margin-left: -6%;";e(c.progressBarContents).removeClass("aok-hidden")})}}var d=f.data,p;p||(p=k.create(f.$target,
{name:l.MODAL_NAME,height:l.HEIGHT,width:l.WIDTH,padding:l.PADDING,hideHeader:l.HIDE_HEADER,closeType:l.CLOSE_TYPE}));e(c.redemptionSheetContentSpinnerClass).removeClass("aok-hidden");e(c.redemptionBottomSheetContentClass).addClass("aok-hidden");p.show();f=JSON.stringify({domain:d.currencyType,marketplaceId:d.marketplaceId,balanceTypes:[b.PRIMARY,b.LIFETIME_EARNINGS],consistencyType:b.CONSISTENCY_TYPE});h.getAAPIProductData(d.aapiEndpoint,d.csrfToken,d.language,f).done(function(a){var f=q(a,b.PRIMARY);
e(c.ajaxTextPointsDivClass).text(parseInt(f).toLocaleString(d.language));e(c.redemptionSheetContentSpinnerClass).addClass("aok-hidden");e(c.redemptionBottomSheetContentClass).removeClass("aok-hidden");d.lifetimeBalanceEnabled&&(a=q(a,b.LIFETIME_EARNINGS),f=parseInt(d.minimumLifetimeBalanceThreshold),e(c.remainingDiamondsTextDiv).text(parseInt(f-a).toLocaleString(d.language)),e(c.diamondsCollected).text(parseInt(a).toLocaleString(d.language)),e(c.minimumLifetimeBalanceRequired).text(parseInt(d.minimumLifetimeBalanceThreshold).toLocaleString(d.language)),
r(a,f))})}var e=n.$,c={redemptionBottomSheetContentClass:".redemption-bottom-sheet-container-class",ajaxTextPointsDivClass:".redemptionPointsTextDivClass",redemptionSheetContentSpinnerClass:".redemption-bottom-sheet-spinner-class",remainingDiamondsTextDiv:"#remainingDiamondsToCollect",diamondsCollected:"#diamondsCollectedNumerator",progressBarContents:"#progressBarContents",progressBar:"#progress-bar-bottom-sheet",minimumLifetimeBalanceRequired:"#diamondsCollectedDenominator"};n.declarative("diamonds-redemption-modal",
"click",function(c){m(c)})});"use strict";g.when("A").register("redemption-bottom-sheet-aapi-util",function(b){var g=b.$,h=document.querySelector('meta[name\x3d"encrypted-slate-token"]'),h=h?h.content:h;return{getAAPIProductData:function(b,e,c,f){return g.ajax({url:"https://"+b+"/custom/marbleserviceaapicontracts/marblesservice-getbalances-aapi",type:"POST",headers:{Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.response/v1"',
"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.request/v1"',"x-api-csrf-token":e,"Accept-Language":c,"x-amzn-encrypted-slate-token":h},data:f,xhrFields:{withCredentials:!0}})}}})});
/* ******** */
